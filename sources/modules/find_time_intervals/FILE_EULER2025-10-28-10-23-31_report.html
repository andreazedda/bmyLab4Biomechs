<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biomechanics Signal Analysis Report</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js" charset="utf-8"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            color: #333;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        .header h1 { font-size: 2.5em; margin-bottom: 10px; }
        .header .subtitle { font-size: 1.1em; opacity: 0.9; }
        .content { padding: 40px; }
        
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        .summary-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .summary-card h3 { font-size: 0.9em; text-transform: uppercase; opacity: 0.9; margin-bottom: 10px; }
        .summary-card .value { font-size: 2em; font-weight: bold; }
        
        .section {
            margin-bottom: 40px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
        }
        .section-header {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 25px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: bold;
            font-size: 1.2em;
        }
        .section-header:hover { background: linear-gradient(90deg, #764ba2 0%, #667eea 100%); }
        .section-content { padding: 25px; background: #fafafa; }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .comparison-table thead { background: #667eea; color: white; }
        .comparison-table th, .comparison-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        .comparison-table tr:hover { background: #f5f5f5; }
        .comparison-table .metric-name { font-weight: bold; color: #667eea; }
        .comparison-table .original { background: #fff3cd; }
        .comparison-table .filtered { background: #d4edda; }
        .improvement { color: #28a745; font-weight: bold; }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .stat-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .stat-item .label { color: #666; font-size: 0.9em; margin-bottom: 5px; }
        .stat-item .value { font-size: 1.3em; font-weight: bold; color: #333; }
        
        .plot-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .plot-container {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .plot-container img { width: 100%; border-radius: 5px; }
        .plot-title { font-weight: bold; color: #667eea; margin-bottom: 10px; text-align: center; }
        
        .correlation-matrix {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
        }
        .corr-item {
            background: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .corr-item .axes { font-size: 1.1em; color: #667eea; font-weight: bold; }
        .corr-item .value { font-size: 2em; font-weight: bold; margin: 10px 0; }
        .corr-item .lag { font-size: 0.9em; color: #666; }
        
        .badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
            margin: 5px;
        }
        .badge-success { background: #d4edda; color: #155724; }
        .badge-warning { background: #fff3cd; color: #856404; }
        .badge-info { background: #d1ecf1; color: #0c5460; }
        
        @media print {
            body { background: white; }
            .section-content { display: block !important; }
        }
        
        /* Global expand/collapse button */
        .global-controls {
            position: sticky;
            top: 20px;
            z-index: 1000;
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
        }
        .global-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            transition: all 0.3s ease;
        }
        .global-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }
        .global-btn:active {
            transform: translateY(0);
        }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>üî¨ Biomechanics Signal Analysis Report</h1>
        <p class="subtitle">Advanced Statistical Analysis with Noise Filtering</p>
        <p class="subtitle">FILE_EULER2025-10-28-10-23-31.txt</p>
    </div>
    
    <div class="content">
        <!-- Global expand/collapse controls -->
        <div class="global-controls">
            <button class="global-btn" onclick="expandAll()">üìÇ Expand All Sections</button>
            <button class="global-btn" onclick="collapseAll()">üìÅ Collapse All Sections</button>
        </div>
        
        <!-- Summary Cards -->
        <div class="summary-grid">
            <div class="summary-card">
                <h3>üìä Total Samples</h3>
                <div class="value">27,112</div>
            </div>
            <div class="summary-card">
                <h3>‚è±Ô∏è Duration</h3>
                <div class="value">39.04 s</div>
            </div>
            <div class="summary-card">
                <h3>üìà Sampling Rate</h3>
                <div class="value">694.4 Hz</div>
            </div>
            <div class="summary-card">
                <h3>üîß Filter Window</h3>
                <div class="value">271 samples</div>
            </div>
        </div>
        
        <!-- Introduction & Methodology -->
        <div class="section">
            <div class="section-header" onclick="this.nextElementSibling.style.display=this.nextElementSibling.style.display=='none'?'block':'none'">
                <span>üìñ Introduction & Methodology</span>
                <span>‚ñº</span>
            </div>
            <div class="section-content" style="display: block;">
                <div style="padding: 20px; line-height: 1.8;">
                    <h3 style="color: #667eea; margin-bottom: 15px;">üéØ Analysis Overview</h3>
                    <p style="margin-bottom: 15px;">
                        This report presents a <strong>comprehensive biomechanical analysis</strong> of movement patterns 
                        captured via smartphone IMU sensors. The analysis pipeline processes raw 3D Euler angles 
                        (pitch, roll, yaw) through multiple stages of signal processing, statistical analysis, 
                        and biomechanical interpretation.
                    </p>
                    
                    <h3 style="color: #667eea; margin: 25px 0 15px 0;">üî¨ Analysis Pipeline</h3>
                    <div style="background: #f8f9fa; padding: 15px; border-left: 4px solid #667eea; border-radius: 5px; margin-bottom: 15px;">
                        <ol style="margin-left: 20px;">
                            <li style="margin-bottom: 10px;"><strong>Data Acquisition</strong>: Raw IMU data from Android sensors (100 Hz nominal)</li>
                            <li style="margin-bottom: 10px;"><strong>Resampling</strong>: Uniform time intervals via linear interpolation</li>
                            <li style="margin-bottom: 10px;"><strong>Noise Filtering</strong>: Moving average filter to remove high-frequency noise</li>
                            <li style="margin-bottom: 10px;"><strong>PCA</strong>: Principal Component Analysis to identify dominant movement axis</li>
                            <li style="margin-bottom: 10px;"><strong>Phase Detection</strong>: Automatic segmentation into movement phases (eccentric, concentric, holds)</li>
                            <li style="margin-bottom: 10px;"><strong>Repetition Detection</strong>: Identification of exercise repetitions with quality validation</li>
                            <li style="margin-bottom: 10px;"><strong>Temporal Analysis</strong>: 50 temporal parameters across 7 categories</li>
                            <li style="margin-bottom: 10px;"><strong>Quality Assessment</strong>: Multi-criteria validation (ROM, phases, cyclicity)</li>
                        </ol>
                    </div>
                    
                    <h3 style="color: #667eea; margin: 25px 0 15px 0;">üìä Key Metrics Explained</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 20px;">
                        <div style="background: #e7f3ff; padding: 15px; border-radius: 8px;">
                            <h4 style="color: #0066cc; margin-bottom: 10px;">üîÑ Cycles vs Repetitions</h4>
                            <p style="font-size: 0.9em;">
                                <strong>Cycles</strong>: Mathematical detection of periodic patterns in the signal (peak-to-peak).<br>
                                <strong>Repetitions</strong>: Biomechanically valid exercise movements with proper phase sequences.
                                Not all cycles are valid repetitions!
                            </p>
                        </div>
                        
                        <div style="background: #fff3e0; padding: 15px; border-radius: 8px;">
                            <h4 style="color: #ff6f00; margin-bottom: 10px;">üìè Range of Motion (ROM)</h4>
                            <p style="font-size: 0.9em;">
                                Angular displacement between maximum and minimum angles during a repetition.
                                Higher ROM indicates deeper movement. Suspicious if ROM < 50% of median (possible partial rep or detection error).
                            </p>
                        </div>
                        
                        <div style="background: #f3e5f5; padding: 15px; border-radius: 8px;">
                            <h4 style="color: #6a1b9a; margin-bottom: 10px;">‚è±Ô∏è Temporal Parameters</h4>
                            <p style="font-size: 0.9em;">
                                <strong>Eccentric</strong>: Muscle lengthening (descent in squat)<br>
                                <strong>Concentric</strong>: Muscle shortening (ascent in squat)<br>
                                <strong>Holds</strong>: Isometric phases (bottom/top pauses)<br>
                                <strong>Density Ratio</strong>: Work time / Total time (higher = more continuous)
                            </p>
                        </div>
                        
                        <div style="background: #e8f5e9; padding: 15px; border-radius: 8px;">
                            <h4 style="color: #2e7d32; margin-bottom: 10px;">‚úì Validation Criteria</h4>
                            <p style="font-size: 0.9em;">
                                <strong>Phase Sequence</strong>: Must contain ascending AND descending phases<br>
                                <strong>Cyclicity</strong>: Must return to start angle within ¬±20¬∞ tolerance<br>
                                <strong>ROM Threshold</strong>: Must exceed 50% of median ROM
                            </p>
                        </div>
                    </div>
                    
                    <h3 style="color: #667eea; margin: 25px 0 15px 0;">üìà Trend Interpretation</h3>
                    <div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; border-radius: 5px;">
                        <p style="margin-bottom: 10px;"><strong>Positive Trends (+)</strong>:</p>
                        <ul style="margin-left: 20px; margin-bottom: 15px;">
                            <li>Eccentric/Concentric: Progressive slowing ‚Üí Fatigue accumulation</li>
                            <li>Holds: Increasing rest periods ‚Üí Compensatory strategy</li>
                            <li>Rep Duration: Overall slowing ‚Üí General fatigue</li>
                        </ul>
                        <p style="margin-bottom: 10px;"><strong>Negative Trends (-):</strong></p>
                        <ul style="margin-left: 20px;">
                            <li>Eccentric/Concentric: Progressive speeding ‚Üí Learning effect or reduced control</li>
                            <li>Holds: Decreasing rest ‚Üí Pacing strategy or motivation</li>
                            <li>ROM: Decreasing range ‚Üí Fatigue or pain compensation</li>
                        </ul>
                    </div>
                    
                    <h3 style="color: #667eea; margin: 25px 0 15px 0;">üéØ How to Use This Report</h3>
                    <div style="background: #d1ecf1; padding: 15px; border-radius: 5px; border-left: 4px solid #17a2b8;">
                        <ol style="margin-left: 20px;">
                            <li style="margin-bottom: 8px;"><strong>Review Summary Cards</strong>: Get overall session metrics at a glance</li>
                            <li style="margin-bottom: 8px;"><strong>Check PCA Results</strong>: Identify which axis captures the main movement (typically pitch for squats)</li>
                            <li style="margin-bottom: 8px;"><strong>Examine Repetition Analysis</strong>: Focus on filtered signals (ang*_filtered) for best accuracy</li>
                            <li style="margin-bottom: 8px;"><strong>Validate Quality</strong>: Check suspicious/invalid reps and validation reasons</li>
                            <li style="margin-bottom: 8px;"><strong>Analyze Temporal Patterns</strong>: Look for fatigue indicators in trends and variances</li>
                            <li style="margin-bottom: 8px;"><strong>Compare Across Sessions</strong>: Use Excel export for quantitative comparisons</li>
                        </ol>
                    </div>
                    
                    <div style="background: #e3f2fd; padding: 15px; border-radius: 5px; margin-top: 20px;">
                        <h4 style="color: #1976d2; margin-bottom: 10px;">üí° Pro Tips</h4>
                        <ul style="margin-left: 20px; font-size: 0.9em;">
                            <li style="margin-bottom: 8px;">‚úÖ <strong>Filtered signals</strong> are more reliable than original (noise-reduced)</li>
                            <li style="margin-bottom: 8px;">‚úÖ <strong>ANG_PRINCIPAL</strong> (PC1) often provides the clearest movement representation</li>
                            <li style="margin-bottom: 8px;">‚úÖ <strong>CV < 15%</strong> indicates excellent consistency</li>
                            <li style="margin-bottom: 8px;">‚úÖ <strong>Density ratio > 70%</strong> indicates continuous execution (good for hypertrophy)</li>
                            <li style="margin-bottom: 8px;">‚úÖ <strong>Excel export</strong> enables easy comparison across training sessions</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Sampling Quality -->
        <div class="section">
            <div class="section-header" onclick="this.nextElementSibling.style.display=this.nextElementSibling.style.display=='none'?'block':'none'">
                <span>‚è±Ô∏è Sampling Quality Diagnostics</span>
                <span>‚ñº</span>
            </div>
            <div class="section-content">
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Œît</div>
                        <div class="value">1.440 ms</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Dev Œît</div>
                        <div class="value">0.728 ms</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min Œît</div>
                        <div class="value">1.000 ms</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Max Œît</div>
                        <div class="value">15.000 ms</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Sampling Gaps (>3ms)</div>
                        <div class="value">391</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- PCA Analysis -->
        <div class="section">
            <div class="section-header" onclick="this.nextElementSibling.style.display=this.nextElementSibling.style.display=='none'?'block':'none'">
                <span>üß¨ Principal Component Analysis (PCA)</span>
                <span>‚ñº</span>
            </div>
            <div class="section-content">
                <div style="background: #e3f2fd; padding: 15px; border-radius: 5px; margin-bottom: 20px; border-left: 4px solid #1976d2;">
                    <h4 style="color: #1976d2; margin-bottom: 10px;">üìê What is PCA?</h4>
                    <p style="margin-bottom: 10px; line-height: 1.6;">
                        <strong>Principal Component Analysis</strong> identifies the <em>dominant direction of movement</em> 
                        from the 3D Euler angles (ANG1, ANG2, ANG3). The <strong>first principal component (PC1)</strong> 
                        captures the axis with the most variance - typically the primary exercise movement.
                    </p>
                    <p style="margin-bottom: 10px; line-height: 1.6;">
                        <strong>Why it matters</strong>: For squats, PC1 usually corresponds to the pitch axis (forward/backward tilt), 
                        with >80% explained variance indicating a clean, unidirectional movement pattern.
                    </p>
                    <p style="line-height: 1.6;">
                        <strong>Loadings</strong>: Show contribution of each original axis to PC1. 
                        High absolute loading (>0.8) means that axis dominates the movement.
                    </p>
                </div>
                
                <h3>Explained Variance</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">PC1 (Primary Motion)</div>
                        <div class="value">80.5%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">PC2</div>
                        <div class="value">18.8%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">PC3</div>
                        <div class="value">0.7%</div>
                    </div>
                </div>
                <h3 style="margin-top: 20px;">PC1 Loadings (ang1, ang2, ang3)</h3>
                <p style="font-size: 1.2em; text-align: center; margin: 15px 0;">
                    <span class="badge badge-info">+0.002</span>
                    <span class="badge badge-info">+0.034</span>
                    <span class="badge badge-info">+0.999</span>
                </p>
            </div>
        </div>
        
        <!-- Noise Filtering Summary -->
        <div class="section">
            <div class="section-header" onclick="this.nextElementSibling.style.display=this.nextElementSibling.style.display=='none'?'block':'none'">
                <span>üîß Noise Filtering Summary</span>
                <span>‚ñº</span>
            </div>
            <div class="section-content">
                <p><strong>Filter Type:</strong> Moving Average (Convolution-based)</p>
                <p><strong>Window Size:</strong> 271 samples (~390.3 ms)</p>
                <p><strong>Purpose:</strong> Remove high-frequency noise while preserving biomechanical frequencies (0.1-5 Hz)</p>
                
                <h3 style="margin-top: 20px;">Noise Reduction Effectiveness</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Axis</th>
                            <th>Original Noise (¬∞)</th>
                            <th>Filtered Noise (¬∞)</th>
                            <th>Reduction</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="metric-name">ANG1</td>
                            <td class="original">0.2935</td>
                            <td class="filtered">0.0342</td>
                            <td class="improvement">88.4%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">ANG2</td>
                            <td class="original">0.5151</td>
                            <td class="filtered">0.0202</td>
                            <td class="improvement">96.1%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">ANG3</td>
                            <td class="original">0.6002</td>
                            <td class="filtered">0.0504</td>
                            <td class="improvement">91.6%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- ANG1 Statistics -->
        <div class="section">
            <div class="section-header original" onclick="this.nextElementSibling.style.display=this.nextElementSibling.style.display=='none'?'block':'none'">
                <span>üìä ANG1 <span class="badge badge-info">üìã ORIGINAL</span></span>
                <span>‚ñº</span>
            </div>
            <div class="section-content">
                
                <!-- INTERACTIVE PLOTLY GRAPH EMBEDDED -->
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; margin-bottom: 25px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    <h4 style="margin: 0 0 10px 0; display: flex; align-items: center;">
                        <span style="font-size: 1.5em; margin-right: 10px;">üîç</span>
                        Interactive Signal Exploration
                    </h4>
                    <p style="margin: 0 0 15px 0; line-height: 1.6; opacity: 0.95; font-size: 0.95em;">
                        Hover over the plot to see precise values ‚Ä¢ Zoom by dragging ‚Ä¢ Double-click to reset
                    </p>
                </div>
                <!-- Embed interactive plot using iframe -->
                <iframe src="interactive_ang1.html" width="100%" height="500" frameborder="0" style="border: 1px solid #e0e0e0; border-radius: 8px; margin-bottom: 20px;"></iframe>
                
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean</div>
                        <div class="value">-83.27¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Median</div>
                        <div class="value">-83.11¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Dev</div>
                        <div class="value">2.07¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range</div>
                        <div class="value">38.31¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min / Max</div>
                        <div class="value">-110.58¬∞ / -72.27¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Skewness</div>
                        <div class="value">-1.90</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Kurtosis</div>
                        <div class="value">12.11</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">SNR-like Index</div>
                        <div class="value">23.67</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Dynamic Range (5-95%)</div>
                        <div class="value">6.95¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Noise Estimate</div>
                        <div class="value">0.2935¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Stationary</div>
                        <div class="value">‚úì Yes</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Linear Trend</div>
                        <div class="value">-0.0206 ¬∞/s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Peaks / Troughs</div>
                        <div class="value">751 / 751</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Dominant Frequency</div>
                        <div class="value">0.0256 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Period</div>
                        <div class="value">39.04 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">ACF Periodicity</div>
                        <div class="value">1 samples</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">Sliding Window Analysis (2.0s window, 0.5s step)</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Std of Window Means</div>
                        <div class="value">0.87¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std of Window Stds</div>
                        <div class="value">0.84¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Window Std</div>
                        <div class="value">1.24¬∞</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üîÑ Cycle-Level Metrics</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Total Cycles</div>
                        <div class="value">51</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Duration</div>
                        <div class="value">0.765 s (CV=67.7%)</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Amplitude</div>
                        <div class="value">7.20¬∞ (CV=74.8%)</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Trend Duration/Cycle</div>
                        <div class="value">-0.0044 s/cycle</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Trend Amplitude/Cycle</div>
                        <div class="value">+0.1834 ¬∞/cycle</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üìç Phase Statistics</h3>
                
                <div style="background: #fff3e0; padding: 15px; border-radius: 5px; margin-bottom: 15px; border-left: 4px solid #ff6f00;">
                    <h4 style="color: #ff6f00; margin-bottom: 10px;">üîÑ Understanding Movement Phases</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; font-size: 0.9em;">
                        <div>
                            <strong>üîº Ascending</strong> (Concentric)<br>
                            <span style="opacity: 0.8;">Upward motion, muscle shortening. E.g., rising from squat bottom.</span>
                        </div>
                        <div>
                            <strong>üîΩ Descending</strong> (Eccentric)<br>
                            <span style="opacity: 0.8;">Downward motion, muscle lengthening. E.g., lowering into squat.</span>
                        </div>
                        <div>
                            <strong>üüß Stable High</strong> (Top Hold)<br>
                            <span style="opacity: 0.8;">Isometric hold in standing position between reps.</span>
                        </div>
                        <div>
                            <strong>üü¶ Stable Low</strong> (Bottom Hold)<br>
                            <span style="opacity: 0.8;">Isometric hold at bottom position (pause squats).</span>
                        </div>
                    </div>
                    <p style="margin-top: 10px; font-size: 0.85em; opacity: 0.9;">
                        <strong>CV (Coefficient of Variation)</strong>: Measures consistency. Lower values = more consistent timing across phases.
                    </p>
                </div>
                
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Phase Type</th>
                            <th>Count</th>
                            <th>Mean Duration</th>
                            <th>CV</th>
                            <th>Total Time</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="metric-name">üîº Ascending</td>
                            <td>5</td>
                            <td>0.180 s</td>
                            <td>77.3%</td>
                            <td>0.9 s</td>
                        </tr>
                        <tr>
                            <td class="metric-name">üîΩ Descending</td>
                            <td>6</td>
                            <td>0.100 s</td>
                            <td>67.2%</td>
                            <td>0.6 s</td>
                        </tr>
                        <tr>
                            <td class="metric-name">üüß Stable High (standing)</td>
                            <td>25</td>
                            <td>0.892 s</td>
                            <td>42.9%</td>
                            <td>22.3 s</td>
                        </tr>
                        <tr>
                            <td class="metric-name">üü¶ Stable Low (bottom)</td>
                            <td>14</td>
                            <td>1.033 s</td>
                            <td>50.9%</td>
                            <td>14.5 s</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3 style="margin-top: 30px;">üèãÔ∏è Exercise Repetition Analysis</h3>
                
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin: 20px 0;">
                    <h4 style="margin: 0 0 15px 0; font-size: 1.2em;">üìä Summary</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Total Repetitions</div>
                            <div style="font-size: 2em; font-weight: bold;">12</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Detection Threshold</div>
                            <div style="font-size: 1.5em; font-weight: bold;">1.39¬∞</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Consistency Score</div>
                            <div style="font-size: 1.5em; font-weight: bold;">62.1/100</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">‚ö†Ô∏è Suspicious Reps</div>
                            <div style="font-size: 1.5em; font-weight: bold;">12</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">üìè Median ROM</div>
                            <div style="font-size: 1.5em; font-weight: bold;">10.13¬∞</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">üéØ ROM Threshold (50%)</div>
                            <div style="font-size: 1.5em; font-weight: bold;">5.06¬∞</div>
                        </div>
                    </div>
                </div>

                <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 5px solid #2196f3;">
                    <h4 style="color: #1976d2; margin-bottom: 15px;">üìä Comparison: Base Analysis vs Advanced Filtering</h4>
                    <table class="comparison-table" style="margin-bottom: 15px;">
                        <thead>
                            <tr>
                                <th>Metric</th>
                                <th>Base Analysis</th>
                                <th>Advanced Analysis</th>
                                <th>Difference</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="metric-name">Total Repetitions Detected</td>
                                <td><strong>12</strong></td>
                                <td><strong>0</strong></td>
                                <td><span class="badge badge-warning">-12 (0.0%)</span></td>
                            </tr>
                            <tr>
                                <td class="metric-name">Filtering Applied</td>
                                <td><span class="badge badge-info">Prominence + Phase Detection</span></td>
                                <td><span class="badge badge-success">ROM Threshold + Outliers + First/Last</span></td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td class="metric-name">Mean ROM</td>
                                <td>11.05¬∞</td>
                                <td>0.00¬∞</td>
                                <td>-11.05¬∞</td>
                            </tr>
                            <tr>
                                <td class="metric-name">ROM CV (Consistency)</td>
                                <td>72.9%</td>
                                <td>N/A</td>
                                <td>N/A</td>
                            </tr>
                            <tr>
                                <td class="metric-name">Suspicious Reps</td>
                                <td><span class="badge badge-warning">12 reps</span></td>
                                <td><span class="badge badge-success">Filtered out</span></td>
                                <td>-12 cleaned</td>
                            </tr>
                        </tbody>
                    </table>
                    <p style="margin: 10px 0 0 0; color: #424242; font-size: 0.9em;">
                        <strong>üí° Interpretation:</strong> Advanced analysis applies stricter quality filters to remove half-reps, 
                        statistical outliers, and adjustment phases (first/last reps). This typically results in fewer but 
                        more biomechanically valid repetitions with better consistency metrics.
                    </p>
                </div>

                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; margin: 25px 0; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    <h4 style="margin: 0 0 15px 0; display: flex; align-items: center;">
                        <span style="font-size: 1.5em; margin-right: 10px;">üîç</span>
                        Criteri di Validazione delle Ripetizioni
                    </h4>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üìä 1. Range of Motion (ROM)</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione √® considerata <strong>sospetta per ROM</strong> se:<br>
                            ‚Ä¢ ROM &lt; 50% della mediana di tutte le ripetizioni<br>
                            ‚Ä¢ Esempio: Se mediana ROM = 22.87¬∞, la soglia √® 11.4¬∞<br>
                            ‚Ä¢ <em>Motivo</em>: Ripetizioni troppo piccole potrebbero essere artefatti o movimenti incompleti
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üîÑ 2. Sequenza di Fasi</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione <strong>valida</strong> deve contenere:<br>
                            ‚Ä¢ Almeno una fase di <strong style="color: #4ade80;">ASCESA</strong> (ascending)<br>
                            ‚Ä¢ Almeno una fase di <strong style="color: #f87171;">DISCESA</strong> (descending)<br>
                            ‚Ä¢ <em>Motivo</em>: Un esercizio completo richiede movimento bidirezionale (es: squat = scendi + sali)
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üîÅ 3. Ciclicit√† (Ritorno all'Origine)</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione √® <strong>ciclica</strong> se:<br>
                            ‚Ä¢ Il <strong>punto pi√π alto DOPO</strong> il minimo ritorna entro <strong>¬±20¬∞</strong> dal <strong>punto pi√π alto PRIMA</strong> del minimo<br>
                            ‚Ä¢ Calcolo: <code style="background: rgba(0,0,0,0.3); padding: 2px 6px; border-radius: 4px;">Œîangle = |max_dopo - max_prima|</code><br>
                            ‚Ä¢ Esempio: Durante uno squat, se parti da -115¬∞ (in piedi), scendi a -136¬∞ (gi√π), e risali a -125¬∞ (in piedi) ‚Üí Œî = 10¬∞ ‚úì<br>
                            ‚Ä¢ <strong>Nota importante</strong>: Si confrontano le posizioni erette (massimi), non i punti intermedi tra ripetizioni<br>
                            ‚Ä¢ <em>Motivo</em>: Tolleranza di ¬±20¬∞ per tenere conto di drift naturale, fatica e variabilit√† umana nell'esecuzione
                        </p>
                    </div>
                    <div style="margin-top: 15px; padding: 12px; background: rgba(255,255,255,0.15); border-left: 4px solid #fbbf24; border-radius: 4px;">
                        <strong>‚ö†Ô∏è Nota:</strong> Una ripetizione pu√≤ essere marcata "suspicious" per uno o pi√π criteri. 
                        I motivi specifici sono indicati nella colonna "Quality".
                    </div>
                </div>
                
                <h4 style="margin-top: 25px;">üìã Per-Repetition Metrics</h4>
                <div style="overflow-x: auto;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Time (s)</th>
                            <th>Duration (s)</th>
                            <th>Range (¬∞)</th>
                            <th>Depth (¬∞)</th>
                            <th>Quality</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">1</td>
                            <td>0.25</td>
                            <td>1.73</td>
                            <td>16.83</td>
                            <td>-98.92</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=True, has_desc=False)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">2</td>
                            <td>3.22</td>
                            <td>3.86</td>
                            <td>2.41</td>
                            <td>-85.07</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=False)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">3</td>
                            <td>7.97</td>
                            <td>4.03</td>
                            <td>4.47</td>
                            <td>-85.08</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=False)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">4</td>
                            <td>11.29</td>
                            <td>3.03</td>
                            <td>2.86</td>
                            <td>-83.80</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=False)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">5</td>
                            <td>14.04</td>
                            <td>3.19</td>
                            <td>4.27</td>
                            <td>-83.81</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=True)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">6</td>
                            <td>17.68</td>
                            <td>2.87</td>
                            <td>7.86</td>
                            <td>-86.88</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=False)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">7</td>
                            <td>19.79</td>
                            <td>2.92</td>
                            <td>12.40</td>
                            <td>-88.61</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=True, has_desc=False)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">8</td>
                            <td>23.52</td>
                            <td>3.80</td>
                            <td>14.10</td>
                            <td>-90.17</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=True)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">9</td>
                            <td>27.38</td>
                            <td>3.86</td>
                            <td>13.41</td>
                            <td>-90.64</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=True, has_desc=False)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">10</td>
                            <td>31.25</td>
                            <td>3.89</td>
                            <td>19.21</td>
                            <td>-91.48</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=True)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">11</td>
                            <td>35.17</td>
                            <td>3.63</td>
                            <td>4.36</td>
                            <td>-84.81</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=False)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">12</td>
                            <td>38.50</td>
                            <td>2.20</td>
                            <td>30.41</td>
                            <td>-110.58</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=True)</span></td>
                        </tr>
                    </tbody>
                </table>
                </div>

                <h4 style="margin-top: 25px;">‚è±Ô∏è Timing Analysis</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Interval</div>
                        <div class="value">3.48 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Deviation</div>
                        <div class="value">0.70 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min/Max Interval</div>
                        <div class="value">2.11 / 4.75 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Timing CV</div>
                        <div class="value">20.2%</div>
                    </div>
                </div>

                <h4 style="margin-top: 25px;">üìè Range of Motion Analysis</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Range</div>
                        <div class="value">11.05¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Deviation</div>
                        <div class="value">8.41¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min/Max Range</div>
                        <div class="value">2.41 / 30.41¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range Consistency (CV)</div>
                        <div class="value">72.9%</div>
                    </div>
                </div>

                <h4 style="margin-top: 25px;">‚≠ê Performance Quality</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Overall Consistency</div>
                        <div class="value">62.1/100</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range Consistency</div>
                        <div class="value">72.9%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Timing Consistency</div>
                        <div class="value">19.2%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Tempo Consistency</div>
                        <div class="value">21.6%</div>
                    </div>
                </div>
                
                <div style="background: #ffc107; color: white; padding: 15px; border-radius: 8px; margin: 20px 0;">
                    <h5 style="margin: 0 0 10px 0;">üéØ Fatigue Indicator</h5>
                    <p style="margin: 0; font-size: 1.1em;"><strong>INCREASING RANGE</strong></p>
                    <p style="margin: 5px 0 0 0; opacity: 0.9;">+1.248¬∞/rep</p>
                </div>
                
                <h4 style="margin-top: 25px;">üéØ Derived Metrics</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Average Rep Frequency</div>
                        <div class="value">0.2876 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Seconds per Rep</div>
                        <div class="value">3.48 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Exercise Duration</div>
                        <div class="value">38.25 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Work Density</div>
                        <div class="value">18.8 reps/min</div>
                    </div>
                </div>

                <h4 style="margin-top: 30px;">‚è±Ô∏è Detailed Temporal Parameters (50 Parameters)</h4>
                
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin: 15px 0;">
                    <h4 style="margin: 0 0 15px 0; font-size: 1.2em;">üìä Complete Temporal Analysis</h4>
                    <p style="margin: 0 0 15px 0; line-height: 1.6;">
                        This section presents a <strong>comprehensive temporal analysis</strong> of your exercise execution,
                        breaking down each repetition into its constituent phases and analyzing timing patterns, 
                        consistency, and trends throughout the session.
                    </p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; font-size: 0.9em;">
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìã Per-Repetition</strong><br>
                            8 params √ó 12 reps<br>
                            <span style="opacity: 0.9;">Phase timings + percentages</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üåç Global Timing</strong><br>
                            4 parameters<br>
                            <span style="opacity: 0.9;">Frequency, density, cycles</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìà Session Totals</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Cumulative work & rest</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìä Variances</strong><br>
                            16 parameters<br>
                            <span style="opacity: 0.9;">Consistency metrics (CV)</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üîÑ Regularity</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Duration stability</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>‚ö†Ô∏è Outliers</strong><br>
                            4 parameters<br>
                            <span style="opacity: 0.9;">Unusual timing patterns</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìà Trends</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Fatigue indicators</span>
                        </div>
                    </div>
                </div>
                
                <!-- B. Global Timing Parameters -->
                <h5 style="margin-top: 20px; color: #667eea;">üìä Global Timing Parameters</h5>
                <div style="background: #f8f9fa; padding: 10px; border-radius: 5px; margin-bottom: 10px; font-size: 0.9em;">
                    <strong>Cycle Time</strong>: Time from start of one rep to start of next (includes work + rest). 
                    <strong>Density Ratio</strong>: Proportion of time spent in active work (ecc+conc) vs total time.
                    Higher density = more continuous training stimulus.
                </div>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Rep Duration</div>
                        <div class="value">3.25 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Time</div>
                        <div class="value">3.48 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Execution Frequency</div>
                        <div class="value">0.288 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Density Ratio</div>
                        <div class="value">4.7%</div>
                    </div>
                </div>
                
                <!-- C. Session Total Times -->
                <h5 style="margin-top: 20px; color: #667eea;">üìà Session Total Times</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Total Eccentric Time</div>
                        <div class="value">0.60 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Concentric Time</div>
                        <div class="value">0.90 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Bottom Hold</div>
                        <div class="value">14.46 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Top Hold</div>
                        <div class="value">22.30 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Work Time</div>
                        <div class="value">1.50 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Pause Time</div>
                        <div class="value">36.75 s</div>
                    </div>
                </div>
                
                <!-- D. Temporal Variances -->
                <h5 style="margin-top: 20px; color: #667eea;">üìä Temporal Variances (Coefficient of Variation)</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Eccentric CV</div>
                        <div class="value">47.1%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Concentric CV</div>
                        <div class="value">61.9%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Bottom Hold CV</div>
                        <div class="value">60.1%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Top Hold CV</div>
                        <div class="value">38.2%</div>
                    </div>
                </div>
                
                <!-- E. Regularity & Continuity -->
                <h5 style="margin-top: 20px; color: #667eea;">üîÑ Regularity & Continuity</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Rep Duration CV</div>
                        <div class="value">21.6%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Rep Duration Range</div>
                        <div class="value">2.30 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time CV</div>
                        <div class="value">19.2%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time Range</div>
                        <div class="value">2.64 s</div>
                    </div>
                </div>
                
                <!-- F. Temporal Outliers -->
                <h5 style="margin-top: 20px; color: #667eea;">‚ö†Ô∏è Temporal Outliers</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Slow Eccentric Reps</div>
                        <div class="value">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Fast Concentric Reps</div>
                        <div class="value">1</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Excessive Bottom Holds</div>
                        <div class="value">2</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Excessive Top Holds</div>
                        <div class="value">7</div>
                    </div>
                </div>
                
                <!-- G. Longitudinal Trends -->
                <h5 style="margin-top: 20px; color: #667eea;">üìà Longitudinal Trends (s/rep)</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Eccentric Trend</div>
                        <div class="value" style="color: #28a745">+0.0087 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Concentric Trend</div>
                        <div class="value" style="color: #dc3545">-0.0087 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Bottom Hold Trend</div>
                        <div class="value" style="color: #dc3545">-0.0537 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Top Hold Trend</div>
                        <div class="value" style="color: #28a745">+0.0709 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Rep Duration Trend</div>
                        <div class="value" style="color: #28a745">+0.0285 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time Trend</div>
                        <div class="value" style="color: #28a745">+0.0223 s/rep</div>
                    </div>
                </div>
                
                <!-- TEMPORAL EVOLUTION PLOTS -->
                <h5 style="margin-top: 25px; color: #667eea;">üìà Temporal Evolution Across Repetitions</h5>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <p style="margin: 0 0 10px 0; color: #424242; line-height: 1.6;">
                        <strong>Visual Analysis:</strong> The following plots show how timing metrics evolve throughout your exercise session.
                        Orange dashed lines indicate trends - positive slopes suggest fatigue (slowing down), negative slopes indicate adaptation or pacing strategy.
                    </p>
                    <div style="text-align: center;">
                        <img src="temporal_evolution_ang1.png" alt="Temporal Evolution" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    </div>
                </div>
                
                <!-- A. Per-Repetition Details Table -->
                <h5 style="margin-top: 25px; color: #667eea;">üìã Per-Repetition Timing Breakdown</h5>
                <div style="overflow-x: auto;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Eccentric (s)</th>
                            <th>Concentric (s)</th>
                            <th>Bottom Hold (s)</th>
                            <th>Top Hold (s)</th>
                            <th>Total (s)</th>
                            <th>Ecc %</th>
                            <th>Con %</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="metric-name">1</td>
                            <td>0.000</td>
                            <td>0.428</td>
                            <td>1.056</td>
                            <td>0.000</td>
                            <td><strong>1.731</strong></td>
                            <td>0.0%</td>
                            <td>24.7%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">2</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>3.858</td>
                            <td>0.000</td>
                            <td><strong>3.857</strong></td>
                            <td>0.0%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">3</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>2.402</td>
                            <td>1.633</td>
                            <td><strong>4.034</strong></td>
                            <td>0.0%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">4</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>0.471</td>
                            <td>2.565</td>
                            <td><strong>3.034</strong></td>
                            <td>0.0%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">5</td>
                            <td>0.210</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>2.985</td>
                            <td><strong>3.194</strong></td>
                            <td>6.6%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">6</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>2.873</td>
                            <td><strong>2.872</strong></td>
                            <td>0.0%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">7</td>
                            <td>0.000</td>
                            <td>0.037</td>
                            <td>0.000</td>
                            <td>2.888</td>
                            <td><strong>2.924</strong></td>
                            <td>0.0%</td>
                            <td>1.3%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">8</td>
                            <td>0.039</td>
                            <td>0.000</td>
                            <td>0.831</td>
                            <td>2.929</td>
                            <td><strong>3.798</strong></td>
                            <td>1.0%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">9</td>
                            <td>0.000</td>
                            <td>0.436</td>
                            <td>1.371</td>
                            <td>2.052</td>
                            <td><strong>3.858</strong></td>
                            <td>0.0%</td>
                            <td>11.3%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">10</td>
                            <td>0.212</td>
                            <td>0.000</td>
                            <td>1.105</td>
                            <td>2.579</td>
                            <td><strong>3.894</strong></td>
                            <td>5.4%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">11</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>1.964</td>
                            <td>1.663</td>
                            <td><strong>3.626</strong></td>
                            <td>0.0%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">12</td>
                            <td>0.138</td>
                            <td>0.000</td>
                            <td>1.400</td>
                            <td>0.127</td>
                            <td><strong>2.205</strong></td>
                            <td>6.3%</td>
                            <td>0.0%</td>
                        </tr>
                    </tbody>
                </table>
                </div>

                <h4 style="margin-top: 30px; color: #dc3545;">‚ö†Ô∏è Phase Validation Results</h4>
                <div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; border-radius: 5px; margin: 15px 0;">
                    <p style="margin: 0 0 10px 0;"><strong>‚ö†Ô∏è 12 repetitions failed phase sequence validation</strong></p>
                    <p style="margin: 0; font-size: 0.9em; opacity: 0.8;">These repetitions lack proper ascending+descending sequence or cyclic behavior (return to start angle).</p>
                </div>
                
                <div style="overflow-x: auto; margin-top: 15px;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Failure Reason</th>
                            <th>Phase Sequence</th>
                            <th>Start Angle (¬∞)</th>
                            <th>End Angle (¬∞)</th>
                            <th>Œî Angle (¬∞)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#1</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=True, has_desc=False)</td>
                            <td style="font-size: 0.85em;">ascending ‚Üí stable_low</td>
                            <td>-89.5</td>
                            <td>-85.5</td>
                            <td><strong>4.0¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#2</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_low</td>
                            <td>-83.8</td>
                            <td>-83.5</td>
                            <td><strong>0.4¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#3</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_low ‚Üí stable_high ‚Üí stable_low</td>
                            <td>-82.4</td>
                            <td>-83.2</td>
                            <td><strong>0.8¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#4</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_low ‚Üí stable_high</td>
                            <td>-81.4</td>
                            <td>-81.9</td>
                            <td><strong>0.5¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#5</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=True)</td>
                            <td style="font-size: 0.85em;">stable_high ‚Üí descending ‚Üí stable_high ‚Üí descending ‚Üí stable_high</td>
                            <td>-82.3</td>
                            <td>-81.8</td>
                            <td><strong>0.5¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#6</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_high</td>
                            <td>-80.6</td>
                            <td>-82.5</td>
                            <td><strong>1.9¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#7</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=True, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_high ‚Üí ascending ‚Üí stable_high</td>
                            <td>-78.6</td>
                            <td>-76.2</td>
                            <td><strong>2.4¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#8</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=True)</td>
                            <td style="font-size: 0.85em;">stable_high ‚Üí descending ‚Üí stable_high ‚Üí stable_low ‚Üí stable_high</td>
                            <td>-76.1</td>
                            <td>-79.0</td>
                            <td><strong>2.9¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#9</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=True, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_high ‚Üí ascending ‚Üí stable_high ‚Üí ascending ‚Üí stable_low ‚Üí ascending ‚Üí stable_high</td>
                            <td>-78.4</td>
                            <td>-77.6</td>
                            <td><strong>0.8¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#10</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=True)</td>
                            <td style="font-size: 0.85em;">stable_high ‚Üí descending ‚Üí stable_high ‚Üí stable_low</td>
                            <td>-78.6</td>
                            <td>-77.3</td>
                            <td><strong>1.3¬∞</strong></td>
                        </tr>
                    </tbody>
                </table>
                </div>
                
                <div style="background: #d1ecf1; border-left: 4px solid #17a2b8; padding: 15px; border-radius: 5px; margin: 20px 0;">
                    <h5 style="margin: 0 0 10px 0;">‚ÑπÔ∏è Validation Criteria</h5>
                    <ul style="margin: 5px 0; padding-left: 20px; font-size: 0.9em;">
                        <li><strong>Phase Sequence:</strong> Must contain BOTH ascending AND descending phases (stable phases allowed)</li>
                        <li><strong>Cyclic Behavior:</strong> Signal must return to starting angle within ¬±20¬∞ tolerance</li>
                        <li><strong>Standing Recovery:</strong> Validates proper exercise execution and position recovery (¬±20¬∞ accounts for natural drift and fatigue)</li>
                    </ul>
                </div>

                <div style="margin-top: 50px; padding: 30px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 15px; box-shadow: 0 8px 20px rgba(0,0,0,0.15);">
                    <h3 style="margin: 0 0 20px 0; color: white; font-size: 1.5em;">üöÄ ADVANCED REPETITION ANALYSIS (Production-Ready)</h3>
                    <div style="background: rgba(255,255,255,0.95); padding: 25px; border-radius: 10px;">
                        
                        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 25px;">
                            <h4 style="margin: 0 0 15px 0;">üéØ Key Improvements</h4>
                            <ul style="margin: 0; padding-left: 20px;">
                                <li><strong>Butterworth Filter:</strong> Zero-phase low-pass (10Hz cutoff) preserves signal shape</li>
                                <li><strong>ROM Threshold:</strong> Excludes half-reps and invalid movements</li>
                                <li><strong>Outlier Detection:</strong> IQR method removes statistical anomalies</li>
                                <li><strong>First/Last Exclusion:</strong> Removes adjustment and overshoot phases</li>
                                <li><strong>R¬≤ Validation:</strong> Fatigue trend trusted only if R¬≤ > 0.5</li>
                            </ul>
                        </div>
                        
                        <h4>üìã Filtering Statistics</h4>
                        <table class="comparison-table" style="margin-bottom: 25px;">
                            <thead>
                                <tr>
                                    <th>Metric</th>
                                    <th>Value</th>
                                    <th>Impact</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="metric-name">Total Detected (Before Filtering)</td>
                                    <td>13</td>
                                    <td><span class="badge badge-info">Baseline</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">ROM Threshold Applied</td>
                                    <td>2.8¬∞</td>
                                    <td><span class="badge badge-warning">1 removed</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">First/Last Reps Removed</td>
                                    <td>Yes</td>
                                    <td><span class="badge badge-warning">2 removed</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">Statistical Outliers Removed</td>
                                    <td>0</td>
                                    <td><span class="badge badge-success">Clean</span></td>
                                </tr>
                                <tr style="background: #e8f5e9;">
                                    <td class="metric-name"><strong>Valid Reps After Filtering</strong></td>
                                    <td><strong>0</strong></td>
                                    <td><span class="badge badge-success">0.0% retained</span></td>
                                </tr>
                            </tbody>
                        </table>

                        <div style="background: #fff3cd; padding: 20px; border-radius: 10px; border-left: 5px solid #ffc107;">
                            <h5 style="margin: 0 0 10px 0; color: #856404;">‚ö†Ô∏è No Valid Repetitions After Filtering</h5>
                            <p style="margin: 0; color: #856404;">
                                All detected repetitions were filtered out due to:
                                <ul style="margin: 10px 0 0 0; padding-left: 20px;">
                                    <li>ROM below threshold</li>
                                    <li>Statistical outliers (too far from median)</li>
                                    <li>First/last reps excluded (adjustment phase)</li>
                                </ul>
                                <strong>Suggestion:</strong> Review signal quality or lower ROM threshold for this exercise type.
                            </p>
                        </div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üìä Visualization</h3>

                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                    <h4 style="margin: 0 0 10px 0; font-size: 1.1em;">üéØ COMPLETE TIME-SERIES OVERVIEW</h4>
                    <p style="margin: 0; font-size: 0.95em; opacity: 0.95;">
                        Full recording with all detected regions and repetitions. 
                        <strong>Top panel:</strong> Phase regions (ascending/descending/stable_high/stable_low).
                        <strong>Bottom panel:</strong> All detected repetitions with suspicious markers.
                    </p>
                </div>
                <div class="plot-container" style="grid-column: 1 / -1; margin-bottom: 30px;">
                    <img src="overview_complete_ang1.png" alt="Complete Overview" style="width: 100%; max-width: 100%;">
                </div>
                
                <h4 style="margin-top: 20px; color: #666;">Detailed Analysis Plots</h4>
                <div class="plot-grid">
                    <div class="plot-container">
                        <div class="plot-title">Autocorrelation</div>
                        <img src="autocorr_ang1.png" alt="Autocorrelation">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">Frequency Spectrum</div>
                        <img src="spectrum_ang1.png" alt="Spectrum">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">Spectrogram (Time-Frequency)</div>
                        <img src="spectrogram_ang1.png" alt="Spectrogram">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">üìç Phase Detection (Ascending/Descending/Stable High/Low)</div>
                        <img src="phases_ang1.png" alt="Phase Detection">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">üèãÔ∏è Repetition Detection (Valleys & ROM)</div>
                        <img src="repetitions_ang1.png" alt="Repetitions">
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ANG2 Statistics -->
        <div class="section">
            <div class="section-header original" onclick="this.nextElementSibling.style.display=this.nextElementSibling.style.display=='none'?'block':'none'">
                <span>üìä ANG2 <span class="badge badge-info">üìã ORIGINAL</span></span>
                <span>‚ñº</span>
            </div>
            <div class="section-content">
                
                <!-- INTERACTIVE PLOTLY GRAPH EMBEDDED -->
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; margin-bottom: 25px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    <h4 style="margin: 0 0 10px 0; display: flex; align-items: center;">
                        <span style="font-size: 1.5em; margin-right: 10px;">üîç</span>
                        Interactive Signal Exploration
                    </h4>
                    <p style="margin: 0 0 15px 0; line-height: 1.6; opacity: 0.95; font-size: 0.95em;">
                        Hover over the plot to see precise values ‚Ä¢ Zoom by dragging ‚Ä¢ Double-click to reset
                    </p>
                </div>
                <!-- Embed interactive plot using iframe -->
                <iframe src="interactive_ang2.html" width="100%" height="500" frameborder="0" style="border: 1px solid #e0e0e0; border-radius: 8px; margin-bottom: 20px;"></iframe>
                
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean</div>
                        <div class="value">-2.13¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Median</div>
                        <div class="value">-1.84¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Dev</div>
                        <div class="value">4.71¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range</div>
                        <div class="value">50.75¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min / Max</div>
                        <div class="value">-33.44¬∞ / 17.31¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Skewness</div>
                        <div class="value">-0.98</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Kurtosis</div>
                        <div class="value">4.08</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">SNR-like Index</div>
                        <div class="value">30.99</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Dynamic Range (5-95%)</div>
                        <div class="value">15.96¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Noise Estimate</div>
                        <div class="value">0.5151¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Stationary</div>
                        <div class="value">‚úì Yes</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Linear Trend</div>
                        <div class="value">-0.0149 ¬∞/s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Peaks / Troughs</div>
                        <div class="value">497 / 497</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Dominant Frequency</div>
                        <div class="value">0.0256 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Period</div>
                        <div class="value">39.04 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">ACF Periodicity</div>
                        <div class="value">1 samples</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">Sliding Window Analysis (2.0s window, 0.5s step)</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Std of Window Means</div>
                        <div class="value">2.06¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std of Window Stds</div>
                        <div class="value">1.30¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Window Std</div>
                        <div class="value">3.34¬∞</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üîÑ Cycle-Level Metrics</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Total Cycles</div>
                        <div class="value">59</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Duration</div>
                        <div class="value">0.665 s (CV=64.0%)</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Amplitude</div>
                        <div class="value">15.09¬∞ (CV=47.7%)</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Trend Duration/Cycle</div>
                        <div class="value">-0.0000 s/cycle</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Trend Amplitude/Cycle</div>
                        <div class="value">+0.0432 ¬∞/cycle</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üìç Phase Statistics</h3>
                
                <div style="background: #fff3e0; padding: 15px; border-radius: 5px; margin-bottom: 15px; border-left: 4px solid #ff6f00;">
                    <h4 style="color: #ff6f00; margin-bottom: 10px;">üîÑ Understanding Movement Phases</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; font-size: 0.9em;">
                        <div>
                            <strong>üîº Ascending</strong> (Concentric)<br>
                            <span style="opacity: 0.8;">Upward motion, muscle shortening. E.g., rising from squat bottom.</span>
                        </div>
                        <div>
                            <strong>üîΩ Descending</strong> (Eccentric)<br>
                            <span style="opacity: 0.8;">Downward motion, muscle lengthening. E.g., lowering into squat.</span>
                        </div>
                        <div>
                            <strong>üüß Stable High</strong> (Top Hold)<br>
                            <span style="opacity: 0.8;">Isometric hold in standing position between reps.</span>
                        </div>
                        <div>
                            <strong>üü¶ Stable Low</strong> (Bottom Hold)<br>
                            <span style="opacity: 0.8;">Isometric hold at bottom position (pause squats).</span>
                        </div>
                    </div>
                    <p style="margin-top: 10px; font-size: 0.85em; opacity: 0.9;">
                        <strong>CV (Coefficient of Variation)</strong>: Measures consistency. Lower values = more consistent timing across phases.
                    </p>
                </div>
                
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Phase Type</th>
                            <th>Count</th>
                            <th>Mean Duration</th>
                            <th>CV</th>
                            <th>Total Time</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="metric-name">üîº Ascending</td>
                            <td>12</td>
                            <td>0.384 s</td>
                            <td>85.7%</td>
                            <td>4.6 s</td>
                        </tr>
                        <tr>
                            <td class="metric-name">üîΩ Descending</td>
                            <td>15</td>
                            <td>0.380 s</td>
                            <td>74.2%</td>
                            <td>5.7 s</td>
                        </tr>
                        <tr>
                            <td class="metric-name">üüß Stable High (standing)</td>
                            <td>19</td>
                            <td>0.911 s</td>
                            <td>42.0%</td>
                            <td>17.3 s</td>
                        </tr>
                        <tr>
                            <td class="metric-name">üü¶ Stable Low (bottom)</td>
                            <td>12</td>
                            <td>0.913 s</td>
                            <td>34.3%</td>
                            <td>11.0 s</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3 style="margin-top: 30px;">üèãÔ∏è Exercise Repetition Analysis</h3>
                
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin: 20px 0;">
                    <h4 style="margin: 0 0 15px 0; font-size: 1.2em;">üìä Summary</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Total Repetitions</div>
                            <div style="font-size: 2em; font-weight: bold;">13</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Detection Threshold</div>
                            <div style="font-size: 1.5em; font-weight: bold;">3.19¬∞</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Consistency Score</div>
                            <div style="font-size: 1.5em; font-weight: bold;">72.1/100</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">‚ö†Ô∏è Suspicious Reps</div>
                            <div style="font-size: 1.5em; font-weight: bold;">6</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">üìè Median ROM</div>
                            <div style="font-size: 1.5em; font-weight: bold;">20.86¬∞</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">üéØ ROM Threshold (50%)</div>
                            <div style="font-size: 1.5em; font-weight: bold;">10.43¬∞</div>
                        </div>
                    </div>
                </div>

                <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 5px solid #2196f3;">
                    <h4 style="color: #1976d2; margin-bottom: 15px;">üìä Comparison: Base Analysis vs Advanced Filtering</h4>
                    <table class="comparison-table" style="margin-bottom: 15px;">
                        <thead>
                            <tr>
                                <th>Metric</th>
                                <th>Base Analysis</th>
                                <th>Advanced Analysis</th>
                                <th>Difference</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="metric-name">Total Repetitions Detected</td>
                                <td><strong>13</strong></td>
                                <td><strong>7</strong></td>
                                <td><span class="badge badge-warning">-6 (53.8%)</span></td>
                            </tr>
                            <tr>
                                <td class="metric-name">Filtering Applied</td>
                                <td><span class="badge badge-info">Prominence + Phase Detection</span></td>
                                <td><span class="badge badge-success">ROM Threshold + Outliers + First/Last</span></td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td class="metric-name">Mean ROM</td>
                                <td>21.25¬∞</td>
                                <td>14.54¬∞</td>
                                <td>-6.71¬∞</td>
                            </tr>
                            <tr>
                                <td class="metric-name">ROM CV (Consistency)</td>
                                <td>42.2%</td>
                                <td>35.0%</td>
                                <td>-7.3%</td>
                            </tr>
                            <tr>
                                <td class="metric-name">Suspicious Reps</td>
                                <td><span class="badge badge-warning">6 reps</span></td>
                                <td><span class="badge badge-success">Filtered out</span></td>
                                <td>-6 cleaned</td>
                            </tr>
                        </tbody>
                    </table>
                    <p style="margin: 10px 0 0 0; color: #424242; font-size: 0.9em;">
                        <strong>üí° Interpretation:</strong> Advanced analysis applies stricter quality filters to remove half-reps, 
                        statistical outliers, and adjustment phases (first/last reps). This typically results in fewer but 
                        more biomechanically valid repetitions with better consistency metrics.
                    </p>
                </div>

                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; margin: 25px 0; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    <h4 style="margin: 0 0 15px 0; display: flex; align-items: center;">
                        <span style="font-size: 1.5em; margin-right: 10px;">üîç</span>
                        Criteri di Validazione delle Ripetizioni
                    </h4>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üìä 1. Range of Motion (ROM)</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione √® considerata <strong>sospetta per ROM</strong> se:<br>
                            ‚Ä¢ ROM &lt; 50% della mediana di tutte le ripetizioni<br>
                            ‚Ä¢ Esempio: Se mediana ROM = 22.87¬∞, la soglia √® 11.4¬∞<br>
                            ‚Ä¢ <em>Motivo</em>: Ripetizioni troppo piccole potrebbero essere artefatti o movimenti incompleti
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üîÑ 2. Sequenza di Fasi</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione <strong>valida</strong> deve contenere:<br>
                            ‚Ä¢ Almeno una fase di <strong style="color: #4ade80;">ASCESA</strong> (ascending)<br>
                            ‚Ä¢ Almeno una fase di <strong style="color: #f87171;">DISCESA</strong> (descending)<br>
                            ‚Ä¢ <em>Motivo</em>: Un esercizio completo richiede movimento bidirezionale (es: squat = scendi + sali)
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üîÅ 3. Ciclicit√† (Ritorno all'Origine)</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione √® <strong>ciclica</strong> se:<br>
                            ‚Ä¢ Il <strong>punto pi√π alto DOPO</strong> il minimo ritorna entro <strong>¬±20¬∞</strong> dal <strong>punto pi√π alto PRIMA</strong> del minimo<br>
                            ‚Ä¢ Calcolo: <code style="background: rgba(0,0,0,0.3); padding: 2px 6px; border-radius: 4px;">Œîangle = |max_dopo - max_prima|</code><br>
                            ‚Ä¢ Esempio: Durante uno squat, se parti da -115¬∞ (in piedi), scendi a -136¬∞ (gi√π), e risali a -125¬∞ (in piedi) ‚Üí Œî = 10¬∞ ‚úì<br>
                            ‚Ä¢ <strong>Nota importante</strong>: Si confrontano le posizioni erette (massimi), non i punti intermedi tra ripetizioni<br>
                            ‚Ä¢ <em>Motivo</em>: Tolleranza di ¬±20¬∞ per tenere conto di drift naturale, fatica e variabilit√† umana nell'esecuzione
                        </p>
                    </div>
                    <div style="margin-top: 15px; padding: 12px; background: rgba(255,255,255,0.15); border-left: 4px solid #fbbf24; border-radius: 4px;">
                        <strong>‚ö†Ô∏è Nota:</strong> Una ripetizione pu√≤ essere marcata "suspicious" per uno o pi√π criteri. 
                        I motivi specifici sono indicati nella colonna "Quality".
                    </div>
                </div>
                
                <h4 style="margin-top: 25px;">üìã Per-Repetition Metrics</h4>
                <div style="overflow-x: auto;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Time (s)</th>
                            <th>Duration (s)</th>
                            <th>Range (¬∞)</th>
                            <th>Depth (¬∞)</th>
                            <th>Quality</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="metric-name">1</td>
                            <td>0.25</td>
                            <td>1.68</td>
                            <td>43.59</td>
                            <td>-33.44</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">2</td>
                            <td>3.12</td>
                            <td>2.57</td>
                            <td>11.85</td>
                            <td>-12.34</td>
                            <td><span class="badge badge-danger">Poor</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">3</td>
                            <td>5.39</td>
                            <td>2.40</td>
                            <td>7.85</td>
                            <td>-4.81</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=True)</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">4</td>
                            <td>7.92</td>
                            <td>2.95</td>
                            <td>24.19</td>
                            <td>-12.47</td>
                            <td><span class="badge badge-success">Good</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">5</td>
                            <td>11.29</td>
                            <td>3.06</td>
                            <td>20.86</td>
                            <td>-10.97</td>
                            <td><span class="badge badge-success">Good</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">6</td>
                            <td>14.04</td>
                            <td>3.19</td>
                            <td>9.95</td>
                            <td>-4.50</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=True, has_desc=False)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">7</td>
                            <td>17.68</td>
                            <td>2.87</td>
                            <td>17.75</td>
                            <td>-11.55</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=False)</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">8</td>
                            <td>19.79</td>
                            <td>2.92</td>
                            <td>19.20</td>
                            <td>-10.73</td>
                            <td><span class="badge badge-success">Good</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">9</td>
                            <td>23.52</td>
                            <td>3.80</td>
                            <td>22.72</td>
                            <td>-13.72</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">10</td>
                            <td>27.38</td>
                            <td>3.86</td>
                            <td>20.73</td>
                            <td>-12.58</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=True, has_desc=False)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">11</td>
                            <td>31.25</td>
                            <td>3.89</td>
                            <td>31.88</td>
                            <td>-14.57</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=True)</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">12</td>
                            <td>35.17</td>
                            <td>3.62</td>
                            <td>20.91</td>
                            <td>-10.82</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">13</td>
                            <td>38.49</td>
                            <td>2.21</td>
                            <td>24.77</td>
                            <td>-19.33</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=True)</span></td>
                        </tr>
                    </tbody>
                </table>
                </div>

                <h4 style="margin-top: 25px;">‚è±Ô∏è Timing Analysis</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Interval</div>
                        <div class="value">3.19 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Deviation</div>
                        <div class="value">0.66 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min/Max Interval</div>
                        <div class="value">2.11 / 3.93 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Timing CV</div>
                        <div class="value">20.6%</div>
                    </div>
                </div>

                <h4 style="margin-top: 25px;">üìè Range of Motion Analysis</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Range</div>
                        <div class="value">21.25¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Deviation</div>
                        <div class="value">9.34¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min/Max Range</div>
                        <div class="value">7.85 / 43.59¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range Consistency (CV)</div>
                        <div class="value">42.2%</div>
                    </div>
                </div>

                <h4 style="margin-top: 25px;">‚≠ê Performance Quality</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Overall Consistency</div>
                        <div class="value">72.1/100</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range Consistency</div>
                        <div class="value">42.2%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Timing Consistency</div>
                        <div class="value">19.7%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Tempo Consistency</div>
                        <div class="value">21.7%</div>
                    </div>
                </div>
                
                <div style="background: #28a745; color: white; padding: 15px; border-radius: 8px; margin: 20px 0;">
                    <h5 style="margin: 0 0 10px 0;">üéØ Fatigue Indicator</h5>
                    <p style="margin: 0; font-size: 1.1em;"><strong>STABLE</strong></p>
                    <p style="margin: 5px 0 0 0; opacity: 0.9;">+0.171¬∞/rep</p>
                </div>
                
                <h4 style="margin-top: 25px;">üéØ Derived Metrics</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Average Rep Frequency</div>
                        <div class="value">0.3138 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Seconds per Rep</div>
                        <div class="value">3.19 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Exercise Duration</div>
                        <div class="value">38.24 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Work Density</div>
                        <div class="value">20.4 reps/min</div>
                    </div>
                </div>

                <h4 style="margin-top: 30px;">‚è±Ô∏è Detailed Temporal Parameters (50 Parameters)</h4>
                
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin: 15px 0;">
                    <h4 style="margin: 0 0 15px 0; font-size: 1.2em;">üìä Complete Temporal Analysis</h4>
                    <p style="margin: 0 0 15px 0; line-height: 1.6;">
                        This section presents a <strong>comprehensive temporal analysis</strong> of your exercise execution,
                        breaking down each repetition into its constituent phases and analyzing timing patterns, 
                        consistency, and trends throughout the session.
                    </p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; font-size: 0.9em;">
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìã Per-Repetition</strong><br>
                            8 params √ó 13 reps<br>
                            <span style="opacity: 0.9;">Phase timings + percentages</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üåç Global Timing</strong><br>
                            4 parameters<br>
                            <span style="opacity: 0.9;">Frequency, density, cycles</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìà Session Totals</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Cumulative work & rest</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìä Variances</strong><br>
                            16 parameters<br>
                            <span style="opacity: 0.9;">Consistency metrics (CV)</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üîÑ Regularity</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Duration stability</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>‚ö†Ô∏è Outliers</strong><br>
                            4 parameters<br>
                            <span style="opacity: 0.9;">Unusual timing patterns</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìà Trends</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Fatigue indicators</span>
                        </div>
                    </div>
                </div>
                
                <!-- B. Global Timing Parameters -->
                <h5 style="margin-top: 20px; color: #667eea;">üìä Global Timing Parameters</h5>
                <div style="background: #f8f9fa; padding: 10px; border-radius: 5px; margin-bottom: 10px; font-size: 0.9em;">
                    <strong>Cycle Time</strong>: Time from start of one rep to start of next (includes work + rest). 
                    <strong>Density Ratio</strong>: Proportion of time spent in active work (ecc+conc) vs total time.
                    Higher density = more continuous training stimulus.
                </div>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Rep Duration</div>
                        <div class="value">3.00 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Time</div>
                        <div class="value">3.19 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Execution Frequency</div>
                        <div class="value">0.314 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Density Ratio</div>
                        <div class="value">28.7%</div>
                    </div>
                </div>
                
                <!-- C. Session Total Times -->
                <h5 style="margin-top: 20px; color: #667eea;">üìà Session Total Times</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Total Eccentric Time</div>
                        <div class="value">5.70 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Concentric Time</div>
                        <div class="value">4.61 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Bottom Hold</div>
                        <div class="value">10.96 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Top Hold</div>
                        <div class="value">17.31 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Work Time</div>
                        <div class="value">10.31 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Pause Time</div>
                        <div class="value">28.27 s</div>
                    </div>
                </div>
                
                <!-- D. Temporal Variances -->
                <h5 style="margin-top: 20px; color: #667eea;">üìä Temporal Variances (Coefficient of Variation)</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Eccentric CV</div>
                        <div class="value">77.5%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Concentric CV</div>
                        <div class="value">85.2%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Bottom Hold CV</div>
                        <div class="value">49.5%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Top Hold CV</div>
                        <div class="value">52.2%</div>
                    </div>
                </div>
                
                <!-- E. Regularity & Continuity -->
                <h5 style="margin-top: 20px; color: #667eea;">üîÑ Regularity & Continuity</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Rep Duration CV</div>
                        <div class="value">21.7%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Rep Duration Range</div>
                        <div class="value">2.21 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time CV</div>
                        <div class="value">19.7%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time Range</div>
                        <div class="value">1.82 s</div>
                    </div>
                </div>
                
                <!-- F. Temporal Outliers -->
                <h5 style="margin-top: 20px; color: #667eea;">‚ö†Ô∏è Temporal Outliers</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Slow Eccentric Reps</div>
                        <div class="value">1</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Fast Concentric Reps</div>
                        <div class="value">3</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Excessive Bottom Holds</div>
                        <div class="value">1</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Excessive Top Holds</div>
                        <div class="value">5</div>
                    </div>
                </div>
                
                <!-- G. Longitudinal Trends -->
                <h5 style="margin-top: 20px; color: #667eea;">üìà Longitudinal Trends (s/rep)</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Eccentric Trend</div>
                        <div class="value" style="color: #dc3545">-0.0406 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Concentric Trend</div>
                        <div class="value" style="color: #dc3545">-0.0276 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Bottom Hold Trend</div>
                        <div class="value" style="color: #28a745">+0.0769 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Top Hold Trend</div>
                        <div class="value" style="color: #28a745">+0.0934 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Rep Duration Trend</div>
                        <div class="value" style="color: #28a745">+0.1009 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time Trend</div>
                        <div class="value" style="color: #28a745">+0.1157 s/rep</div>
                    </div>
                </div>
                
                <!-- TEMPORAL EVOLUTION PLOTS -->
                <h5 style="margin-top: 25px; color: #667eea;">üìà Temporal Evolution Across Repetitions</h5>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <p style="margin: 0 0 10px 0; color: #424242; line-height: 1.6;">
                        <strong>Visual Analysis:</strong> The following plots show how timing metrics evolve throughout your exercise session.
                        Orange dashed lines indicate trends - positive slopes suggest fatigue (slowing down), negative slopes indicate adaptation or pacing strategy.
                    </p>
                    <div style="text-align: center;">
                        <img src="temporal_evolution_ang2.png" alt="Temporal Evolution" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    </div>
                </div>
                
                <!-- A. Per-Repetition Details Table -->
                <h5 style="margin-top: 25px; color: #667eea;">üìã Per-Repetition Timing Breakdown</h5>
                <div style="overflow-x: auto;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Eccentric (s)</th>
                            <th>Concentric (s)</th>
                            <th>Bottom Hold (s)</th>
                            <th>Top Hold (s)</th>
                            <th>Total (s)</th>
                            <th>Ecc %</th>
                            <th>Con %</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="metric-name">1</td>
                            <td>0.408</td>
                            <td>0.601</td>
                            <td>0.426</td>
                            <td>0.000</td>
                            <td><strong>1.682</strong></td>
                            <td>24.2%</td>
                            <td>35.7%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">2</td>
                            <td>0.781</td>
                            <td>0.318</td>
                            <td>1.469</td>
                            <td>0.000</td>
                            <td><strong>2.566</strong></td>
                            <td>30.4%</td>
                            <td>12.4%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">3</td>
                            <td>0.552</td>
                            <td>0.000</td>
                            <td>1.848</td>
                            <td>0.000</td>
                            <td><strong>2.398</strong></td>
                            <td>23.0%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">4</td>
                            <td>0.858</td>
                            <td>0.906</td>
                            <td>0.184</td>
                            <td>1.002</td>
                            <td><strong>2.949</strong></td>
                            <td>29.1%</td>
                            <td>30.7%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">5</td>
                            <td>1.658</td>
                            <td>1.367</td>
                            <td>0.000</td>
                            <td>0.035</td>
                            <td><strong>3.057</strong></td>
                            <td>54.2%</td>
                            <td>44.7%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">6</td>
                            <td>0.000</td>
                            <td>0.060</td>
                            <td>0.000</td>
                            <td>3.135</td>
                            <td><strong>3.194</strong></td>
                            <td>0.0%</td>
                            <td>1.9%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">7</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>2.875</td>
                            <td><strong>2.873</strong></td>
                            <td>0.0%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">8</td>
                            <td>0.059</td>
                            <td>0.037</td>
                            <td>0.000</td>
                            <td>2.828</td>
                            <td><strong>2.924</strong></td>
                            <td>2.0%</td>
                            <td>1.3%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">9</td>
                            <td>0.099</td>
                            <td>0.039</td>
                            <td>0.000</td>
                            <td>3.661</td>
                            <td><strong>3.798</strong></td>
                            <td>2.6%</td>
                            <td>1.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">10</td>
                            <td>0.000</td>
                            <td>0.421</td>
                            <td>1.380</td>
                            <td>2.059</td>
                            <td><strong>3.858</strong></td>
                            <td>0.0%</td>
                            <td>10.9%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">11</td>
                            <td>0.212</td>
                            <td>0.000</td>
                            <td>1.964</td>
                            <td>1.720</td>
                            <td><strong>3.894</strong></td>
                            <td>5.4%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">12</td>
                            <td>0.508</td>
                            <td>0.861</td>
                            <td>2.254</td>
                            <td>0.000</td>
                            <td><strong>3.622</strong></td>
                            <td>14.0%</td>
                            <td>23.8%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">13</td>
                            <td>0.569</td>
                            <td>0.000</td>
                            <td>1.430</td>
                            <td>0.000</td>
                            <td><strong>2.209</strong></td>
                            <td>25.7%</td>
                            <td>0.0%</td>
                        </tr>
                    </tbody>
                </table>
                </div>

                <h4 style="margin-top: 30px; color: #dc3545;">‚ö†Ô∏è Phase Validation Results</h4>
                <div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; border-radius: 5px; margin: 15px 0;">
                    <p style="margin: 0 0 10px 0;"><strong>‚ö†Ô∏è 6 repetitions failed phase sequence validation</strong></p>
                    <p style="margin: 0; font-size: 0.9em; opacity: 0.8;">These repetitions lack proper ascending+descending sequence or cyclic behavior (return to start angle).</p>
                </div>
                
                <div style="overflow-x: auto; margin-top: 15px;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Failure Reason</th>
                            <th>Phase Sequence</th>
                            <th>Start Angle (¬∞)</th>
                            <th>End Angle (¬∞)</th>
                            <th>Œî Angle (¬∞)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#3</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=True)</td>
                            <td style="font-size: 0.85em;">stable_low ‚Üí descending ‚Üí stable_low ‚Üí descending ‚Üí stable_low</td>
                            <td>-1.4</td>
                            <td>-1.2</td>
                            <td><strong>0.2¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#6</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=True, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_high ‚Üí ascending ‚Üí stable_high</td>
                            <td>1.8</td>
                            <td>5.4</td>
                            <td><strong>3.6¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#7</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_high</td>
                            <td>1.4</td>
                            <td>3.1</td>
                            <td><strong>1.8¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#10</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=True, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_high ‚Üí ascending ‚Üí stable_high ‚Üí ascending ‚Üí stable_low ‚Üí ascending ‚Üí stable_high</td>
                            <td>5.4</td>
                            <td>6.5</td>
                            <td><strong>1.1¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#11</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=True)</td>
                            <td style="font-size: 0.85em;">stable_high ‚Üí descending ‚Üí stable_low</td>
                            <td>4.4</td>
                            <td>6.8</td>
                            <td><strong>2.4¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#13</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=True)</td>
                            <td style="font-size: 0.85em;">descending ‚Üí stable_low ‚Üí descending</td>
                            <td>-8.0</td>
                            <td>-10.7</td>
                            <td><strong>2.7¬∞</strong></td>
                        </tr>
                    </tbody>
                </table>
                </div>
                
                <div style="background: #d1ecf1; border-left: 4px solid #17a2b8; padding: 15px; border-radius: 5px; margin: 20px 0;">
                    <h5 style="margin: 0 0 10px 0;">‚ÑπÔ∏è Validation Criteria</h5>
                    <ul style="margin: 5px 0; padding-left: 20px; font-size: 0.9em;">
                        <li><strong>Phase Sequence:</strong> Must contain BOTH ascending AND descending phases (stable phases allowed)</li>
                        <li><strong>Cyclic Behavior:</strong> Signal must return to starting angle within ¬±20¬∞ tolerance</li>
                        <li><strong>Standing Recovery:</strong> Validates proper exercise execution and position recovery (¬±20¬∞ accounts for natural drift and fatigue)</li>
                    </ul>
                </div>

                <div style="margin-top: 50px; padding: 30px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 15px; box-shadow: 0 8px 20px rgba(0,0,0,0.15);">
                    <h3 style="margin: 0 0 20px 0; color: white; font-size: 1.5em;">üöÄ ADVANCED REPETITION ANALYSIS (Production-Ready)</h3>
                    <div style="background: rgba(255,255,255,0.95); padding: 25px; border-radius: 10px;">
                        
                        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 25px;">
                            <h4 style="margin: 0 0 15px 0;">üéØ Key Improvements</h4>
                            <ul style="margin: 0; padding-left: 20px;">
                                <li><strong>Butterworth Filter:</strong> Zero-phase low-pass (10Hz cutoff) preserves signal shape</li>
                                <li><strong>ROM Threshold:</strong> Excludes half-reps and invalid movements</li>
                                <li><strong>Outlier Detection:</strong> IQR method removes statistical anomalies</li>
                                <li><strong>First/Last Exclusion:</strong> Removes adjustment and overshoot phases</li>
                                <li><strong>R¬≤ Validation:</strong> Fatigue trend trusted only if R¬≤ > 0.5</li>
                            </ul>
                        </div>
                        
                        <h4>üìã Filtering Statistics</h4>
                        <table class="comparison-table" style="margin-bottom: 25px;">
                            <thead>
                                <tr>
                                    <th>Metric</th>
                                    <th>Value</th>
                                    <th>Impact</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="metric-name">Total Detected (Before Filtering)</td>
                                    <td>13</td>
                                    <td><span class="badge badge-info">Baseline</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">ROM Threshold Applied</td>
                                    <td>7.2¬∞</td>
                                    <td><span class="badge badge-warning">1 removed</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">First/Last Reps Removed</td>
                                    <td>Yes</td>
                                    <td><span class="badge badge-warning">2 removed</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">Statistical Outliers Removed</td>
                                    <td>0</td>
                                    <td><span class="badge badge-success">Clean</span></td>
                                </tr>
                                <tr style="background: #e8f5e9;">
                                    <td class="metric-name"><strong>Valid Reps After Filtering</strong></td>
                                    <td><strong>7</strong></td>
                                    <td><span class="badge badge-success">53.8% retained</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">IQR Bounds</td>
                                    <td colspan="2">[-0.4¬∞, 27.8¬∞]</td>
                                </tr>
                            </tbody>
                        </table>

                        <h4>üéØ Advanced Quality Indices (0-100 scale)</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 25px;">
                            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 0.9em; opacity: 0.9; margin-bottom: 5px;">ROM Consistency</div>
                                <div style="font-size: 2.5em; font-weight: bold;">65.0</div>
                                <div style="font-size: 0.8em; opacity: 0.8; margin-top: 5px;">Lower CV = Better</div>
                            </div>
                            <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 0.9em; opacity: 0.9; margin-bottom: 5px;">Tempo Consistency</div>
                                <div style="font-size: 2.5em; font-weight: bold;">90.5</div>
                                <div style="font-size: 0.8em; opacity: 0.8; margin-top: 5px;">Execution Rhythm</div>
                            </div>
                            <div style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 0.9em; opacity: 0.9; margin-bottom: 5px;">Depth Index</div>
                                <div style="font-size: 2.5em; font-weight: bold;">65.0</div>
                                <div style="font-size: 0.8em; opacity: 0.8; margin-top: 5px;">Target Achievement</div>
                            </div>
                        </div>
                        
                        <div style="background: #ffc107; color: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; text-align: center;">
                            <div style="font-size: 1.1em; opacity: 0.9; margin-bottom: 10px;">‚≠ê IGM SCORE (Integrated Global Metric)</div>
                            <div style="font-size: 3.5em; font-weight: bold; margin: 10px 0;">72.7 / 100</div>
                            <div style="font-size: 1.2em; font-weight: 500; background: rgba(255,255,255,0.2); padding: 10px 20px; border-radius: 5px; display: inline-block;">
                                Good: Consistent performance with minor variations
                            </div>
                            <div style="font-size: 0.85em; opacity: 0.8; margin-top: 15px;">
                                Weighted: ROM√ó40% + Tempo√ó30% + Depth√ó30%
                            </div>
                        </div>
                        
                        <h4>üí™ Robust Fatigue Analysis</h4>
                        <table class="comparison-table" style="margin-bottom: 25px;">
                            <thead>
                                <tr>
                                    <th>Metric</th>
                                    <th>Value</th>
                                    <th>Interpretation</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="metric-name">Trend</td>
                                    <td><strong>INCONSISTENT</strong></td>
                                    <td>
                                        <span class="badge badge-warning">‚ö†Ô∏è No Clear Pattern</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="metric-name">Slope</td>
                                    <td>-0.863¬∞/rep</td>
                                    <td style="color: #ffc107;">Decreasing range</td>
                                </tr>
                                <tr>
                                    <td class="metric-name">R¬≤ (Fit Quality)</td>
                                    <td><strong>0.115</strong></td>
                                    <td><span class="badge badge-danger">POOR FIT</span> ‚úó High Variability</td>
                                </tr>
                                <tr>
                                    <td class="metric-name">Statistical Significance</td>
                                    <td>NO</td>
                                    <td><span class="badge badge-secondary">p ‚â• 0.05</span></td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <div style="background: #ffc107; color: white; padding: 20px; border-radius: 10px; margin-bottom: 25px;">
                            <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üìä Interpretation</h5>
                            <p style="margin: 0; font-size: 1.05em; line-height: 1.6;">
                                <strong>‚ö†Ô∏è INCONSISTENT PATTERN:</strong> High variability (R¬≤=0.12) prevents reliable trend identification. 
                                The athlete is executing the movement inconsistently. Focus on technique and movement control before analyzing fatigue.
                            </p>
                        </div>
                        
                        <h4>üìä Raw Coefficient of Variation (for reference)</h4>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="label">Range CV</div>
                                <div class="value">35.0%</div>
                            </div>
                            <div class="stat-item">
                                <div class="label">Tempo CV</div>
                                <div class="value">9.5%</div>
                            </div>
                            <div class="stat-item">
                                <div class="label">Timing CV</div>
                                <div class="value">43.8%</div>
                            </div>
                        </div>
                        
                        <h4 style="margin-top: 30px;">‚úÖ Valid Repetitions (After Filtering)</h4>
                        <div style="overflow-x: auto;">
                        <table class="comparison-table">
                            <thead>
                                <tr>
                                    <th>Rep #</th>
                                    <th>Time (s)</th>
                                    <th>Duration (s)</th>
                                    <th>Range (¬∞)</th>
                                    <th>Depth (¬∞)</th>
                                    <th>ROM Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="metric-name">1</td>
                                    <td>3.13</td>
                                    <td>2.65</td>
                                    <td><strong>11.02</strong></td>
                                    <td>-11.92</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">2</td>
                                    <td>7.93</td>
                                    <td>2.87</td>
                                    <td><strong>23.77</strong></td>
                                    <td>-12.01</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">3</td>
                                    <td>11.28</td>
                                    <td>2.98</td>
                                    <td><strong>19.59</strong></td>
                                    <td>-10.56</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">4</td>
                                    <td>13.90</td>
                                    <td>3.20</td>
                                    <td><strong>9.04</strong></td>
                                    <td>-2.97</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">5</td>
                                    <td>20.70</td>
                                    <td>2.61</td>
                                    <td><strong>14.84</strong></td>
                                    <td>-7.76</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">6</td>
                                    <td>22.90</td>
                                    <td>2.35</td>
                                    <td><strong>9.31</strong></td>
                                    <td>-3.67</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">7</td>
                                    <td>25.39</td>
                                    <td>2.62</td>
                                    <td><strong>14.19</strong></td>
                                    <td>-8.33</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                            </tbody>
                        </table>
                        </div>
                        
                        <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; margin-top: 25px; border-left: 5px solid #2196f3;">
                            <h5 style="margin: 0 0 10px 0; color: #1976d2;">üí° Key Takeaways</h5>
                            <ul style="margin: 0; padding-left: 20px; color: #424242;">
                                <li><strong>Base Analysis:</strong> Shows all detected movements (including half-reps, outliers)</li>
                                <li><strong>Advanced Analysis:</strong> Filters for quality - only biomechanically valid repetitions</li>
                                <li><strong>IGM Score:</strong> Single metric for performance evaluation (80+ = Excellent, 60-80 = Good, 40-60 = Fair, <40 = Poor)</li>
                                <li><strong>R¬≤ Validation:</strong> Ensures fatigue trends are statistically reliable, not random noise</li>
                                <li><strong>Use Case:</strong> Advanced metrics for athlete feedback, base counts for training volume</li>
                            </ul>
                        </div>
                        
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üìä Visualization</h3>

                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                    <h4 style="margin: 0 0 10px 0; font-size: 1.1em;">üéØ COMPLETE TIME-SERIES OVERVIEW</h4>
                    <p style="margin: 0; font-size: 0.95em; opacity: 0.95;">
                        Full recording with all detected regions and repetitions. 
                        <strong>Top panel:</strong> Phase regions (ascending/descending/stable_high/stable_low).
                        <strong>Bottom panel:</strong> All detected repetitions with suspicious markers.
                    </p>
                </div>
                <div class="plot-container" style="grid-column: 1 / -1; margin-bottom: 30px;">
                    <img src="overview_complete_ang2.png" alt="Complete Overview" style="width: 100%; max-width: 100%;">
                </div>
                
                <h4 style="margin-top: 20px; color: #666;">Detailed Analysis Plots</h4>
                <div class="plot-grid">
                    <div class="plot-container">
                        <div class="plot-title">Autocorrelation</div>
                        <img src="autocorr_ang2.png" alt="Autocorrelation">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">Frequency Spectrum</div>
                        <img src="spectrum_ang2.png" alt="Spectrum">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">Spectrogram (Time-Frequency)</div>
                        <img src="spectrogram_ang2.png" alt="Spectrogram">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">üìç Phase Detection (Ascending/Descending/Stable High/Low)</div>
                        <img src="phases_ang2.png" alt="Phase Detection">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">üèãÔ∏è Repetition Detection (Valleys & ROM)</div>
                        <img src="repetitions_ang2.png" alt="Repetitions">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">üî¨ Base vs Advanced Repetition Filtering</div>
                        <img src="repetitions_comparison_ang2.png" alt="Repetition Comparison">
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ANG3 Statistics -->
        <div class="section">
            <div class="section-header original" onclick="this.nextElementSibling.style.display=this.nextElementSibling.style.display=='none'?'block':'none'">
                <span>üìä ANG3 <span class="badge badge-info">üìã ORIGINAL</span></span>
                <span>‚ñº</span>
            </div>
            <div class="section-content">
                
                <!-- INTERACTIVE PLOTLY GRAPH EMBEDDED -->
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; margin-bottom: 25px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    <h4 style="margin: 0 0 10px 0; display: flex; align-items: center;">
                        <span style="font-size: 1.5em; margin-right: 10px;">üîç</span>
                        Interactive Signal Exploration
                    </h4>
                    <p style="margin: 0 0 15px 0; line-height: 1.6; opacity: 0.95; font-size: 0.95em;">
                        Hover over the plot to see precise values ‚Ä¢ Zoom by dragging ‚Ä¢ Double-click to reset
                    </p>
                </div>
                <!-- Embed interactive plot using iframe -->
                <iframe src="interactive_ang3.html" width="100%" height="500" frameborder="0" style="border: 1px solid #e0e0e0; border-radius: 8px; margin-bottom: 20px;"></iframe>
                
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean</div>
                        <div class="value">-119.67¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Median</div>
                        <div class="value">-116.62¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Dev</div>
                        <div class="value">10.28¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range</div>
                        <div class="value">77.74¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min / Max</div>
                        <div class="value">-171.31¬∞ / -93.58¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Skewness</div>
                        <div class="value">-0.26</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Kurtosis</div>
                        <div class="value">-1.21</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">SNR-like Index</div>
                        <div class="value">48.03</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Dynamic Range (5-95%)</div>
                        <div class="value">28.83¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Noise Estimate</div>
                        <div class="value">0.6002¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Stationary</div>
                        <div class="value">‚úì Yes</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Linear Trend</div>
                        <div class="value">-0.3658 ¬∞/s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Peaks / Troughs</div>
                        <div class="value">619 / 620</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Dominant Frequency</div>
                        <div class="value">0.0256 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Period</div>
                        <div class="value">39.04 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">ACF Periodicity</div>
                        <div class="value">1 samples</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">Sliding Window Analysis (2.0s window, 0.5s step)</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Std of Window Means</div>
                        <div class="value">8.75¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std of Window Stds</div>
                        <div class="value">2.32¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Window Std</div>
                        <div class="value">5.04¬∞</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üîÑ Cycle-Level Metrics</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Total Cycles</div>
                        <div class="value">60</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Duration</div>
                        <div class="value">0.648 s (CV=65.3%)</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Amplitude</div>
                        <div class="value">16.59¬∞ (CV=67.4%)</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Trend Duration/Cycle</div>
                        <div class="value">-0.0024 s/cycle</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Trend Amplitude/Cycle</div>
                        <div class="value">+0.3325 ¬∞/cycle</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üìç Phase Statistics</h3>
                
                <div style="background: #fff3e0; padding: 15px; border-radius: 5px; margin-bottom: 15px; border-left: 4px solid #ff6f00;">
                    <h4 style="color: #ff6f00; margin-bottom: 10px;">üîÑ Understanding Movement Phases</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; font-size: 0.9em;">
                        <div>
                            <strong>üîº Ascending</strong> (Concentric)<br>
                            <span style="opacity: 0.8;">Upward motion, muscle shortening. E.g., rising from squat bottom.</span>
                        </div>
                        <div>
                            <strong>üîΩ Descending</strong> (Eccentric)<br>
                            <span style="opacity: 0.8;">Downward motion, muscle lengthening. E.g., lowering into squat.</span>
                        </div>
                        <div>
                            <strong>üüß Stable High</strong> (Top Hold)<br>
                            <span style="opacity: 0.8;">Isometric hold in standing position between reps.</span>
                        </div>
                        <div>
                            <strong>üü¶ Stable Low</strong> (Bottom Hold)<br>
                            <span style="opacity: 0.8;">Isometric hold at bottom position (pause squats).</span>
                        </div>
                    </div>
                    <p style="margin-top: 10px; font-size: 0.85em; opacity: 0.9;">
                        <strong>CV (Coefficient of Variation)</strong>: Measures consistency. Lower values = more consistent timing across phases.
                    </p>
                </div>
                
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Phase Type</th>
                            <th>Count</th>
                            <th>Mean Duration</th>
                            <th>CV</th>
                            <th>Total Time</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="metric-name">üîº Ascending</td>
                            <td>23</td>
                            <td>0.391 s</td>
                            <td>91.6%</td>
                            <td>9.0 s</td>
                        </tr>
                        <tr>
                            <td class="metric-name">üîΩ Descending</td>
                            <td>13</td>
                            <td>0.708 s</td>
                            <td>57.7%</td>
                            <td>9.2 s</td>
                        </tr>
                        <tr>
                            <td class="metric-name">üüß Stable High (standing)</td>
                            <td>11</td>
                            <td>1.000 s</td>
                            <td>28.4%</td>
                            <td>11.0 s</td>
                        </tr>
                        <tr>
                            <td class="metric-name">üü¶ Stable Low (bottom)</td>
                            <td>12</td>
                            <td>0.755 s</td>
                            <td>46.6%</td>
                            <td>9.1 s</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3 style="margin-top: 30px;">üèãÔ∏è Exercise Repetition Analysis</h3>
                
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin: 20px 0;">
                    <h4 style="margin: 0 0 15px 0; font-size: 1.2em;">üìä Summary</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Total Repetitions</div>
                            <div style="font-size: 2em; font-weight: bold;">12</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Detection Threshold</div>
                            <div style="font-size: 1.5em; font-weight: bold;">5.77¬∞</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Consistency Score</div>
                            <div style="font-size: 1.5em; font-weight: bold;">55.5/100</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">‚ö†Ô∏è Suspicious Reps</div>
                            <div style="font-size: 1.5em; font-weight: bold;">3</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">üìè Median ROM</div>
                            <div style="font-size: 1.5em; font-weight: bold;">27.10¬∞</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">üéØ ROM Threshold (50%)</div>
                            <div style="font-size: 1.5em; font-weight: bold;">13.55¬∞</div>
                        </div>
                    </div>
                </div>

                <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 5px solid #2196f3;">
                    <h4 style="color: #1976d2; margin-bottom: 15px;">üìä Comparison: Base Analysis vs Advanced Filtering</h4>
                    <table class="comparison-table" style="margin-bottom: 15px;">
                        <thead>
                            <tr>
                                <th>Metric</th>
                                <th>Base Analysis</th>
                                <th>Advanced Analysis</th>
                                <th>Difference</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="metric-name">Total Repetitions Detected</td>
                                <td><strong>12</strong></td>
                                <td><strong>4</strong></td>
                                <td><span class="badge badge-warning">-8 (33.3%)</span></td>
                            </tr>
                            <tr>
                                <td class="metric-name">Filtering Applied</td>
                                <td><span class="badge badge-info">Prominence + Phase Detection</span></td>
                                <td><span class="badge badge-success">ROM Threshold + Outliers + First/Last</span></td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td class="metric-name">Mean ROM</td>
                                <td>31.25¬∞</td>
                                <td>33.93¬∞</td>
                                <td>+2.68¬∞</td>
                            </tr>
                            <tr>
                                <td class="metric-name">ROM CV (Consistency)</td>
                                <td>54.2%</td>
                                <td>19.3%</td>
                                <td>-34.9%</td>
                            </tr>
                            <tr>
                                <td class="metric-name">Suspicious Reps</td>
                                <td><span class="badge badge-warning">3 reps</span></td>
                                <td><span class="badge badge-success">Filtered out</span></td>
                                <td>-3 cleaned</td>
                            </tr>
                        </tbody>
                    </table>
                    <p style="margin: 10px 0 0 0; color: #424242; font-size: 0.9em;">
                        <strong>üí° Interpretation:</strong> Advanced analysis applies stricter quality filters to remove half-reps, 
                        statistical outliers, and adjustment phases (first/last reps). This typically results in fewer but 
                        more biomechanically valid repetitions with better consistency metrics.
                    </p>
                </div>

                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; margin: 25px 0; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    <h4 style="margin: 0 0 15px 0; display: flex; align-items: center;">
                        <span style="font-size: 1.5em; margin-right: 10px;">üîç</span>
                        Criteri di Validazione delle Ripetizioni
                    </h4>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üìä 1. Range of Motion (ROM)</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione √® considerata <strong>sospetta per ROM</strong> se:<br>
                            ‚Ä¢ ROM &lt; 50% della mediana di tutte le ripetizioni<br>
                            ‚Ä¢ Esempio: Se mediana ROM = 22.87¬∞, la soglia √® 11.4¬∞<br>
                            ‚Ä¢ <em>Motivo</em>: Ripetizioni troppo piccole potrebbero essere artefatti o movimenti incompleti
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üîÑ 2. Sequenza di Fasi</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione <strong>valida</strong> deve contenere:<br>
                            ‚Ä¢ Almeno una fase di <strong style="color: #4ade80;">ASCESA</strong> (ascending)<br>
                            ‚Ä¢ Almeno una fase di <strong style="color: #f87171;">DISCESA</strong> (descending)<br>
                            ‚Ä¢ <em>Motivo</em>: Un esercizio completo richiede movimento bidirezionale (es: squat = scendi + sali)
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üîÅ 3. Ciclicit√† (Ritorno all'Origine)</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione √® <strong>ciclica</strong> se:<br>
                            ‚Ä¢ Il <strong>punto pi√π alto DOPO</strong> il minimo ritorna entro <strong>¬±20¬∞</strong> dal <strong>punto pi√π alto PRIMA</strong> del minimo<br>
                            ‚Ä¢ Calcolo: <code style="background: rgba(0,0,0,0.3); padding: 2px 6px; border-radius: 4px;">Œîangle = |max_dopo - max_prima|</code><br>
                            ‚Ä¢ Esempio: Durante uno squat, se parti da -115¬∞ (in piedi), scendi a -136¬∞ (gi√π), e risali a -125¬∞ (in piedi) ‚Üí Œî = 10¬∞ ‚úì<br>
                            ‚Ä¢ <strong>Nota importante</strong>: Si confrontano le posizioni erette (massimi), non i punti intermedi tra ripetizioni<br>
                            ‚Ä¢ <em>Motivo</em>: Tolleranza di ¬±20¬∞ per tenere conto di drift naturale, fatica e variabilit√† umana nell'esecuzione
                        </p>
                    </div>
                    <div style="margin-top: 15px; padding: 12px; background: rgba(255,255,255,0.15); border-left: 4px solid #fbbf24; border-radius: 4px;">
                        <strong>‚ö†Ô∏è Nota:</strong> Una ripetizione pu√≤ essere marcata "suspicious" per uno o pi√π criteri. 
                        I motivi specifici sono indicati nella colonna "Quality".
                    </div>
                </div>
                
                <h4 style="margin-top: 25px;">üìã Per-Repetition Metrics</h4>
                <div style="overflow-x: auto;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Time (s)</th>
                            <th>Duration (s)</th>
                            <th>Range (¬∞)</th>
                            <th>Depth (¬∞)</th>
                            <th>Quality</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">1</td>
                            <td>0.25</td>
                            <td>2.05</td>
                            <td>21.03</td>
                            <td>-126.24</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=True, has_desc=False)</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">2</td>
                            <td>3.85</td>
                            <td>3.48</td>
                            <td>13.62</td>
                            <td>-117.30</td>
                            <td><span class="badge badge-danger">Poor</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">3</td>
                            <td>7.21</td>
                            <td>3.84</td>
                            <td>13.14</td>
                            <td>-118.68</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Suspicious (ROM<50% median)</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">4</td>
                            <td>11.53</td>
                            <td>5.18</td>
                            <td>25.70</td>
                            <td>-116.37</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">5</td>
                            <td>17.58</td>
                            <td>4.07</td>
                            <td>32.53</td>
                            <td>-140.78</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">6</td>
                            <td>19.68</td>
                            <td>2.85</td>
                            <td>28.50</td>
                            <td>-139.07</td>
                            <td><span class="badge badge-success">Good</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">7</td>
                            <td>23.28</td>
                            <td>2.88</td>
                            <td>22.26</td>
                            <td>-138.01</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">8</td>
                            <td>25.44</td>
                            <td>2.09</td>
                            <td>30.83</td>
                            <td>-132.07</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">9</td>
                            <td>27.47</td>
                            <td>2.03</td>
                            <td>22.72</td>
                            <td>-139.73</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=True, has_desc=False)</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">10</td>
                            <td>29.51</td>
                            <td>2.02</td>
                            <td>38.81</td>
                            <td>-141.78</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">11</td>
                            <td>31.51</td>
                            <td>4.49</td>
                            <td>48.09</td>
                            <td>-144.04</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">12</td>
                            <td>38.50</td>
                            <td>4.03</td>
                            <td>77.74</td>
                            <td>-171.31</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                    </tbody>
                </table>
                </div>

                <h4 style="margin-top: 25px;">‚è±Ô∏è Timing Analysis</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Interval</div>
                        <div class="value">3.48 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Deviation</div>
                        <div class="value">1.72 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min/Max Interval</div>
                        <div class="value">2.00 / 6.99 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Timing CV</div>
                        <div class="value">49.5%</div>
                    </div>
                </div>

                <h4 style="margin-top: 25px;">üìè Range of Motion Analysis</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Range</div>
                        <div class="value">31.25¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Deviation</div>
                        <div class="value">17.68¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min/Max Range</div>
                        <div class="value">13.14 / 77.74¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range Consistency (CV)</div>
                        <div class="value">54.2%</div>
                    </div>
                </div>

                <h4 style="margin-top: 25px;">‚≠ê Performance Quality</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Overall Consistency</div>
                        <div class="value">55.5/100</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range Consistency</div>
                        <div class="value">54.2%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Timing Consistency</div>
                        <div class="value">47.2%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Tempo Consistency</div>
                        <div class="value">32.1%</div>
                    </div>
                </div>
                
                <div style="background: #ffc107; color: white; padding: 15px; border-radius: 8px; margin: 20px 0;">
                    <h5 style="margin: 0 0 10px 0;">üéØ Fatigue Indicator</h5>
                    <p style="margin: 0; font-size: 1.1em;"><strong>INCREASING RANGE</strong></p>
                    <p style="margin: 5px 0 0 0; opacity: 0.9;">+3.803¬∞/rep</p>
                </div>
                
                <h4 style="margin-top: 25px;">üéØ Derived Metrics</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Average Rep Frequency</div>
                        <div class="value">0.2876 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Seconds per Rep</div>
                        <div class="value">3.48 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Exercise Duration</div>
                        <div class="value">38.25 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Work Density</div>
                        <div class="value">18.8 reps/min</div>
                    </div>
                </div>

                <h4 style="margin-top: 30px;">‚è±Ô∏è Detailed Temporal Parameters (50 Parameters)</h4>
                
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin: 15px 0;">
                    <h4 style="margin: 0 0 15px 0; font-size: 1.2em;">üìä Complete Temporal Analysis</h4>
                    <p style="margin: 0 0 15px 0; line-height: 1.6;">
                        This section presents a <strong>comprehensive temporal analysis</strong> of your exercise execution,
                        breaking down each repetition into its constituent phases and analyzing timing patterns, 
                        consistency, and trends throughout the session.
                    </p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; font-size: 0.9em;">
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìã Per-Repetition</strong><br>
                            8 params √ó 12 reps<br>
                            <span style="opacity: 0.9;">Phase timings + percentages</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üåç Global Timing</strong><br>
                            4 parameters<br>
                            <span style="opacity: 0.9;">Frequency, density, cycles</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìà Session Totals</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Cumulative work & rest</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìä Variances</strong><br>
                            16 parameters<br>
                            <span style="opacity: 0.9;">Consistency metrics (CV)</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üîÑ Regularity</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Duration stability</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>‚ö†Ô∏è Outliers</strong><br>
                            4 parameters<br>
                            <span style="opacity: 0.9;">Unusual timing patterns</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìà Trends</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Fatigue indicators</span>
                        </div>
                    </div>
                </div>
                
                <!-- B. Global Timing Parameters -->
                <h5 style="margin-top: 20px; color: #667eea;">üìä Global Timing Parameters</h5>
                <div style="background: #f8f9fa; padding: 10px; border-radius: 5px; margin-bottom: 10px; font-size: 0.9em;">
                    <strong>Cycle Time</strong>: Time from start of one rep to start of next (includes work + rest). 
                    <strong>Density Ratio</strong>: Proportion of time spent in active work (ecc+conc) vs total time.
                    Higher density = more continuous training stimulus.
                </div>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Rep Duration</div>
                        <div class="value">3.25 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Time</div>
                        <div class="value">3.48 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Execution Frequency</div>
                        <div class="value">0.288 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Density Ratio</div>
                        <div class="value">47.8%</div>
                    </div>
                </div>
                
                <!-- C. Session Total Times -->
                <h5 style="margin-top: 20px; color: #667eea;">üìà Session Total Times</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Total Eccentric Time</div>
                        <div class="value">9.21 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Concentric Time</div>
                        <div class="value">8.98 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Bottom Hold</div>
                        <div class="value">9.06 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Top Hold</div>
                        <div class="value">11.00 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Work Time</div>
                        <div class="value">18.19 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Pause Time</div>
                        <div class="value">20.06 s</div>
                    </div>
                </div>
                
                <!-- D. Temporal Variances -->
                <h5 style="margin-top: 20px; color: #667eea;">üìä Temporal Variances (Coefficient of Variation)</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Eccentric CV</div>
                        <div class="value">64.1%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Concentric CV</div>
                        <div class="value">74.6%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Bottom Hold CV</div>
                        <div class="value">48.1%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Top Hold CV</div>
                        <div class="value">56.8%</div>
                    </div>
                </div>
                
                <!-- E. Regularity & Continuity -->
                <h5 style="margin-top: 20px; color: #667eea;">üîÑ Regularity & Continuity</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Rep Duration CV</div>
                        <div class="value">32.1%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Rep Duration Range</div>
                        <div class="value">3.16 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time CV</div>
                        <div class="value">47.2%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time Range</div>
                        <div class="value">4.99 s</div>
                    </div>
                </div>
                
                <!-- F. Temporal Outliers -->
                <h5 style="margin-top: 20px; color: #667eea;">‚ö†Ô∏è Temporal Outliers</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Slow Eccentric Reps</div>
                        <div class="value">3</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Fast Concentric Reps</div>
                        <div class="value">5</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Excessive Bottom Holds</div>
                        <div class="value">1</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Excessive Top Holds</div>
                        <div class="value">2</div>
                    </div>
                </div>
                
                <!-- G. Longitudinal Trends -->
                <h5 style="margin-top: 20px; color: #667eea;">üìà Longitudinal Trends (s/rep)</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Eccentric Trend</div>
                        <div class="value" style="color: #dc3545">-0.0066 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Concentric Trend</div>
                        <div class="value" style="color: #28a745">+0.0295 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Bottom Hold Trend</div>
                        <div class="value" style="color: #28a745">+0.1256 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Top Hold Trend</div>
                        <div class="value" style="color: #dc3545">-0.1715 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Rep Duration Trend</div>
                        <div class="value" style="color: #dc3545">-0.0117 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time Trend</div>
                        <div class="value" style="color: #dc3545">-0.0299 s/rep</div>
                    </div>
                </div>
                
                <!-- TEMPORAL EVOLUTION PLOTS -->
                <h5 style="margin-top: 25px; color: #667eea;">üìà Temporal Evolution Across Repetitions</h5>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <p style="margin: 0 0 10px 0; color: #424242; line-height: 1.6;">
                        <strong>Visual Analysis:</strong> The following plots show how timing metrics evolve throughout your exercise session.
                        Orange dashed lines indicate trends - positive slopes suggest fatigue (slowing down), negative slopes indicate adaptation or pacing strategy.
                    </p>
                    <div style="text-align: center;">
                        <img src="temporal_evolution_ang3.png" alt="Temporal Evolution" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    </div>
                </div>
                
                <!-- A. Per-Repetition Details Table -->
                <h5 style="margin-top: 25px; color: #667eea;">üìã Per-Repetition Timing Breakdown</h5>
                <div style="overflow-x: auto;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Eccentric (s)</th>
                            <th>Concentric (s)</th>
                            <th>Bottom Hold (s)</th>
                            <th>Top Hold (s)</th>
                            <th>Total (s)</th>
                            <th>Ecc %</th>
                            <th>Con %</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="metric-name">1</td>
                            <td>0.000</td>
                            <td>0.193</td>
                            <td>0.000</td>
                            <td>1.606</td>
                            <td><strong>2.046</strong></td>
                            <td>0.0%</td>
                            <td>9.4%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">2</td>
                            <td>1.578</td>
                            <td>1.370</td>
                            <td>0.000</td>
                            <td>0.530</td>
                            <td><strong>3.477</strong></td>
                            <td>45.4%</td>
                            <td>39.4%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">3</td>
                            <td>0.541</td>
                            <td>0.262</td>
                            <td>0.000</td>
                            <td>3.037</td>
                            <td><strong>3.839</strong></td>
                            <td>14.1%</td>
                            <td>6.8%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">4</td>
                            <td>0.956</td>
                            <td>0.101</td>
                            <td>0.000</td>
                            <td>4.127</td>
                            <td><strong>5.183</strong></td>
                            <td>18.4%</td>
                            <td>1.9%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">5</td>
                            <td>1.745</td>
                            <td>1.190</td>
                            <td>1.139</td>
                            <td>0.000</td>
                            <td><strong>4.073</strong></td>
                            <td>42.9%</td>
                            <td>29.2%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">6</td>
                            <td>0.621</td>
                            <td>1.349</td>
                            <td>0.880</td>
                            <td>0.000</td>
                            <td><strong>2.849</strong></td>
                            <td>21.8%</td>
                            <td>47.4%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">7</td>
                            <td>0.530</td>
                            <td>0.085</td>
                            <td>2.270</td>
                            <td>0.000</td>
                            <td><strong>2.883</strong></td>
                            <td>18.4%</td>
                            <td>2.9%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">8</td>
                            <td>0.971</td>
                            <td>0.945</td>
                            <td>0.179</td>
                            <td>0.000</td>
                            <td><strong>2.093</strong></td>
                            <td>46.4%</td>
                            <td>45.1%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">9</td>
                            <td>0.000</td>
                            <td>0.844</td>
                            <td>1.191</td>
                            <td>0.000</td>
                            <td><strong>2.033</strong></td>
                            <td>0.0%</td>
                            <td>41.5%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">10</td>
                            <td>0.390</td>
                            <td>0.634</td>
                            <td>1.001</td>
                            <td>0.000</td>
                            <td><strong>2.023</strong></td>
                            <td>19.3%</td>
                            <td>31.3%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">11</td>
                            <td>0.014</td>
                            <td>1.780</td>
                            <td>1.001</td>
                            <td>1.699</td>
                            <td><strong>4.493</strong></td>
                            <td>0.3%</td>
                            <td>39.6%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">12</td>
                            <td>1.859</td>
                            <td>0.232</td>
                            <td>1.403</td>
                            <td>0.000</td>
                            <td><strong>4.034</strong></td>
                            <td>46.1%</td>
                            <td>5.7%</td>
                        </tr>
                    </tbody>
                </table>
                </div>

                <h4 style="margin-top: 30px; color: #dc3545;">‚ö†Ô∏è Phase Validation Results</h4>
                <div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; border-radius: 5px; margin: 15px 0;">
                    <p style="margin: 0 0 10px 0;"><strong>‚ö†Ô∏è 2 repetitions failed phase sequence validation</strong></p>
                    <p style="margin: 0; font-size: 0.9em; opacity: 0.8;">These repetitions lack proper ascending+descending sequence or cyclic behavior (return to start angle).</p>
                </div>
                
                <div style="overflow-x: auto; margin-top: 15px;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Failure Reason</th>
                            <th>Phase Sequence</th>
                            <th>Start Angle (¬∞)</th>
                            <th>End Angle (¬∞)</th>
                            <th>Œî Angle (¬∞)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#1</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=True, has_desc=False)</td>
                            <td style="font-size: 0.85em;">ascending ‚Üí stable_high ‚Üí ascending ‚Üí stable_high</td>
                            <td>-115.6</td>
                            <td>-116.0</td>
                            <td><strong>0.4¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#9</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=True, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_low ‚Üí ascending</td>
                            <td>-130.4</td>
                            <td>-134.4</td>
                            <td><strong>4.0¬∞</strong></td>
                        </tr>
                    </tbody>
                </table>
                </div>
                
                <div style="background: #d1ecf1; border-left: 4px solid #17a2b8; padding: 15px; border-radius: 5px; margin: 20px 0;">
                    <h5 style="margin: 0 0 10px 0;">‚ÑπÔ∏è Validation Criteria</h5>
                    <ul style="margin: 5px 0; padding-left: 20px; font-size: 0.9em;">
                        <li><strong>Phase Sequence:</strong> Must contain BOTH ascending AND descending phases (stable phases allowed)</li>
                        <li><strong>Cyclic Behavior:</strong> Signal must return to starting angle within ¬±20¬∞ tolerance</li>
                        <li><strong>Standing Recovery:</strong> Validates proper exercise execution and position recovery (¬±20¬∞ accounts for natural drift and fatigue)</li>
                    </ul>
                </div>

                <div style="margin-top: 50px; padding: 30px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 15px; box-shadow: 0 8px 20px rgba(0,0,0,0.15);">
                    <h3 style="margin: 0 0 20px 0; color: white; font-size: 1.5em;">üöÄ ADVANCED REPETITION ANALYSIS (Production-Ready)</h3>
                    <div style="background: rgba(255,255,255,0.95); padding: 25px; border-radius: 10px;">
                        
                        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 25px;">
                            <h4 style="margin: 0 0 15px 0;">üéØ Key Improvements</h4>
                            <ul style="margin: 0; padding-left: 20px;">
                                <li><strong>Butterworth Filter:</strong> Zero-phase low-pass (10Hz cutoff) preserves signal shape</li>
                                <li><strong>ROM Threshold:</strong> Excludes half-reps and invalid movements</li>
                                <li><strong>Outlier Detection:</strong> IQR method removes statistical anomalies</li>
                                <li><strong>First/Last Exclusion:</strong> Removes adjustment and overshoot phases</li>
                                <li><strong>R¬≤ Validation:</strong> Fatigue trend trusted only if R¬≤ > 0.5</li>
                            </ul>
                        </div>
                        
                        <h4>üìã Filtering Statistics</h4>
                        <table class="comparison-table" style="margin-bottom: 25px;">
                            <thead>
                                <tr>
                                    <th>Metric</th>
                                    <th>Value</th>
                                    <th>Impact</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="metric-name">Total Detected (Before Filtering)</td>
                                    <td>11</td>
                                    <td><span class="badge badge-info">Baseline</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">ROM Threshold Applied</td>
                                    <td>14.3¬∞</td>
                                    <td><span class="badge badge-warning">3 removed</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">First/Last Reps Removed</td>
                                    <td>Yes</td>
                                    <td><span class="badge badge-warning">2 removed</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">Statistical Outliers Removed</td>
                                    <td>0</td>
                                    <td><span class="badge badge-success">Clean</span></td>
                                </tr>
                                <tr style="background: #e8f5e9;">
                                    <td class="metric-name"><strong>Valid Reps After Filtering</strong></td>
                                    <td><strong>4</strong></td>
                                    <td><span class="badge badge-success">36.4% retained</span></td>
                                </tr>
                            </tbody>
                        </table>

                        <h4>üéØ Advanced Quality Indices (0-100 scale)</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 25px;">
                            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 0.9em; opacity: 0.9; margin-bottom: 5px;">ROM Consistency</div>
                                <div style="font-size: 2.5em; font-weight: bold;">80.7</div>
                                <div style="font-size: 0.8em; opacity: 0.8; margin-top: 5px;">Lower CV = Better</div>
                            </div>
                            <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 0.9em; opacity: 0.9; margin-bottom: 5px;">Tempo Consistency</div>
                                <div style="font-size: 2.5em; font-weight: bold;">82.6</div>
                                <div style="font-size: 0.8em; opacity: 0.8; margin-top: 5px;">Execution Rhythm</div>
                            </div>
                            <div style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 0.9em; opacity: 0.9; margin-bottom: 5px;">Depth Index</div>
                                <div style="font-size: 2.5em; font-weight: bold;">80.7</div>
                                <div style="font-size: 0.8em; opacity: 0.8; margin-top: 5px;">Target Achievement</div>
                            </div>
                        </div>
                        
                        <div style="background: #28a745; color: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; text-align: center;">
                            <div style="font-size: 1.1em; opacity: 0.9; margin-bottom: 10px;">‚≠ê IGM SCORE (Integrated Global Metric)</div>
                            <div style="font-size: 3.5em; font-weight: bold; margin: 10px 0;">81.3 / 100</div>
                            <div style="font-size: 1.2em; font-weight: 500; background: rgba(255,255,255,0.2); padding: 10px 20px; border-radius: 5px; display: inline-block;">
                                Excellent: High consistency and depth control
                            </div>
                            <div style="font-size: 0.85em; opacity: 0.8; margin-top: 15px;">
                                Weighted: ROM√ó40% + Tempo√ó30% + Depth√ó30%
                            </div>
                        </div>
                        
                        <h4>üí™ Robust Fatigue Analysis</h4>
                        <table class="comparison-table" style="margin-bottom: 25px;">
                            <thead>
                                <tr>
                                    <th>Metric</th>
                                    <th>Value</th>
                                    <th>Interpretation</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="metric-name">Trend</td>
                                    <td><strong>PROGRESSIVE EXPLORATION</strong></td>
                                    <td>
                                        <span class="badge badge-info">‚ÑπÔ∏è ROM Increasing</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="metric-name">Slope</td>
                                    <td>+5.514¬∞/rep</td>
                                    <td style="color: #17a2b8;">Increasing range</td>
                                </tr>
                                <tr>
                                    <td class="metric-name">R¬≤ (Fit Quality)</td>
                                    <td><strong>0.886</strong></td>
                                    <td><span class="badge badge-success">GOOD FIT</span> ‚úì Trend Reliable</td>
                                </tr>
                                <tr>
                                    <td class="metric-name">Statistical Significance</td>
                                    <td>NO</td>
                                    <td><span class="badge badge-secondary">p ‚â• 0.05</span></td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <div style="background: #17a2b8; color: white; padding: 20px; border-radius: 10px; margin-bottom: 25px;">
                            <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üìä Interpretation</h5>
                            <p style="margin: 0; font-size: 1.05em; line-height: 1.6;">
                                <strong>‚ÑπÔ∏è PROGRESSIVE EXPLORATION:</strong> Range of motion is increasing over repetitions. 
                                The athlete is exploring ROM limits or improving warm-up. This is normal at session start but monitor for overstretching.
                            </p>
                        </div>
                        
                        <h4>üìä Raw Coefficient of Variation (for reference)</h4>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="label">Range CV</div>
                                <div class="value">19.3%</div>
                            </div>
                            <div class="stat-item">
                                <div class="label">Tempo CV</div>
                                <div class="value">17.4%</div>
                            </div>
                            <div class="stat-item">
                                <div class="label">Timing CV</div>
                                <div class="value">40.5%</div>
                            </div>
                        </div>
                        
                        <h4 style="margin-top: 30px;">‚úÖ Valid Repetitions (After Filtering)</h4>
                        <div style="overflow-x: auto;">
                        <table class="comparison-table">
                            <thead>
                                <tr>
                                    <th>Rep #</th>
                                    <th>Time (s)</th>
                                    <th>Duration (s)</th>
                                    <th>Range (¬∞)</th>
                                    <th>Depth (¬∞)</th>
                                    <th>ROM Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="metric-name">1</td>
                                    <td>19.67</td>
                                    <td>3.01</td>
                                    <td><strong>27.08</strong></td>
                                    <td>-137.55</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">2</td>
                                    <td>23.59</td>
                                    <td>4.92</td>
                                    <td><strong>30.73</strong></td>
                                    <td>-135.70</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">3</td>
                                    <td>29.51</td>
                                    <td>3.96</td>
                                    <td><strong>33.29</strong></td>
                                    <td>-140.44</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">4</td>
                                    <td>31.51</td>
                                    <td>4.50</td>
                                    <td><strong>44.61</strong></td>
                                    <td>-140.08</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                            </tbody>
                        </table>
                        </div>
                        
                        <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; margin-top: 25px; border-left: 5px solid #2196f3;">
                            <h5 style="margin: 0 0 10px 0; color: #1976d2;">üí° Key Takeaways</h5>
                            <ul style="margin: 0; padding-left: 20px; color: #424242;">
                                <li><strong>Base Analysis:</strong> Shows all detected movements (including half-reps, outliers)</li>
                                <li><strong>Advanced Analysis:</strong> Filters for quality - only biomechanically valid repetitions</li>
                                <li><strong>IGM Score:</strong> Single metric for performance evaluation (80+ = Excellent, 60-80 = Good, 40-60 = Fair, <40 = Poor)</li>
                                <li><strong>R¬≤ Validation:</strong> Ensures fatigue trends are statistically reliable, not random noise</li>
                                <li><strong>Use Case:</strong> Advanced metrics for athlete feedback, base counts for training volume</li>
                            </ul>
                        </div>
                        
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üìä Visualization</h3>

                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                    <h4 style="margin: 0 0 10px 0; font-size: 1.1em;">üéØ COMPLETE TIME-SERIES OVERVIEW</h4>
                    <p style="margin: 0; font-size: 0.95em; opacity: 0.95;">
                        Full recording with all detected regions and repetitions. 
                        <strong>Top panel:</strong> Phase regions (ascending/descending/stable_high/stable_low).
                        <strong>Bottom panel:</strong> All detected repetitions with suspicious markers.
                    </p>
                </div>
                <div class="plot-container" style="grid-column: 1 / -1; margin-bottom: 30px;">
                    <img src="overview_complete_ang3.png" alt="Complete Overview" style="width: 100%; max-width: 100%;">
                </div>
                
                <h4 style="margin-top: 20px; color: #666;">Detailed Analysis Plots</h4>
                <div class="plot-grid">
                    <div class="plot-container">
                        <div class="plot-title">Autocorrelation</div>
                        <img src="autocorr_ang3.png" alt="Autocorrelation">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">Frequency Spectrum</div>
                        <img src="spectrum_ang3.png" alt="Spectrum">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">Spectrogram (Time-Frequency)</div>
                        <img src="spectrogram_ang3.png" alt="Spectrogram">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">üìç Phase Detection (Ascending/Descending/Stable High/Low)</div>
                        <img src="phases_ang3.png" alt="Phase Detection">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">üèãÔ∏è Repetition Detection (Valleys & ROM)</div>
                        <img src="repetitions_ang3.png" alt="Repetitions">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">üî¨ Base vs Advanced Repetition Filtering</div>
                        <img src="repetitions_comparison_ang3.png" alt="Repetition Comparison">
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ANG PRINCIPAL Statistics -->
        <div class="section">
            <div class="section-header original" onclick="this.nextElementSibling.style.display=this.nextElementSibling.style.display=='none'?'block':'none'">
                <span>üìä ANG PRINCIPAL <span class="badge badge-info">üìã ORIGINAL</span></span>
                <span>‚ñº</span>
            </div>
            <div class="section-content">
                
                <!-- INTERACTIVE PLOTLY GRAPH EMBEDDED -->
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; margin-bottom: 25px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    <h4 style="margin: 0 0 10px 0; display: flex; align-items: center;">
                        <span style="font-size: 1.5em; margin-right: 10px;">üîç</span>
                        Interactive Signal Exploration
                    </h4>
                    <p style="margin: 0 0 15px 0; line-height: 1.6; opacity: 0.95; font-size: 0.95em;">
                        Hover over the plot to see precise values ‚Ä¢ Zoom by dragging ‚Ä¢ Double-click to reset
                    </p>
                </div>
                <!-- Embed interactive plot using iframe -->
                <iframe src="interactive_ang_principal.html" width="100%" height="500" frameborder="0" style="border: 1px solid #e0e0e0; border-radius: 8px; margin-bottom: 20px;"></iframe>
                
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean</div>
                        <div class="value">0.02¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Median</div>
                        <div class="value">3.06¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Dev</div>
                        <div class="value">10.28¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range</div>
                        <div class="value">78.26¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min / Max</div>
                        <div class="value">-52.07¬∞ / 26.19¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Skewness</div>
                        <div class="value">-0.26</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Kurtosis</div>
                        <div class="value">-1.20</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">SNR-like Index</div>
                        <div class="value">47.75</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Dynamic Range (5-95%)</div>
                        <div class="value">28.81¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Noise Estimate</div>
                        <div class="value">0.6034¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Stationary</div>
                        <div class="value">‚úì Yes</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Linear Trend</div>
                        <div class="value">-0.3661 ¬∞/s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Peaks / Troughs</div>
                        <div class="value">842 / 843</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Dominant Frequency</div>
                        <div class="value">0.0256 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Period</div>
                        <div class="value">39.04 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">ACF Periodicity</div>
                        <div class="value">1 samples</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">Sliding Window Analysis (2.0s window, 0.5s step)</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Std of Window Means</div>
                        <div class="value">8.74¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std of Window Stds</div>
                        <div class="value">2.32¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Window Std</div>
                        <div class="value">5.05¬∞</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üîÑ Cycle-Level Metrics</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Total Cycles</div>
                        <div class="value">60</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Duration</div>
                        <div class="value">0.648 s (CV=65.0%)</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Amplitude</div>
                        <div class="value">16.68¬∞ (CV=67.2%)</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Trend Duration/Cycle</div>
                        <div class="value">-0.0024 s/cycle</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Trend Amplitude/Cycle</div>
                        <div class="value">+0.3329 ¬∞/cycle</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üìç Phase Statistics</h3>
                
                <div style="background: #fff3e0; padding: 15px; border-radius: 5px; margin-bottom: 15px; border-left: 4px solid #ff6f00;">
                    <h4 style="color: #ff6f00; margin-bottom: 10px;">üîÑ Understanding Movement Phases</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; font-size: 0.9em;">
                        <div>
                            <strong>üîº Ascending</strong> (Concentric)<br>
                            <span style="opacity: 0.8;">Upward motion, muscle shortening. E.g., rising from squat bottom.</span>
                        </div>
                        <div>
                            <strong>üîΩ Descending</strong> (Eccentric)<br>
                            <span style="opacity: 0.8;">Downward motion, muscle lengthening. E.g., lowering into squat.</span>
                        </div>
                        <div>
                            <strong>üüß Stable High</strong> (Top Hold)<br>
                            <span style="opacity: 0.8;">Isometric hold in standing position between reps.</span>
                        </div>
                        <div>
                            <strong>üü¶ Stable Low</strong> (Bottom Hold)<br>
                            <span style="opacity: 0.8;">Isometric hold at bottom position (pause squats).</span>
                        </div>
                    </div>
                    <p style="margin-top: 10px; font-size: 0.85em; opacity: 0.9;">
                        <strong>CV (Coefficient of Variation)</strong>: Measures consistency. Lower values = more consistent timing across phases.
                    </p>
                </div>
                
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Phase Type</th>
                            <th>Count</th>
                            <th>Mean Duration</th>
                            <th>CV</th>
                            <th>Total Time</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="metric-name">üîº Ascending</td>
                            <td>23</td>
                            <td>0.391 s</td>
                            <td>90.9%</td>
                            <td>9.0 s</td>
                        </tr>
                        <tr>
                            <td class="metric-name">üîΩ Descending</td>
                            <td>14</td>
                            <td>0.700 s</td>
                            <td>56.3%</td>
                            <td>9.8 s</td>
                        </tr>
                        <tr>
                            <td class="metric-name">üüß Stable High (standing)</td>
                            <td>11</td>
                            <td>0.999 s</td>
                            <td>28.3%</td>
                            <td>11.0 s</td>
                        </tr>
                        <tr>
                            <td class="metric-name">üü¶ Stable Low (bottom)</td>
                            <td>11</td>
                            <td>0.770 s</td>
                            <td>47.2%</td>
                            <td>8.5 s</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3 style="margin-top: 30px;">üèãÔ∏è Exercise Repetition Analysis</h3>
                
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin: 20px 0;">
                    <h4 style="margin: 0 0 15px 0; font-size: 1.2em;">üìä Summary</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Total Repetitions</div>
                            <div style="font-size: 2em; font-weight: bold;">12</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Detection Threshold</div>
                            <div style="font-size: 1.5em; font-weight: bold;">5.76¬∞</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Consistency Score</div>
                            <div style="font-size: 1.5em; font-weight: bold;">55.6/100</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">‚ö†Ô∏è Suspicious Reps</div>
                            <div style="font-size: 1.5em; font-weight: bold;">3</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">üìè Median ROM</div>
                            <div style="font-size: 1.5em; font-weight: bold;">27.19¬∞</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">üéØ ROM Threshold (50%)</div>
                            <div style="font-size: 1.5em; font-weight: bold;">13.60¬∞</div>
                        </div>
                    </div>
                </div>

                <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 5px solid #2196f3;">
                    <h4 style="color: #1976d2; margin-bottom: 15px;">üìä Comparison: Base Analysis vs Advanced Filtering</h4>
                    <table class="comparison-table" style="margin-bottom: 15px;">
                        <thead>
                            <tr>
                                <th>Metric</th>
                                <th>Base Analysis</th>
                                <th>Advanced Analysis</th>
                                <th>Difference</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="metric-name">Total Repetitions Detected</td>
                                <td><strong>12</strong></td>
                                <td><strong>4</strong></td>
                                <td><span class="badge badge-warning">-8 (33.3%)</span></td>
                            </tr>
                            <tr>
                                <td class="metric-name">Filtering Applied</td>
                                <td><span class="badge badge-info">Prominence + Phase Detection</span></td>
                                <td><span class="badge badge-success">ROM Threshold + Outliers + First/Last</span></td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td class="metric-name">Mean ROM</td>
                                <td>31.46¬∞</td>
                                <td>33.97¬∞</td>
                                <td>+2.52¬∞</td>
                            </tr>
                            <tr>
                                <td class="metric-name">ROM CV (Consistency)</td>
                                <td>54.0%</td>
                                <td>19.7%</td>
                                <td>-34.3%</td>
                            </tr>
                            <tr>
                                <td class="metric-name">Suspicious Reps</td>
                                <td><span class="badge badge-warning">3 reps</span></td>
                                <td><span class="badge badge-success">Filtered out</span></td>
                                <td>-3 cleaned</td>
                            </tr>
                        </tbody>
                    </table>
                    <p style="margin: 10px 0 0 0; color: #424242; font-size: 0.9em;">
                        <strong>üí° Interpretation:</strong> Advanced analysis applies stricter quality filters to remove half-reps, 
                        statistical outliers, and adjustment phases (first/last reps). This typically results in fewer but 
                        more biomechanically valid repetitions with better consistency metrics.
                    </p>
                </div>

                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; margin: 25px 0; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    <h4 style="margin: 0 0 15px 0; display: flex; align-items: center;">
                        <span style="font-size: 1.5em; margin-right: 10px;">üîç</span>
                        Criteri di Validazione delle Ripetizioni
                    </h4>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üìä 1. Range of Motion (ROM)</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione √® considerata <strong>sospetta per ROM</strong> se:<br>
                            ‚Ä¢ ROM &lt; 50% della mediana di tutte le ripetizioni<br>
                            ‚Ä¢ Esempio: Se mediana ROM = 22.87¬∞, la soglia √® 11.4¬∞<br>
                            ‚Ä¢ <em>Motivo</em>: Ripetizioni troppo piccole potrebbero essere artefatti o movimenti incompleti
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üîÑ 2. Sequenza di Fasi</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione <strong>valida</strong> deve contenere:<br>
                            ‚Ä¢ Almeno una fase di <strong style="color: #4ade80;">ASCESA</strong> (ascending)<br>
                            ‚Ä¢ Almeno una fase di <strong style="color: #f87171;">DISCESA</strong> (descending)<br>
                            ‚Ä¢ <em>Motivo</em>: Un esercizio completo richiede movimento bidirezionale (es: squat = scendi + sali)
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üîÅ 3. Ciclicit√† (Ritorno all'Origine)</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione √® <strong>ciclica</strong> se:<br>
                            ‚Ä¢ Il <strong>punto pi√π alto DOPO</strong> il minimo ritorna entro <strong>¬±20¬∞</strong> dal <strong>punto pi√π alto PRIMA</strong> del minimo<br>
                            ‚Ä¢ Calcolo: <code style="background: rgba(0,0,0,0.3); padding: 2px 6px; border-radius: 4px;">Œîangle = |max_dopo - max_prima|</code><br>
                            ‚Ä¢ Esempio: Durante uno squat, se parti da -115¬∞ (in piedi), scendi a -136¬∞ (gi√π), e risali a -125¬∞ (in piedi) ‚Üí Œî = 10¬∞ ‚úì<br>
                            ‚Ä¢ <strong>Nota importante</strong>: Si confrontano le posizioni erette (massimi), non i punti intermedi tra ripetizioni<br>
                            ‚Ä¢ <em>Motivo</em>: Tolleranza di ¬±20¬∞ per tenere conto di drift naturale, fatica e variabilit√† umana nell'esecuzione
                        </p>
                    </div>
                    <div style="margin-top: 15px; padding: 12px; background: rgba(255,255,255,0.15); border-left: 4px solid #fbbf24; border-radius: 4px;">
                        <strong>‚ö†Ô∏è Nota:</strong> Una ripetizione pu√≤ essere marcata "suspicious" per uno o pi√π criteri. 
                        I motivi specifici sono indicati nella colonna "Quality".
                    </div>
                </div>
                
                <h4 style="margin-top: 25px;">üìã Per-Repetition Metrics</h4>
                <div style="overflow-x: auto;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Time (s)</th>
                            <th>Duration (s)</th>
                            <th>Range (¬∞)</th>
                            <th>Depth (¬∞)</th>
                            <th>Quality</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">1</td>
                            <td>0.25</td>
                            <td>2.05</td>
                            <td>22.00</td>
                            <td>-7.64</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=True, has_desc=False)</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">2</td>
                            <td>3.85</td>
                            <td>3.48</td>
                            <td>13.72</td>
                            <td>2.21</td>
                            <td><span class="badge badge-danger">Poor</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">3</td>
                            <td>7.21</td>
                            <td>3.84</td>
                            <td>13.38</td>
                            <td>0.95</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Suspicious (ROM<50% median)</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">4</td>
                            <td>11.53</td>
                            <td>5.18</td>
                            <td>25.86</td>
                            <td>3.50</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">5</td>
                            <td>17.57</td>
                            <td>4.07</td>
                            <td>32.50</td>
                            <td>-20.98</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">6</td>
                            <td>19.68</td>
                            <td>2.85</td>
                            <td>28.53</td>
                            <td>-19.36</td>
                            <td><span class="badge badge-success">Good</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">7</td>
                            <td>23.28</td>
                            <td>2.88</td>
                            <td>22.19</td>
                            <td>-18.18</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">8</td>
                            <td>25.44</td>
                            <td>2.09</td>
                            <td>31.13</td>
                            <td>-12.35</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">9</td>
                            <td>27.47</td>
                            <td>2.03</td>
                            <td>22.83</td>
                            <td>-20.16</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=True, has_desc=False)</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">10</td>
                            <td>29.52</td>
                            <td>2.02</td>
                            <td>38.58</td>
                            <td>-21.95</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">11</td>
                            <td>31.51</td>
                            <td>4.49</td>
                            <td>48.50</td>
                            <td>-24.42</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">12</td>
                            <td>38.50</td>
                            <td>4.03</td>
                            <td>78.26</td>
                            <td>-52.07</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                    </tbody>
                </table>
                </div>

                <h4 style="margin-top: 25px;">‚è±Ô∏è Timing Analysis</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Interval</div>
                        <div class="value">3.48 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Deviation</div>
                        <div class="value">1.72 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min/Max Interval</div>
                        <div class="value">2.00 / 6.99 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Timing CV</div>
                        <div class="value">49.5%</div>
                    </div>
                </div>

                <h4 style="margin-top: 25px;">üìè Range of Motion Analysis</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Range</div>
                        <div class="value">31.46¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Deviation</div>
                        <div class="value">17.75¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min/Max Range</div>
                        <div class="value">13.38 / 78.26¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range Consistency (CV)</div>
                        <div class="value">54.0%</div>
                    </div>
                </div>

                <h4 style="margin-top: 25px;">‚≠ê Performance Quality</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Overall Consistency</div>
                        <div class="value">55.6/100</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range Consistency</div>
                        <div class="value">54.0%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Timing Consistency</div>
                        <div class="value">47.2%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Tempo Consistency</div>
                        <div class="value">32.0%</div>
                    </div>
                </div>
                
                <div style="background: #ffc107; color: white; padding: 15px; border-radius: 8px; margin: 20px 0;">
                    <h5 style="margin: 0 0 10px 0;">üéØ Fatigue Indicator</h5>
                    <p style="margin: 0; font-size: 1.1em;"><strong>INCREASING RANGE</strong></p>
                    <p style="margin: 5px 0 0 0; opacity: 0.9;">+3.786¬∞/rep</p>
                </div>
                
                <h4 style="margin-top: 25px;">üéØ Derived Metrics</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Average Rep Frequency</div>
                        <div class="value">0.2876 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Seconds per Rep</div>
                        <div class="value">3.48 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Exercise Duration</div>
                        <div class="value">38.25 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Work Density</div>
                        <div class="value">18.8 reps/min</div>
                    </div>
                </div>

                <h4 style="margin-top: 30px;">‚è±Ô∏è Detailed Temporal Parameters (50 Parameters)</h4>
                
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin: 15px 0;">
                    <h4 style="margin: 0 0 15px 0; font-size: 1.2em;">üìä Complete Temporal Analysis</h4>
                    <p style="margin: 0 0 15px 0; line-height: 1.6;">
                        This section presents a <strong>comprehensive temporal analysis</strong> of your exercise execution,
                        breaking down each repetition into its constituent phases and analyzing timing patterns, 
                        consistency, and trends throughout the session.
                    </p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; font-size: 0.9em;">
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìã Per-Repetition</strong><br>
                            8 params √ó 12 reps<br>
                            <span style="opacity: 0.9;">Phase timings + percentages</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üåç Global Timing</strong><br>
                            4 parameters<br>
                            <span style="opacity: 0.9;">Frequency, density, cycles</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìà Session Totals</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Cumulative work & rest</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìä Variances</strong><br>
                            16 parameters<br>
                            <span style="opacity: 0.9;">Consistency metrics (CV)</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üîÑ Regularity</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Duration stability</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>‚ö†Ô∏è Outliers</strong><br>
                            4 parameters<br>
                            <span style="opacity: 0.9;">Unusual timing patterns</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìà Trends</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Fatigue indicators</span>
                        </div>
                    </div>
                </div>
                
                <!-- B. Global Timing Parameters -->
                <h5 style="margin-top: 20px; color: #667eea;">üìä Global Timing Parameters</h5>
                <div style="background: #f8f9fa; padding: 10px; border-radius: 5px; margin-bottom: 10px; font-size: 0.9em;">
                    <strong>Cycle Time</strong>: Time from start of one rep to start of next (includes work + rest). 
                    <strong>Density Ratio</strong>: Proportion of time spent in active work (ecc+conc) vs total time.
                    Higher density = more continuous training stimulus.
                </div>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Rep Duration</div>
                        <div class="value">3.25 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Time</div>
                        <div class="value">3.48 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Execution Frequency</div>
                        <div class="value">0.288 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Density Ratio</div>
                        <div class="value">50.2%</div>
                    </div>
                </div>
                
                <!-- C. Session Total Times -->
                <h5 style="margin-top: 20px; color: #667eea;">üìà Session Total Times</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Total Eccentric Time</div>
                        <div class="value">9.80 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Concentric Time</div>
                        <div class="value">8.99 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Bottom Hold</div>
                        <div class="value">8.48 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Top Hold</div>
                        <div class="value">10.99 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Work Time</div>
                        <div class="value">18.79 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Pause Time</div>
                        <div class="value">19.46 s</div>
                    </div>
                </div>
                
                <!-- D. Temporal Variances -->
                <h5 style="margin-top: 20px; color: #667eea;">üìä Temporal Variances (Coefficient of Variation)</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Eccentric CV</div>
                        <div class="value">57.6%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Concentric CV</div>
                        <div class="value">74.4%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Bottom Hold CV</div>
                        <div class="value">56.3%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Top Hold CV</div>
                        <div class="value">56.8%</div>
                    </div>
                </div>
                
                <!-- E. Regularity & Continuity -->
                <h5 style="margin-top: 20px; color: #667eea;">üîÑ Regularity & Continuity</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Rep Duration CV</div>
                        <div class="value">32.0%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Rep Duration Range</div>
                        <div class="value">3.16 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time CV</div>
                        <div class="value">47.2%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time Range</div>
                        <div class="value">4.99 s</div>
                    </div>
                </div>
                
                <!-- F. Temporal Outliers -->
                <h5 style="margin-top: 20px; color: #667eea;">‚ö†Ô∏è Temporal Outliers</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Slow Eccentric Reps</div>
                        <div class="value">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Fast Concentric Reps</div>
                        <div class="value">5</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Excessive Bottom Holds</div>
                        <div class="value">1</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Excessive Top Holds</div>
                        <div class="value">2</div>
                    </div>
                </div>
                
                <!-- G. Longitudinal Trends -->
                <h5 style="margin-top: 20px; color: #667eea;">üìà Longitudinal Trends (s/rep)</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Eccentric Trend</div>
                        <div class="value" style="color: #28a745">+0.0079 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Concentric Trend</div>
                        <div class="value" style="color: #28a745">+0.0295 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Bottom Hold Trend</div>
                        <div class="value" style="color: #28a745">+0.1108 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Top Hold Trend</div>
                        <div class="value" style="color: #dc3545">-0.1712 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Rep Duration Trend</div>
                        <div class="value" style="color: #dc3545">-0.0118 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time Trend</div>
                        <div class="value" style="color: #dc3545">-0.0299 s/rep</div>
                    </div>
                </div>
                
                <!-- TEMPORAL EVOLUTION PLOTS -->
                <h5 style="margin-top: 25px; color: #667eea;">üìà Temporal Evolution Across Repetitions</h5>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <p style="margin: 0 0 10px 0; color: #424242; line-height: 1.6;">
                        <strong>Visual Analysis:</strong> The following plots show how timing metrics evolve throughout your exercise session.
                        Orange dashed lines indicate trends - positive slopes suggest fatigue (slowing down), negative slopes indicate adaptation or pacing strategy.
                    </p>
                    <div style="text-align: center;">
                        <img src="temporal_evolution_ang_principal.png" alt="Temporal Evolution" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    </div>
                </div>
                
                <!-- A. Per-Repetition Details Table -->
                <h5 style="margin-top: 25px; color: #667eea;">üìã Per-Repetition Timing Breakdown</h5>
                <div style="overflow-x: auto;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Eccentric (s)</th>
                            <th>Concentric (s)</th>
                            <th>Bottom Hold (s)</th>
                            <th>Top Hold (s)</th>
                            <th>Total (s)</th>
                            <th>Ecc %</th>
                            <th>Con %</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="metric-name">1</td>
                            <td>0.000</td>
                            <td>0.193</td>
                            <td>0.000</td>
                            <td>1.606</td>
                            <td><strong>2.046</strong></td>
                            <td>0.0%</td>
                            <td>9.4%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">2</td>
                            <td>1.580</td>
                            <td>1.372</td>
                            <td>0.000</td>
                            <td>0.526</td>
                            <td><strong>3.477</strong></td>
                            <td>45.4%</td>
                            <td>39.5%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">3</td>
                            <td>0.541</td>
                            <td>0.259</td>
                            <td>0.000</td>
                            <td>3.040</td>
                            <td><strong>3.839</strong></td>
                            <td>14.1%</td>
                            <td>6.8%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">4</td>
                            <td>0.955</td>
                            <td>0.111</td>
                            <td>0.000</td>
                            <td>4.117</td>
                            <td><strong>5.182</strong></td>
                            <td>18.4%</td>
                            <td>2.1%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">5</td>
                            <td>1.747</td>
                            <td>1.179</td>
                            <td>1.149</td>
                            <td>0.000</td>
                            <td><strong>4.074</strong></td>
                            <td>42.9%</td>
                            <td>29.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">6</td>
                            <td>0.616</td>
                            <td>1.357</td>
                            <td>0.880</td>
                            <td>0.000</td>
                            <td><strong>2.852</strong></td>
                            <td>21.6%</td>
                            <td>47.6%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">7</td>
                            <td>0.527</td>
                            <td>0.086</td>
                            <td>2.270</td>
                            <td>0.000</td>
                            <td><strong>2.882</strong></td>
                            <td>18.3%</td>
                            <td>3.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">8</td>
                            <td>0.974</td>
                            <td>0.943</td>
                            <td>0.176</td>
                            <td>0.000</td>
                            <td><strong>2.091</strong></td>
                            <td>46.6%</td>
                            <td>45.1%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">9</td>
                            <td>0.000</td>
                            <td>0.845</td>
                            <td>1.191</td>
                            <td>0.000</td>
                            <td><strong>2.035</strong></td>
                            <td>0.0%</td>
                            <td>41.5%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">10</td>
                            <td>0.982</td>
                            <td>0.632</td>
                            <td>0.410</td>
                            <td>0.000</td>
                            <td><strong>2.023</strong></td>
                            <td>48.5%</td>
                            <td>31.2%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">11</td>
                            <td>0.014</td>
                            <td>1.780</td>
                            <td>0.999</td>
                            <td>1.699</td>
                            <td><strong>4.492</strong></td>
                            <td>0.3%</td>
                            <td>39.6%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">12</td>
                            <td>1.859</td>
                            <td>0.235</td>
                            <td>1.400</td>
                            <td>0.000</td>
                            <td><strong>4.034</strong></td>
                            <td>46.1%</td>
                            <td>5.8%</td>
                        </tr>
                    </tbody>
                </table>
                </div>

                <h4 style="margin-top: 30px; color: #dc3545;">‚ö†Ô∏è Phase Validation Results</h4>
                <div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; border-radius: 5px; margin: 15px 0;">
                    <p style="margin: 0 0 10px 0;"><strong>‚ö†Ô∏è 2 repetitions failed phase sequence validation</strong></p>
                    <p style="margin: 0; font-size: 0.9em; opacity: 0.8;">These repetitions lack proper ascending+descending sequence or cyclic behavior (return to start angle).</p>
                </div>
                
                <div style="overflow-x: auto; margin-top: 15px;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Failure Reason</th>
                            <th>Phase Sequence</th>
                            <th>Start Angle (¬∞)</th>
                            <th>End Angle (¬∞)</th>
                            <th>Œî Angle (¬∞)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#1</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=True, has_desc=False)</td>
                            <td style="font-size: 0.85em;">ascending ‚Üí stable_high ‚Üí ascending ‚Üí stable_high</td>
                            <td>3.3</td>
                            <td>3.1</td>
                            <td><strong>0.2¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#9</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=True, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_low ‚Üí ascending</td>
                            <td>-10.7</td>
                            <td>-14.5</td>
                            <td><strong>3.8¬∞</strong></td>
                        </tr>
                    </tbody>
                </table>
                </div>
                
                <div style="background: #d1ecf1; border-left: 4px solid #17a2b8; padding: 15px; border-radius: 5px; margin: 20px 0;">
                    <h5 style="margin: 0 0 10px 0;">‚ÑπÔ∏è Validation Criteria</h5>
                    <ul style="margin: 5px 0; padding-left: 20px; font-size: 0.9em;">
                        <li><strong>Phase Sequence:</strong> Must contain BOTH ascending AND descending phases (stable phases allowed)</li>
                        <li><strong>Cyclic Behavior:</strong> Signal must return to starting angle within ¬±20¬∞ tolerance</li>
                        <li><strong>Standing Recovery:</strong> Validates proper exercise execution and position recovery (¬±20¬∞ accounts for natural drift and fatigue)</li>
                    </ul>
                </div>

                <div style="margin-top: 50px; padding: 30px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 15px; box-shadow: 0 8px 20px rgba(0,0,0,0.15);">
                    <h3 style="margin: 0 0 20px 0; color: white; font-size: 1.5em;">üöÄ ADVANCED REPETITION ANALYSIS (Production-Ready)</h3>
                    <div style="background: rgba(255,255,255,0.95); padding: 25px; border-radius: 10px;">
                        
                        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 25px;">
                            <h4 style="margin: 0 0 15px 0;">üéØ Key Improvements</h4>
                            <ul style="margin: 0; padding-left: 20px;">
                                <li><strong>Butterworth Filter:</strong> Zero-phase low-pass (10Hz cutoff) preserves signal shape</li>
                                <li><strong>ROM Threshold:</strong> Excludes half-reps and invalid movements</li>
                                <li><strong>Outlier Detection:</strong> IQR method removes statistical anomalies</li>
                                <li><strong>First/Last Exclusion:</strong> Removes adjustment and overshoot phases</li>
                                <li><strong>R¬≤ Validation:</strong> Fatigue trend trusted only if R¬≤ > 0.5</li>
                            </ul>
                        </div>
                        
                        <h4>üìã Filtering Statistics</h4>
                        <table class="comparison-table" style="margin-bottom: 25px;">
                            <thead>
                                <tr>
                                    <th>Metric</th>
                                    <th>Value</th>
                                    <th>Impact</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="metric-name">Total Detected (Before Filtering)</td>
                                    <td>11</td>
                                    <td><span class="badge badge-info">Baseline</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">ROM Threshold Applied</td>
                                    <td>14.3¬∞</td>
                                    <td><span class="badge badge-warning">3 removed</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">First/Last Reps Removed</td>
                                    <td>Yes</td>
                                    <td><span class="badge badge-warning">2 removed</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">Statistical Outliers Removed</td>
                                    <td>0</td>
                                    <td><span class="badge badge-success">Clean</span></td>
                                </tr>
                                <tr style="background: #e8f5e9;">
                                    <td class="metric-name"><strong>Valid Reps After Filtering</strong></td>
                                    <td><strong>4</strong></td>
                                    <td><span class="badge badge-success">36.4% retained</span></td>
                                </tr>
                            </tbody>
                        </table>

                        <h4>üéØ Advanced Quality Indices (0-100 scale)</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 25px;">
                            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 0.9em; opacity: 0.9; margin-bottom: 5px;">ROM Consistency</div>
                                <div style="font-size: 2.5em; font-weight: bold;">80.3</div>
                                <div style="font-size: 0.8em; opacity: 0.8; margin-top: 5px;">Lower CV = Better</div>
                            </div>
                            <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 0.9em; opacity: 0.9; margin-bottom: 5px;">Tempo Consistency</div>
                                <div style="font-size: 2.5em; font-weight: bold;">82.6</div>
                                <div style="font-size: 0.8em; opacity: 0.8; margin-top: 5px;">Execution Rhythm</div>
                            </div>
                            <div style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 0.9em; opacity: 0.9; margin-bottom: 5px;">Depth Index</div>
                                <div style="font-size: 2.5em; font-weight: bold;">80.3</div>
                                <div style="font-size: 0.8em; opacity: 0.8; margin-top: 5px;">Target Achievement</div>
                            </div>
                        </div>
                        
                        <div style="background: #28a745; color: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; text-align: center;">
                            <div style="font-size: 1.1em; opacity: 0.9; margin-bottom: 10px;">‚≠ê IGM SCORE (Integrated Global Metric)</div>
                            <div style="font-size: 3.5em; font-weight: bold; margin: 10px 0;">81.0 / 100</div>
                            <div style="font-size: 1.2em; font-weight: 500; background: rgba(255,255,255,0.2); padding: 10px 20px; border-radius: 5px; display: inline-block;">
                                Excellent: High consistency and depth control
                            </div>
                            <div style="font-size: 0.85em; opacity: 0.8; margin-top: 15px;">
                                Weighted: ROM√ó40% + Tempo√ó30% + Depth√ó30%
                            </div>
                        </div>
                        
                        <h4>üí™ Robust Fatigue Analysis</h4>
                        <table class="comparison-table" style="margin-bottom: 25px;">
                            <thead>
                                <tr>
                                    <th>Metric</th>
                                    <th>Value</th>
                                    <th>Interpretation</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="metric-name">Trend</td>
                                    <td><strong>PROGRESSIVE EXPLORATION</strong></td>
                                    <td>
                                        <span class="badge badge-info">‚ÑπÔ∏è ROM Increasing</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="metric-name">Slope</td>
                                    <td>+5.602¬∞/rep</td>
                                    <td style="color: #17a2b8;">Increasing range</td>
                                </tr>
                                <tr>
                                    <td class="metric-name">R¬≤ (Fit Quality)</td>
                                    <td><strong>0.874</strong></td>
                                    <td><span class="badge badge-success">GOOD FIT</span> ‚úì Trend Reliable</td>
                                </tr>
                                <tr>
                                    <td class="metric-name">Statistical Significance</td>
                                    <td>NO</td>
                                    <td><span class="badge badge-secondary">p ‚â• 0.05</span></td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <div style="background: #17a2b8; color: white; padding: 20px; border-radius: 10px; margin-bottom: 25px;">
                            <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üìä Interpretation</h5>
                            <p style="margin: 0; font-size: 1.05em; line-height: 1.6;">
                                <strong>‚ÑπÔ∏è PROGRESSIVE EXPLORATION:</strong> Range of motion is increasing over repetitions. 
                                The athlete is exploring ROM limits or improving warm-up. This is normal at session start but monitor for overstretching.
                            </p>
                        </div>
                        
                        <h4>üìä Raw Coefficient of Variation (for reference)</h4>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="label">Range CV</div>
                                <div class="value">19.7%</div>
                            </div>
                            <div class="stat-item">
                                <div class="label">Tempo CV</div>
                                <div class="value">17.4%</div>
                            </div>
                            <div class="stat-item">
                                <div class="label">Timing CV</div>
                                <div class="value">40.4%</div>
                            </div>
                        </div>
                        
                        <h4 style="margin-top: 30px;">‚úÖ Valid Repetitions (After Filtering)</h4>
                        <div style="overflow-x: auto;">
                        <table class="comparison-table">
                            <thead>
                                <tr>
                                    <th>Rep #</th>
                                    <th>Time (s)</th>
                                    <th>Duration (s)</th>
                                    <th>Range (¬∞)</th>
                                    <th>Depth (¬∞)</th>
                                    <th>ROM Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="metric-name">1</td>
                                    <td>19.67</td>
                                    <td>3.01</td>
                                    <td><strong>27.09</strong></td>
                                    <td>-17.86</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">2</td>
                                    <td>23.59</td>
                                    <td>4.92</td>
                                    <td><strong>30.73</strong></td>
                                    <td>-15.86</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">3</td>
                                    <td>29.51</td>
                                    <td>3.96</td>
                                    <td><strong>33.11</strong></td>
                                    <td>-20.64</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">4</td>
                                    <td>31.52</td>
                                    <td>4.50</td>
                                    <td><strong>44.97</strong></td>
                                    <td>-20.46</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                            </tbody>
                        </table>
                        </div>
                        
                        <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; margin-top: 25px; border-left: 5px solid #2196f3;">
                            <h5 style="margin: 0 0 10px 0; color: #1976d2;">üí° Key Takeaways</h5>
                            <ul style="margin: 0; padding-left: 20px; color: #424242;">
                                <li><strong>Base Analysis:</strong> Shows all detected movements (including half-reps, outliers)</li>
                                <li><strong>Advanced Analysis:</strong> Filters for quality - only biomechanically valid repetitions</li>
                                <li><strong>IGM Score:</strong> Single metric for performance evaluation (80+ = Excellent, 60-80 = Good, 40-60 = Fair, <40 = Poor)</li>
                                <li><strong>R¬≤ Validation:</strong> Ensures fatigue trends are statistically reliable, not random noise</li>
                                <li><strong>Use Case:</strong> Advanced metrics for athlete feedback, base counts for training volume</li>
                            </ul>
                        </div>
                        
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üìä Visualization</h3>

                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                    <h4 style="margin: 0 0 10px 0; font-size: 1.1em;">üéØ COMPLETE TIME-SERIES OVERVIEW</h4>
                    <p style="margin: 0; font-size: 0.95em; opacity: 0.95;">
                        Full recording with all detected regions and repetitions. 
                        <strong>Top panel:</strong> Phase regions (ascending/descending/stable_high/stable_low).
                        <strong>Bottom panel:</strong> All detected repetitions with suspicious markers.
                    </p>
                </div>
                <div class="plot-container" style="grid-column: 1 / -1; margin-bottom: 30px;">
                    <img src="overview_complete_ang_principal.png" alt="Complete Overview" style="width: 100%; max-width: 100%;">
                </div>
                
                <h4 style="margin-top: 20px; color: #666;">Detailed Analysis Plots</h4>
                <div class="plot-grid">
                    <div class="plot-container">
                        <div class="plot-title">Autocorrelation</div>
                        <img src="autocorr_ang_principal.png" alt="Autocorrelation">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">Frequency Spectrum</div>
                        <img src="spectrum_ang_principal.png" alt="Spectrum">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">Spectrogram (Time-Frequency)</div>
                        <img src="spectrogram_ang_principal.png" alt="Spectrogram">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">üìç Phase Detection (Ascending/Descending/Stable High/Low)</div>
                        <img src="phases_ang_principal.png" alt="Phase Detection">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">üèãÔ∏è Repetition Detection (Valleys & ROM)</div>
                        <img src="repetitions_ang_principal.png" alt="Repetitions">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">üî¨ Base vs Advanced Repetition Filtering</div>
                        <img src="repetitions_comparison_ang_principal.png" alt="Repetition Comparison">
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ANG1 FILTERED Statistics -->
        <div class="section">
            <div class="section-header filtered" onclick="this.nextElementSibling.style.display=this.nextElementSibling.style.display=='none'?'block':'none'">
                <span>üìä ANG1 FILTERED <span class="badge badge-success">‚ú® FILTERED</span></span>
                <span>‚ñº</span>
            </div>
            <div class="section-content">
                
                <!-- INTERACTIVE PLOTLY GRAPH EMBEDDED -->
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; margin-bottom: 25px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    <h4 style="margin: 0 0 10px 0; display: flex; align-items: center;">
                        <span style="font-size: 1.5em; margin-right: 10px;">üîç</span>
                        Interactive Signal Exploration
                    </h4>
                    <p style="margin: 0 0 15px 0; line-height: 1.6; opacity: 0.95; font-size: 0.95em;">
                        Hover over the plot to see precise values ‚Ä¢ Zoom by dragging ‚Ä¢ Double-click to reset
                    </p>
                </div>
                <!-- Embed interactive plot using iframe -->
                <iframe src="interactive_ang1_filtered.html" width="100%" height="500" frameborder="0" style="border: 1px solid #e0e0e0; border-radius: 8px; margin-bottom: 20px;"></iframe>
                
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean</div>
                        <div class="value">-83.05¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Median</div>
                        <div class="value">-83.02¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Dev</div>
                        <div class="value">2.38¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range</div>
                        <div class="value">45.66¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min / Max</div>
                        <div class="value">-91.12¬∞ / -45.46¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Skewness</div>
                        <div class="value">7.61</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Kurtosis</div>
                        <div class="value">103.23</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">SNR-like Index</div>
                        <div class="value">109.99</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Dynamic Range (5-95%)</div>
                        <div class="value">3.76¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Noise Estimate</div>
                        <div class="value">0.0342¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Stationary</div>
                        <div class="value">‚úì Yes</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Linear Trend</div>
                        <div class="value">-0.0206 ¬∞/s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Peaks / Troughs</div>
                        <div class="value">325 / 326</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Dominant Frequency</div>
                        <div class="value">0.0256 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Period</div>
                        <div class="value">39.04 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">ACF Periodicity</div>
                        <div class="value">1 samples</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">Sliding Window Analysis (2.0s window, 0.5s step)</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Std of Window Means</div>
                        <div class="value">0.77¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std of Window Stds</div>
                        <div class="value">0.87¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Window Std</div>
                        <div class="value">0.52¬∞</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üîÑ Cycle-Level Metrics</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Total Cycles</div>
                        <div class="value">23</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Duration</div>
                        <div class="value">1.750 s (CV=65.0%)</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Amplitude</div>
                        <div class="value">2.11¬∞ (CV=87.8%)</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Trend Duration/Cycle</div>
                        <div class="value">-0.0411 s/cycle</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Trend Amplitude/Cycle</div>
                        <div class="value">+0.0018 ¬∞/cycle</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üìç Phase Statistics</h3>
                
                <div style="background: #fff3e0; padding: 15px; border-radius: 5px; margin-bottom: 15px; border-left: 4px solid #ff6f00;">
                    <h4 style="color: #ff6f00; margin-bottom: 10px;">üîÑ Understanding Movement Phases</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; font-size: 0.9em;">
                        <div>
                            <strong>üîº Ascending</strong> (Concentric)<br>
                            <span style="opacity: 0.8;">Upward motion, muscle shortening. E.g., rising from squat bottom.</span>
                        </div>
                        <div>
                            <strong>üîΩ Descending</strong> (Eccentric)<br>
                            <span style="opacity: 0.8;">Downward motion, muscle lengthening. E.g., lowering into squat.</span>
                        </div>
                        <div>
                            <strong>üüß Stable High</strong> (Top Hold)<br>
                            <span style="opacity: 0.8;">Isometric hold in standing position between reps.</span>
                        </div>
                        <div>
                            <strong>üü¶ Stable Low</strong> (Bottom Hold)<br>
                            <span style="opacity: 0.8;">Isometric hold at bottom position (pause squats).</span>
                        </div>
                    </div>
                    <p style="margin-top: 10px; font-size: 0.85em; opacity: 0.9;">
                        <strong>CV (Coefficient of Variation)</strong>: Measures consistency. Lower values = more consistent timing across phases.
                    </p>
                </div>
                
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Phase Type</th>
                            <th>Count</th>
                            <th>Mean Duration</th>
                            <th>CV</th>
                            <th>Total Time</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="metric-name">üîº Ascending</td>
                            <td>1</td>
                            <td>0.435 s</td>
                            <td>0.0%</td>
                            <td>0.4 s</td>
                        </tr>
                        <tr>
                            <td class="metric-name">üüß Stable High (standing)</td>
                            <td>13</td>
                            <td>1.708 s</td>
                            <td>54.4%</td>
                            <td>22.2 s</td>
                        </tr>
                        <tr>
                            <td class="metric-name">üü¶ Stable Low (bottom)</td>
                            <td>8</td>
                            <td>1.981 s</td>
                            <td>69.2%</td>
                            <td>15.8 s</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3 style="margin-top: 30px;">üèãÔ∏è Exercise Repetition Analysis</h3>
                
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin: 20px 0;">
                    <h4 style="margin: 0 0 15px 0; font-size: 1.2em;">üìä Summary</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Total Repetitions</div>
                            <div style="font-size: 2em; font-weight: bold;">11</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Detection Threshold</div>
                            <div style="font-size: 1.5em; font-weight: bold;">0.75¬∞</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Consistency Score</div>
                            <div style="font-size: 1.5em; font-weight: bold;">25.3/100</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">‚ö†Ô∏è Suspicious Reps</div>
                            <div style="font-size: 1.5em; font-weight: bold;">11</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">üìè Median ROM</div>
                            <div style="font-size: 1.5em; font-weight: bold;">1.88¬∞</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">üéØ ROM Threshold (50%)</div>
                            <div style="font-size: 1.5em; font-weight: bold;">0.94¬∞</div>
                        </div>
                    </div>
                </div>

                <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 5px solid #2196f3;">
                    <h4 style="color: #1976d2; margin-bottom: 15px;">üìä Comparison: Base Analysis vs Advanced Filtering</h4>
                    <table class="comparison-table" style="margin-bottom: 15px;">
                        <thead>
                            <tr>
                                <th>Metric</th>
                                <th>Base Analysis</th>
                                <th>Advanced Analysis</th>
                                <th>Difference</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="metric-name">Total Repetitions Detected</td>
                                <td><strong>11</strong></td>
                                <td><strong>0</strong></td>
                                <td><span class="badge badge-warning">-11 (0.0%)</span></td>
                            </tr>
                            <tr>
                                <td class="metric-name">Filtering Applied</td>
                                <td><span class="badge badge-info">Prominence + Phase Detection</span></td>
                                <td><span class="badge badge-success">ROM Threshold + Outliers + First/Last</span></td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td class="metric-name">Mean ROM</td>
                                <td>9.53¬∞</td>
                                <td>0.00¬∞</td>
                                <td>-9.53¬∞</td>
                            </tr>
                            <tr>
                                <td class="metric-name">ROM CV (Consistency)</td>
                                <td>175.2%</td>
                                <td>N/A</td>
                                <td>N/A</td>
                            </tr>
                            <tr>
                                <td class="metric-name">Suspicious Reps</td>
                                <td><span class="badge badge-warning">11 reps</span></td>
                                <td><span class="badge badge-success">Filtered out</span></td>
                                <td>-11 cleaned</td>
                            </tr>
                        </tbody>
                    </table>
                    <p style="margin: 10px 0 0 0; color: #424242; font-size: 0.9em;">
                        <strong>üí° Interpretation:</strong> Advanced analysis applies stricter quality filters to remove half-reps, 
                        statistical outliers, and adjustment phases (first/last reps). This typically results in fewer but 
                        more biomechanically valid repetitions with better consistency metrics.
                    </p>
                </div>

                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; margin: 25px 0; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    <h4 style="margin: 0 0 15px 0; display: flex; align-items: center;">
                        <span style="font-size: 1.5em; margin-right: 10px;">üîç</span>
                        Criteri di Validazione delle Ripetizioni
                    </h4>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üìä 1. Range of Motion (ROM)</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione √® considerata <strong>sospetta per ROM</strong> se:<br>
                            ‚Ä¢ ROM &lt; 50% della mediana di tutte le ripetizioni<br>
                            ‚Ä¢ Esempio: Se mediana ROM = 22.87¬∞, la soglia √® 11.4¬∞<br>
                            ‚Ä¢ <em>Motivo</em>: Ripetizioni troppo piccole potrebbero essere artefatti o movimenti incompleti
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üîÑ 2. Sequenza di Fasi</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione <strong>valida</strong> deve contenere:<br>
                            ‚Ä¢ Almeno una fase di <strong style="color: #4ade80;">ASCESA</strong> (ascending)<br>
                            ‚Ä¢ Almeno una fase di <strong style="color: #f87171;">DISCESA</strong> (descending)<br>
                            ‚Ä¢ <em>Motivo</em>: Un esercizio completo richiede movimento bidirezionale (es: squat = scendi + sali)
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üîÅ 3. Ciclicit√† (Ritorno all'Origine)</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione √® <strong>ciclica</strong> se:<br>
                            ‚Ä¢ Il <strong>punto pi√π alto DOPO</strong> il minimo ritorna entro <strong>¬±20¬∞</strong> dal <strong>punto pi√π alto PRIMA</strong> del minimo<br>
                            ‚Ä¢ Calcolo: <code style="background: rgba(0,0,0,0.3); padding: 2px 6px; border-radius: 4px;">Œîangle = |max_dopo - max_prima|</code><br>
                            ‚Ä¢ Esempio: Durante uno squat, se parti da -115¬∞ (in piedi), scendi a -136¬∞ (gi√π), e risali a -125¬∞ (in piedi) ‚Üí Œî = 10¬∞ ‚úì<br>
                            ‚Ä¢ <strong>Nota importante</strong>: Si confrontano le posizioni erette (massimi), non i punti intermedi tra ripetizioni<br>
                            ‚Ä¢ <em>Motivo</em>: Tolleranza di ¬±20¬∞ per tenere conto di drift naturale, fatica e variabilit√† umana nell'esecuzione
                        </p>
                    </div>
                    <div style="margin-top: 15px; padding: 12px; background: rgba(255,255,255,0.15); border-left: 4px solid #fbbf24; border-radius: 4px;">
                        <strong>‚ö†Ô∏è Nota:</strong> Una ripetizione pu√≤ essere marcata "suspicious" per uno o pi√π criteri. 
                        I motivi specifici sono indicati nella colonna "Quality".
                    </div>
                </div>
                
                <h4 style="margin-top: 25px;">üìã Per-Repetition Metrics</h4>
                <div style="overflow-x: auto;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Time (s)</th>
                            <th>Duration (s)</th>
                            <th>Range (¬∞)</th>
                            <th>Depth (¬∞)</th>
                            <th>Quality</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">1</td>
                            <td>0.19</td>
                            <td>2.08</td>
                            <td>44.59</td>
                            <td>-90.05</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=True, has_desc=False); Not cyclic (Œîangle=37.4¬∞)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">2</td>
                            <td>3.97</td>
                            <td>4.66</td>
                            <td>1.27</td>
                            <td>-84.29</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=False)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">3</td>
                            <td>9.51</td>
                            <td>4.25</td>
                            <td>1.93</td>
                            <td>-83.89</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=False)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">4</td>
                            <td>12.48</td>
                            <td>3.89</td>
                            <td>1.41</td>
                            <td>-83.18</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=False)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">5</td>
                            <td>17.30</td>
                            <td>4.02</td>
                            <td>1.48</td>
                            <td>-83.14</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=False)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">6</td>
                            <td>20.53</td>
                            <td>3.96</td>
                            <td>1.29</td>
                            <td>-83.35</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=False)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">7</td>
                            <td>25.22</td>
                            <td>3.43</td>
                            <td>1.30</td>
                            <td>-83.38</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=False)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">8</td>
                            <td>27.39</td>
                            <td>3.50</td>
                            <td>1.98</td>
                            <td>-83.81</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=False)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">9</td>
                            <td>32.23</td>
                            <td>3.98</td>
                            <td>2.38</td>
                            <td>-83.86</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=False)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">10</td>
                            <td>35.35</td>
                            <td>3.22</td>
                            <td>1.88</td>
                            <td>-83.65</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=False)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">11</td>
                            <td>38.68</td>
                            <td>2.03</td>
                            <td>45.26</td>
                            <td>-91.12</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=False); Not cyclic (Œîangle=38.6¬∞)</span></td>
                        </tr>
                    </tbody>
                </table>
                </div>

                <h4 style="margin-top: 25px;">‚è±Ô∏è Timing Analysis</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Interval</div>
                        <div class="value">3.85 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Deviation</div>
                        <div class="value">1.07 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min/Max Interval</div>
                        <div class="value">2.16 / 5.54 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Timing CV</div>
                        <div class="value">27.8%</div>
                    </div>
                </div>

                <h4 style="margin-top: 25px;">üìè Range of Motion Analysis</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Range</div>
                        <div class="value">9.53¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Deviation</div>
                        <div class="value">17.51¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min/Max Range</div>
                        <div class="value">1.27 / 45.26¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range Consistency (CV)</div>
                        <div class="value">175.2%</div>
                    </div>
                </div>

                <h4 style="margin-top: 25px;">‚≠ê Performance Quality</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Overall Consistency</div>
                        <div class="value">25.3/100</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range Consistency</div>
                        <div class="value">175.2%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Timing Consistency</div>
                        <div class="value">26.4%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Tempo Consistency</div>
                        <div class="value">22.5%</div>
                    </div>
                </div>
                
                <div style="background: #28a745; color: white; padding: 15px; border-radius: 8px; margin: 20px 0;">
                    <h5 style="margin: 0 0 10px 0;">üéØ Fatigue Indicator</h5>
                    <p style="margin: 0; font-size: 1.1em;"><strong>STABLE</strong></p>
                    <p style="margin: 5px 0 0 0; opacity: 0.9;">+0.074¬∞/rep</p>
                </div>
                
                <h4 style="margin-top: 25px;">üéØ Derived Metrics</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Average Rep Frequency</div>
                        <div class="value">0.2598 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Seconds per Rep</div>
                        <div class="value">3.85 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Exercise Duration</div>
                        <div class="value">38.49 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Work Density</div>
                        <div class="value">17.1 reps/min</div>
                    </div>
                </div>

                <h4 style="margin-top: 30px;">‚è±Ô∏è Detailed Temporal Parameters (50 Parameters)</h4>
                
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin: 15px 0;">
                    <h4 style="margin: 0 0 15px 0; font-size: 1.2em;">üìä Complete Temporal Analysis</h4>
                    <p style="margin: 0 0 15px 0; line-height: 1.6;">
                        This section presents a <strong>comprehensive temporal analysis</strong> of your exercise execution,
                        breaking down each repetition into its constituent phases and analyzing timing patterns, 
                        consistency, and trends throughout the session.
                    </p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; font-size: 0.9em;">
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìã Per-Repetition</strong><br>
                            8 params √ó 11 reps<br>
                            <span style="opacity: 0.9;">Phase timings + percentages</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üåç Global Timing</strong><br>
                            4 parameters<br>
                            <span style="opacity: 0.9;">Frequency, density, cycles</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìà Session Totals</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Cumulative work & rest</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìä Variances</strong><br>
                            16 parameters<br>
                            <span style="opacity: 0.9;">Consistency metrics (CV)</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üîÑ Regularity</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Duration stability</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>‚ö†Ô∏è Outliers</strong><br>
                            4 parameters<br>
                            <span style="opacity: 0.9;">Unusual timing patterns</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìà Trends</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Fatigue indicators</span>
                        </div>
                    </div>
                </div>
                
                <!-- B. Global Timing Parameters -->
                <h5 style="margin-top: 20px; color: #667eea;">üìä Global Timing Parameters</h5>
                <div style="background: #f8f9fa; padding: 10px; border-radius: 5px; margin-bottom: 10px; font-size: 0.9em;">
                    <strong>Cycle Time</strong>: Time from start of one rep to start of next (includes work + rest). 
                    <strong>Density Ratio</strong>: Proportion of time spent in active work (ecc+conc) vs total time.
                    Higher density = more continuous training stimulus.
                </div>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Rep Duration</div>
                        <div class="value">3.55 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Time</div>
                        <div class="value">3.85 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Execution Frequency</div>
                        <div class="value">0.260 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Density Ratio</div>
                        <div class="value">1.9%</div>
                    </div>
                </div>
                
                <!-- C. Session Total Times -->
                <h5 style="margin-top: 20px; color: #667eea;">üìà Session Total Times</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Total Eccentric Time</div>
                        <div class="value">0.00 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Concentric Time</div>
                        <div class="value">0.43 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Bottom Hold</div>
                        <div class="value">15.85 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Top Hold</div>
                        <div class="value">22.21 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Work Time</div>
                        <div class="value">0.43 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Pause Time</div>
                        <div class="value">38.05 s</div>
                    </div>
                </div>
                
                <!-- D. Temporal Variances -->
                <h5 style="margin-top: 20px; color: #667eea;">üìä Temporal Variances (Coefficient of Variation)</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Eccentric CV</div>
                        <div class="value">0.0%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Concentric CV</div>
                        <div class="value">0.0%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Bottom Hold CV</div>
                        <div class="value">56.5%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Top Hold CV</div>
                        <div class="value">27.7%</div>
                    </div>
                </div>
                
                <!-- E. Regularity & Continuity -->
                <h5 style="margin-top: 20px; color: #667eea;">üîÑ Regularity & Continuity</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Rep Duration CV</div>
                        <div class="value">22.5%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Rep Duration Range</div>
                        <div class="value">2.63 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time CV</div>
                        <div class="value">26.4%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time Range</div>
                        <div class="value">3.38 s</div>
                    </div>
                </div>
                
                <!-- F. Temporal Outliers -->
                <h5 style="margin-top: 20px; color: #667eea;">‚ö†Ô∏è Temporal Outliers</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Slow Eccentric Reps</div>
                        <div class="value">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Fast Concentric Reps</div>
                        <div class="value">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Excessive Bottom Holds</div>
                        <div class="value">3</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Excessive Top Holds</div>
                        <div class="value">6</div>
                    </div>
                </div>
                
                <!-- G. Longitudinal Trends -->
                <h5 style="margin-top: 20px; color: #667eea;">üìà Longitudinal Trends (s/rep)</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Eccentric Trend</div>
                        <div class="value" style="color: #28a745">+0.0000 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Concentric Trend</div>
                        <div class="value" style="color: #dc3545">-0.0198 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Bottom Hold Trend</div>
                        <div class="value" style="color: #dc3545">-0.0658 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Top Hold Trend</div>
                        <div class="value" style="color: #28a745">+0.0037 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Rep Duration Trend</div>
                        <div class="value" style="color: #dc3545">-0.0744 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time Trend</div>
                        <div class="value" style="color: #dc3545">-0.1093 s/rep</div>
                    </div>
                </div>
                
                <!-- TEMPORAL EVOLUTION PLOTS -->
                <h5 style="margin-top: 25px; color: #667eea;">üìà Temporal Evolution Across Repetitions</h5>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <p style="margin: 0 0 10px 0; color: #424242; line-height: 1.6;">
                        <strong>Visual Analysis:</strong> The following plots show how timing metrics evolve throughout your exercise session.
                        Orange dashed lines indicate trends - positive slopes suggest fatigue (slowing down), negative slopes indicate adaptation or pacing strategy.
                    </p>
                    <div style="text-align: center;">
                        <img src="temporal_evolution_ang1_filtered.png" alt="Temporal Evolution" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    </div>
                </div>
                
                <!-- A. Per-Repetition Details Table -->
                <h5 style="margin-top: 25px; color: #667eea;">üìã Per-Repetition Timing Breakdown</h5>
                <div style="overflow-x: auto;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Eccentric (s)</th>
                            <th>Concentric (s)</th>
                            <th>Bottom Hold (s)</th>
                            <th>Top Hold (s)</th>
                            <th>Total (s)</th>
                            <th>Ecc %</th>
                            <th>Con %</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="metric-name">1</td>
                            <td>0.000</td>
                            <td>0.435</td>
                            <td>1.450</td>
                            <td>0.000</td>
                            <td><strong>2.078</strong></td>
                            <td>0.0%</td>
                            <td>20.9%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">2</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>4.657</td>
                            <td>0.000</td>
                            <td><strong>4.656</strong></td>
                            <td>0.0%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">3</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>2.771</td>
                            <td>1.483</td>
                            <td><strong>4.253</strong></td>
                            <td>0.0%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">4</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>3.894</td>
                            <td><strong>3.893</strong></td>
                            <td>0.0%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">5</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>4.025</td>
                            <td><strong>4.024</strong></td>
                            <td>0.0%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">6</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>3.965</td>
                            <td><strong>3.963</strong></td>
                            <td>0.0%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">7</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>3.429</td>
                            <td><strong>3.428</strong></td>
                            <td>0.0%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">8</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>0.520</td>
                            <td>2.985</td>
                            <td><strong>3.504</strong></td>
                            <td>0.0%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">9</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>1.558</td>
                            <td>2.424</td>
                            <td><strong>3.981</strong></td>
                            <td>0.0%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">10</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>3.225</td>
                            <td>0.000</td>
                            <td><strong>3.223</strong></td>
                            <td>0.0%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">11</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>1.668</td>
                            <td>0.000</td>
                            <td><strong>2.026</strong></td>
                            <td>0.0%</td>
                            <td>0.0%</td>
                        </tr>
                    </tbody>
                </table>
                </div>

                <h4 style="margin-top: 30px; color: #dc3545;">‚ö†Ô∏è Phase Validation Results</h4>
                <div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; border-radius: 5px; margin: 15px 0;">
                    <p style="margin: 0 0 10px 0;"><strong>‚ö†Ô∏è 11 repetitions failed phase sequence validation</strong></p>
                    <p style="margin: 0; font-size: 0.9em; opacity: 0.8;">These repetitions lack proper ascending+descending sequence or cyclic behavior (return to start angle).</p>
                </div>
                
                <div style="overflow-x: auto; margin-top: 15px;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Failure Reason</th>
                            <th>Phase Sequence</th>
                            <th>Start Angle (¬∞)</th>
                            <th>End Angle (¬∞)</th>
                            <th>Œî Angle (¬∞)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#1</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=True, has_desc=False)<br>Not cyclic (Œîangle=37.4¬∞)</td>
                            <td style="font-size: 0.85em;">ascending ‚Üí stable_low</td>
                            <td>-45.5</td>
                            <td>-82.9</td>
                            <td><strong>37.4¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#2</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_low</td>
                            <td>-83.3</td>
                            <td>-83.0</td>
                            <td><strong>0.3¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#3</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_low ‚Üí stable_high</td>
                            <td>-82.0</td>
                            <td>-82.0</td>
                            <td><strong>0.1¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#4</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_high</td>
                            <td>-82.3</td>
                            <td>-81.9</td>
                            <td><strong>0.4¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#5</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_high</td>
                            <td>-81.7</td>
                            <td>-81.8</td>
                            <td><strong>0.1¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#6</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_high</td>
                            <td>-82.1</td>
                            <td>-82.1</td>
                            <td><strong>0.1¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#7</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_high</td>
                            <td>-82.2</td>
                            <td>-82.1</td>
                            <td><strong>0.1¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#8</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_high ‚Üí stable_low ‚Üí stable_high</td>
                            <td>-82.3</td>
                            <td>-82.3</td>
                            <td><strong>0.1¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#9</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_high ‚Üí stable_low</td>
                            <td>-81.5</td>
                            <td>-83.2</td>
                            <td><strong>1.8¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#10</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_low</td>
                            <td>-82.6</td>
                            <td>-82.6</td>
                            <td><strong>0.0¬∞</strong></td>
                        </tr>
                    </tbody>
                </table>
                </div>
                
                <div style="background: #d1ecf1; border-left: 4px solid #17a2b8; padding: 15px; border-radius: 5px; margin: 20px 0;">
                    <h5 style="margin: 0 0 10px 0;">‚ÑπÔ∏è Validation Criteria</h5>
                    <ul style="margin: 5px 0; padding-left: 20px; font-size: 0.9em;">
                        <li><strong>Phase Sequence:</strong> Must contain BOTH ascending AND descending phases (stable phases allowed)</li>
                        <li><strong>Cyclic Behavior:</strong> Signal must return to starting angle within ¬±20¬∞ tolerance</li>
                        <li><strong>Standing Recovery:</strong> Validates proper exercise execution and position recovery (¬±20¬∞ accounts for natural drift and fatigue)</li>
                    </ul>
                </div>

                <div style="margin-top: 50px; padding: 30px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 15px; box-shadow: 0 8px 20px rgba(0,0,0,0.15);">
                    <h3 style="margin: 0 0 20px 0; color: white; font-size: 1.5em;">üöÄ ADVANCED REPETITION ANALYSIS (Production-Ready)</h3>
                    <div style="background: rgba(255,255,255,0.95); padding: 25px; border-radius: 10px;">
                        
                        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 25px;">
                            <h4 style="margin: 0 0 15px 0;">üéØ Key Improvements</h4>
                            <ul style="margin: 0; padding-left: 20px;">
                                <li><strong>Butterworth Filter:</strong> Zero-phase low-pass (10Hz cutoff) preserves signal shape</li>
                                <li><strong>ROM Threshold:</strong> Excludes half-reps and invalid movements</li>
                                <li><strong>Outlier Detection:</strong> IQR method removes statistical anomalies</li>
                                <li><strong>First/Last Exclusion:</strong> Removes adjustment and overshoot phases</li>
                                <li><strong>R¬≤ Validation:</strong> Fatigue trend trusted only if R¬≤ > 0.5</li>
                            </ul>
                        </div>
                        
                        <h4>üìã Filtering Statistics</h4>
                        <table class="comparison-table" style="margin-bottom: 25px;">
                            <thead>
                                <tr>
                                    <th>Metric</th>
                                    <th>Value</th>
                                    <th>Impact</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="metric-name">Total Detected (Before Filtering)</td>
                                    <td>11</td>
                                    <td><span class="badge badge-info">Baseline</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">ROM Threshold Applied</td>
                                    <td>1.9¬∞</td>
                                    <td><span class="badge badge-warning">6 removed</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">First/Last Reps Removed</td>
                                    <td>Yes</td>
                                    <td><span class="badge badge-warning">2 removed</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">Statistical Outliers Removed</td>
                                    <td>0</td>
                                    <td><span class="badge badge-success">Clean</span></td>
                                </tr>
                                <tr style="background: #e8f5e9;">
                                    <td class="metric-name"><strong>Valid Reps After Filtering</strong></td>
                                    <td><strong>0</strong></td>
                                    <td><span class="badge badge-success">0.0% retained</span></td>
                                </tr>
                            </tbody>
                        </table>

                        <div style="background: #fff3cd; padding: 20px; border-radius: 10px; border-left: 5px solid #ffc107;">
                            <h5 style="margin: 0 0 10px 0; color: #856404;">‚ö†Ô∏è No Valid Repetitions After Filtering</h5>
                            <p style="margin: 0; color: #856404;">
                                All detected repetitions were filtered out due to:
                                <ul style="margin: 10px 0 0 0; padding-left: 20px;">
                                    <li>ROM below threshold</li>
                                    <li>Statistical outliers (too far from median)</li>
                                    <li>First/last reps excluded (adjustment phase)</li>
                                </ul>
                                <strong>Suggestion:</strong> Review signal quality or lower ROM threshold for this exercise type.
                            </p>
                        </div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üìä Visualization</h3>

                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                    <h4 style="margin: 0 0 10px 0; font-size: 1.1em;">üéØ COMPLETE TIME-SERIES OVERVIEW</h4>
                    <p style="margin: 0; font-size: 0.95em; opacity: 0.95;">
                        Full recording with all detected regions and repetitions. 
                        <strong>Top panel:</strong> Phase regions (ascending/descending/stable_high/stable_low).
                        <strong>Bottom panel:</strong> All detected repetitions with suspicious markers.
                    </p>
                </div>
                <div class="plot-container" style="grid-column: 1 / -1; margin-bottom: 30px;">
                    <img src="overview_complete_ang1_filtered.png" alt="Complete Overview" style="width: 100%; max-width: 100%;">
                </div>
                
                <h4 style="margin-top: 20px; color: #666;">Detailed Analysis Plots</h4>
                <div class="plot-grid">
                    <div class="plot-container">
                        <div class="plot-title">Autocorrelation</div>
                        <img src="autocorr_ang1_filtered.png" alt="Autocorrelation">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">Frequency Spectrum</div>
                        <img src="spectrum_ang1_filtered.png" alt="Spectrum">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">Spectrogram (Time-Frequency)</div>
                        <img src="spectrogram_ang1_filtered.png" alt="Spectrogram">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">üìç Phase Detection (Ascending/Descending/Stable High/Low)</div>
                        <img src="phases_ang1_filtered.png" alt="Phase Detection">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">üèãÔ∏è Repetition Detection (Valleys & ROM)</div>
                        <img src="repetitions_ang1_filtered.png" alt="Repetitions">
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ANG2 FILTERED Statistics -->
        <div class="section">
            <div class="section-header filtered" onclick="this.nextElementSibling.style.display=this.nextElementSibling.style.display=='none'?'block':'none'">
                <span>üìä ANG2 FILTERED <span class="badge badge-success">‚ú® FILTERED</span></span>
                <span>‚ñº</span>
            </div>
            <div class="section-content">
                
                <!-- INTERACTIVE PLOTLY GRAPH EMBEDDED -->
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; margin-bottom: 25px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    <h4 style="margin: 0 0 10px 0; display: flex; align-items: center;">
                        <span style="font-size: 1.5em; margin-right: 10px;">üîç</span>
                        Interactive Signal Exploration
                    </h4>
                    <p style="margin: 0 0 15px 0; line-height: 1.6; opacity: 0.95; font-size: 0.95em;">
                        Hover over the plot to see precise values ‚Ä¢ Zoom by dragging ‚Ä¢ Double-click to reset
                    </p>
                </div>
                <!-- Embed interactive plot using iframe -->
                <iframe src="interactive_ang2_filtered.html" width="100%" height="500" frameborder="0" style="border: 1px solid #e0e0e0; border-radius: 8px; margin-bottom: 20px;"></iframe>
                
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean</div>
                        <div class="value">-2.08¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Median</div>
                        <div class="value">-1.57¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Dev</div>
                        <div class="value">3.44¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range</div>
                        <div class="value">28.01¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min / Max</div>
                        <div class="value">-20.91¬∞ / 7.10¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Skewness</div>
                        <div class="value">-1.36</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Kurtosis</div>
                        <div class="value">5.32</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">SNR-like Index</div>
                        <div class="value">615.83</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Dynamic Range (5-95%)</div>
                        <div class="value">12.43¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Noise Estimate</div>
                        <div class="value">0.0202¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Stationary</div>
                        <div class="value">‚úì Yes</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Linear Trend</div>
                        <div class="value">-0.0163 ¬∞/s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Peaks / Troughs</div>
                        <div class="value">318 / 319</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Dominant Frequency</div>
                        <div class="value">0.0256 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Period</div>
                        <div class="value">39.04 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">ACF Periodicity</div>
                        <div class="value">1 samples</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">Sliding Window Analysis (2.0s window, 0.5s step)</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Std of Window Means</div>
                        <div class="value">2.01¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std of Window Stds</div>
                        <div class="value">1.38¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Window Std</div>
                        <div class="value">1.50¬∞</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üîÑ Cycle-Level Metrics</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Total Cycles</div>
                        <div class="value">42</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Duration</div>
                        <div class="value">0.943 s (CV=61.9%)</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Amplitude</div>
                        <div class="value">5.08¬∞ (CV=86.7%)</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Trend Duration/Cycle</div>
                        <div class="value">+0.0033 s/cycle</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Trend Amplitude/Cycle</div>
                        <div class="value">-0.1078 ¬∞/cycle</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üìç Phase Statistics</h3>
                
                <div style="background: #fff3e0; padding: 15px; border-radius: 5px; margin-bottom: 15px; border-left: 4px solid #ff6f00;">
                    <h4 style="color: #ff6f00; margin-bottom: 10px;">üîÑ Understanding Movement Phases</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; font-size: 0.9em;">
                        <div>
                            <strong>üîº Ascending</strong> (Concentric)<br>
                            <span style="opacity: 0.8;">Upward motion, muscle shortening. E.g., rising from squat bottom.</span>
                        </div>
                        <div>
                            <strong>üîΩ Descending</strong> (Eccentric)<br>
                            <span style="opacity: 0.8;">Downward motion, muscle lengthening. E.g., lowering into squat.</span>
                        </div>
                        <div>
                            <strong>üüß Stable High</strong> (Top Hold)<br>
                            <span style="opacity: 0.8;">Isometric hold in standing position between reps.</span>
                        </div>
                        <div>
                            <strong>üü¶ Stable Low</strong> (Bottom Hold)<br>
                            <span style="opacity: 0.8;">Isometric hold at bottom position (pause squats).</span>
                        </div>
                    </div>
                    <p style="margin-top: 10px; font-size: 0.85em; opacity: 0.9;">
                        <strong>CV (Coefficient of Variation)</strong>: Measures consistency. Lower values = more consistent timing across phases.
                    </p>
                </div>
                
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Phase Type</th>
                            <th>Count</th>
                            <th>Mean Duration</th>
                            <th>CV</th>
                            <th>Total Time</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="metric-name">üîº Ascending</td>
                            <td>6</td>
                            <td>0.655 s</td>
                            <td>24.0%</td>
                            <td>3.9 s</td>
                        </tr>
                        <tr>
                            <td class="metric-name">üîΩ Descending</td>
                            <td>8</td>
                            <td>0.673 s</td>
                            <td>29.2%</td>
                            <td>5.4 s</td>
                        </tr>
                        <tr>
                            <td class="metric-name">üüß Stable High (standing)</td>
                            <td>15</td>
                            <td>1.160 s</td>
                            <td>65.3%</td>
                            <td>17.4 s</td>
                        </tr>
                        <tr>
                            <td class="metric-name">üü¶ Stable Low (bottom)</td>
                            <td>12</td>
                            <td>0.995 s</td>
                            <td>50.8%</td>
                            <td>11.9 s</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3 style="margin-top: 30px;">üèãÔ∏è Exercise Repetition Analysis</h3>
                
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin: 20px 0;">
                    <h4 style="margin: 0 0 15px 0; font-size: 1.2em;">üìä Summary</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Total Repetitions</div>
                            <div style="font-size: 2em; font-weight: bold;">10</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Detection Threshold</div>
                            <div style="font-size: 1.5em; font-weight: bold;">2.49¬∞</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Consistency Score</div>
                            <div style="font-size: 1.5em; font-weight: bold;">52.4/100</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">‚ö†Ô∏è Suspicious Reps</div>
                            <div style="font-size: 1.5em; font-weight: bold;">6</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">üìè Median ROM</div>
                            <div style="font-size: 1.5em; font-weight: bold;">8.76¬∞</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">üéØ ROM Threshold (50%)</div>
                            <div style="font-size: 1.5em; font-weight: bold;">4.38¬∞</div>
                        </div>
                    </div>
                </div>

                <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 5px solid #2196f3;">
                    <h4 style="color: #1976d2; margin-bottom: 15px;">üìä Comparison: Base Analysis vs Advanced Filtering</h4>
                    <table class="comparison-table" style="margin-bottom: 15px;">
                        <thead>
                            <tr>
                                <th>Metric</th>
                                <th>Base Analysis</th>
                                <th>Advanced Analysis</th>
                                <th>Difference</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="metric-name">Total Repetitions Detected</td>
                                <td><strong>10</strong></td>
                                <td><strong>4</strong></td>
                                <td><span class="badge badge-warning">-6 (40.0%)</span></td>
                            </tr>
                            <tr>
                                <td class="metric-name">Filtering Applied</td>
                                <td><span class="badge badge-info">Prominence + Phase Detection</span></td>
                                <td><span class="badge badge-success">ROM Threshold + Outliers + First/Last</span></td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td class="metric-name">Mean ROM</td>
                                <td>9.26¬∞</td>
                                <td>11.17¬∞</td>
                                <td>+1.91¬∞</td>
                            </tr>
                            <tr>
                                <td class="metric-name">ROM CV (Consistency)</td>
                                <td>54.1%</td>
                                <td>19.8%</td>
                                <td>-34.3%</td>
                            </tr>
                            <tr>
                                <td class="metric-name">Suspicious Reps</td>
                                <td><span class="badge badge-warning">6 reps</span></td>
                                <td><span class="badge badge-success">Filtered out</span></td>
                                <td>-6 cleaned</td>
                            </tr>
                        </tbody>
                    </table>
                    <p style="margin: 10px 0 0 0; color: #424242; font-size: 0.9em;">
                        <strong>üí° Interpretation:</strong> Advanced analysis applies stricter quality filters to remove half-reps, 
                        statistical outliers, and adjustment phases (first/last reps). This typically results in fewer but 
                        more biomechanically valid repetitions with better consistency metrics.
                    </p>
                </div>

                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; margin: 25px 0; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    <h4 style="margin: 0 0 15px 0; display: flex; align-items: center;">
                        <span style="font-size: 1.5em; margin-right: 10px;">üîç</span>
                        Criteri di Validazione delle Ripetizioni
                    </h4>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üìä 1. Range of Motion (ROM)</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione √® considerata <strong>sospetta per ROM</strong> se:<br>
                            ‚Ä¢ ROM &lt; 50% della mediana di tutte le ripetizioni<br>
                            ‚Ä¢ Esempio: Se mediana ROM = 22.87¬∞, la soglia √® 11.4¬∞<br>
                            ‚Ä¢ <em>Motivo</em>: Ripetizioni troppo piccole potrebbero essere artefatti o movimenti incompleti
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üîÑ 2. Sequenza di Fasi</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione <strong>valida</strong> deve contenere:<br>
                            ‚Ä¢ Almeno una fase di <strong style="color: #4ade80;">ASCESA</strong> (ascending)<br>
                            ‚Ä¢ Almeno una fase di <strong style="color: #f87171;">DISCESA</strong> (descending)<br>
                            ‚Ä¢ <em>Motivo</em>: Un esercizio completo richiede movimento bidirezionale (es: squat = scendi + sali)
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üîÅ 3. Ciclicit√† (Ritorno all'Origine)</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione √® <strong>ciclica</strong> se:<br>
                            ‚Ä¢ Il <strong>punto pi√π alto DOPO</strong> il minimo ritorna entro <strong>¬±20¬∞</strong> dal <strong>punto pi√π alto PRIMA</strong> del minimo<br>
                            ‚Ä¢ Calcolo: <code style="background: rgba(0,0,0,0.3); padding: 2px 6px; border-radius: 4px;">Œîangle = |max_dopo - max_prima|</code><br>
                            ‚Ä¢ Esempio: Durante uno squat, se parti da -115¬∞ (in piedi), scendi a -136¬∞ (gi√π), e risali a -125¬∞ (in piedi) ‚Üí Œî = 10¬∞ ‚úì<br>
                            ‚Ä¢ <strong>Nota importante</strong>: Si confrontano le posizioni erette (massimi), non i punti intermedi tra ripetizioni<br>
                            ‚Ä¢ <em>Motivo</em>: Tolleranza di ¬±20¬∞ per tenere conto di drift naturale, fatica e variabilit√† umana nell'esecuzione
                        </p>
                    </div>
                    <div style="margin-top: 15px; padding: 12px; background: rgba(255,255,255,0.15); border-left: 4px solid #fbbf24; border-radius: 4px;">
                        <strong>‚ö†Ô∏è Nota:</strong> Una ripetizione pu√≤ essere marcata "suspicious" per uno o pi√π criteri. 
                        I motivi specifici sono indicati nella colonna "Quality".
                    </div>
                </div>
                
                <h4 style="margin-top: 25px;">üìã Per-Repetition Metrics</h4>
                <div style="overflow-x: auto;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Time (s)</th>
                            <th>Duration (s)</th>
                            <th>Range (¬∞)</th>
                            <th>Depth (¬∞)</th>
                            <th>Quality</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">1</td>
                            <td>0.19</td>
                            <td>1.63</td>
                            <td>19.80</td>
                            <td>-20.91</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=True, has_desc=False)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">2</td>
                            <td>3.07</td>
                            <td>3.43</td>
                            <td>7.35</td>
                            <td>-8.84</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=True)</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">3</td>
                            <td>7.05</td>
                            <td>3.23</td>
                            <td>7.47</td>
                            <td>-4.08</td>
                            <td><span class="badge badge-success">Good</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">4</td>
                            <td>9.53</td>
                            <td>2.72</td>
                            <td>13.75</td>
                            <td>-6.64</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">5</td>
                            <td>12.49</td>
                            <td>5.50</td>
                            <td>12.03</td>
                            <td>-2.52</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">6</td>
                            <td>20.53</td>
                            <td>7.45</td>
                            <td>2.68</td>
                            <td>-2.25</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=False)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">7</td>
                            <td>27.39</td>
                            <td>6.01</td>
                            <td>3.77</td>
                            <td>-3.06</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=False)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">8</td>
                            <td>32.54</td>
                            <td>3.98</td>
                            <td>4.16</td>
                            <td>-3.99</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=False)</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">9</td>
                            <td>35.34</td>
                            <td>3.15</td>
                            <td>11.53</td>
                            <td>-4.38</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">10</td>
                            <td>38.85</td>
                            <td>1.95</td>
                            <td>10.04</td>
                            <td>-15.92</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=True)</span></td>
                        </tr>
                    </tbody>
                </table>
                </div>

                <h4 style="margin-top: 25px;">‚è±Ô∏è Timing Analysis</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Interval</div>
                        <div class="value">4.30 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Deviation</div>
                        <div class="value">1.98 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min/Max Interval</div>
                        <div class="value">2.48 / 8.04 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Timing CV</div>
                        <div class="value">46.1%</div>
                    </div>
                </div>

                <h4 style="margin-top: 25px;">üìè Range of Motion Analysis</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Range</div>
                        <div class="value">9.26¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Deviation</div>
                        <div class="value">5.28¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min/Max Range</div>
                        <div class="value">2.68 / 19.80¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range Consistency (CV)</div>
                        <div class="value">54.1%</div>
                    </div>
                </div>

                <h4 style="margin-top: 25px;">‚≠ê Performance Quality</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Overall Consistency</div>
                        <div class="value">52.4/100</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range Consistency</div>
                        <div class="value">54.1%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Timing Consistency</div>
                        <div class="value">43.5%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Tempo Consistency</div>
                        <div class="value">45.3%</div>
                    </div>
                </div>
                
                <div style="background: #dc3545; color: white; padding: 15px; border-radius: 8px; margin: 20px 0;">
                    <h5 style="margin: 0 0 10px 0;">üéØ Fatigue Indicator</h5>
                    <p style="margin: 0; font-size: 1.1em;"><strong>DECREASING RANGE (Fatigue)</strong></p>
                    <p style="margin: 5px 0 0 0; opacity: 0.9;">-0.694¬∞/rep</p>
                </div>
                
                <h4 style="margin-top: 25px;">üéØ Derived Metrics</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Average Rep Frequency</div>
                        <div class="value">0.2328 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Seconds per Rep</div>
                        <div class="value">4.30 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Exercise Duration</div>
                        <div class="value">38.66 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Work Density</div>
                        <div class="value">15.5 reps/min</div>
                    </div>
                </div>

                <h4 style="margin-top: 30px;">‚è±Ô∏è Detailed Temporal Parameters (50 Parameters)</h4>
                
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin: 15px 0;">
                    <h4 style="margin: 0 0 15px 0; font-size: 1.2em;">üìä Complete Temporal Analysis</h4>
                    <p style="margin: 0 0 15px 0; line-height: 1.6;">
                        This section presents a <strong>comprehensive temporal analysis</strong> of your exercise execution,
                        breaking down each repetition into its constituent phases and analyzing timing patterns, 
                        consistency, and trends throughout the session.
                    </p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; font-size: 0.9em;">
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìã Per-Repetition</strong><br>
                            8 params √ó 10 reps<br>
                            <span style="opacity: 0.9;">Phase timings + percentages</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üåç Global Timing</strong><br>
                            4 parameters<br>
                            <span style="opacity: 0.9;">Frequency, density, cycles</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìà Session Totals</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Cumulative work & rest</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìä Variances</strong><br>
                            16 parameters<br>
                            <span style="opacity: 0.9;">Consistency metrics (CV)</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üîÑ Regularity</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Duration stability</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>‚ö†Ô∏è Outliers</strong><br>
                            4 parameters<br>
                            <span style="opacity: 0.9;">Unusual timing patterns</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìà Trends</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Fatigue indicators</span>
                        </div>
                    </div>
                </div>
                
                <!-- B. Global Timing Parameters -->
                <h5 style="margin-top: 20px; color: #667eea;">üìä Global Timing Parameters</h5>
                <div style="background: #f8f9fa; padding: 10px; border-radius: 5px; margin-bottom: 10px; font-size: 0.9em;">
                    <strong>Cycle Time</strong>: Time from start of one rep to start of next (includes work + rest). 
                    <strong>Density Ratio</strong>: Proportion of time spent in active work (ecc+conc) vs total time.
                    Higher density = more continuous training stimulus.
                </div>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Rep Duration</div>
                        <div class="value">3.90 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Time</div>
                        <div class="value">4.30 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Execution Frequency</div>
                        <div class="value">0.233 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Density Ratio</div>
                        <div class="value">32.7%</div>
                    </div>
                </div>
                
                <!-- C. Session Total Times -->
                <h5 style="margin-top: 20px; color: #667eea;">üìà Session Total Times</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Total Eccentric Time</div>
                        <div class="value">5.39 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Concentric Time</div>
                        <div class="value">3.93 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Bottom Hold</div>
                        <div class="value">11.94 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Top Hold</div>
                        <div class="value">17.40 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Work Time</div>
                        <div class="value">9.32 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Pause Time</div>
                        <div class="value">29.34 s</div>
                    </div>
                </div>
                
                <!-- D. Temporal Variances -->
                <h5 style="margin-top: 20px; color: #667eea;">üìä Temporal Variances (Coefficient of Variation)</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Eccentric CV</div>
                        <div class="value">38.4%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Concentric CV</div>
                        <div class="value">39.4%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Bottom Hold CV</div>
                        <div class="value">59.8%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Top Hold CV</div>
                        <div class="value">45.7%</div>
                    </div>
                </div>
                
                <!-- E. Regularity & Continuity -->
                <h5 style="margin-top: 20px; color: #667eea;">üîÑ Regularity & Continuity</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Rep Duration CV</div>
                        <div class="value">45.3%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Rep Duration Range</div>
                        <div class="value">5.82 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time CV</div>
                        <div class="value">43.5%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time Range</div>
                        <div class="value">5.56 s</div>
                    </div>
                </div>
                
                <!-- F. Temporal Outliers -->
                <h5 style="margin-top: 20px; color: #667eea;">‚ö†Ô∏è Temporal Outliers</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Slow Eccentric Reps</div>
                        <div class="value">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Fast Concentric Reps</div>
                        <div class="value">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Excessive Bottom Holds</div>
                        <div class="value">2</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Excessive Top Holds</div>
                        <div class="value">3</div>
                    </div>
                </div>
                
                <!-- G. Longitudinal Trends -->
                <h5 style="margin-top: 20px; color: #667eea;">üìà Longitudinal Trends (s/rep)</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Eccentric Trend</div>
                        <div class="value" style="color: #28a745">+0.0406 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Concentric Trend</div>
                        <div class="value" style="color: #dc3545">-0.0495 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Bottom Hold Trend</div>
                        <div class="value" style="color: #dc3545">-0.0458 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Top Hold Trend</div>
                        <div class="value" style="color: #28a745">+0.1545 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Rep Duration Trend</div>
                        <div class="value" style="color: #28a745">+0.1000 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time Trend</div>
                        <div class="value" style="color: #28a745">+0.1374 s/rep</div>
                    </div>
                </div>
                
                <!-- TEMPORAL EVOLUTION PLOTS -->
                <h5 style="margin-top: 25px; color: #667eea;">üìà Temporal Evolution Across Repetitions</h5>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <p style="margin: 0 0 10px 0; color: #424242; line-height: 1.6;">
                        <strong>Visual Analysis:</strong> The following plots show how timing metrics evolve throughout your exercise session.
                        Orange dashed lines indicate trends - positive slopes suggest fatigue (slowing down), negative slopes indicate adaptation or pacing strategy.
                    </p>
                    <div style="text-align: center;">
                        <img src="temporal_evolution_ang2_filtered.png" alt="Temporal Evolution" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    </div>
                </div>
                
                <!-- A. Per-Repetition Details Table -->
                <h5 style="margin-top: 25px; color: #667eea;">üìã Per-Repetition Timing Breakdown</h5>
                <div style="overflow-x: auto;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Eccentric (s)</th>
                            <th>Concentric (s)</th>
                            <th>Bottom Hold (s)</th>
                            <th>Top Hold (s)</th>
                            <th>Total (s)</th>
                            <th>Ecc %</th>
                            <th>Con %</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="metric-name">1</td>
                            <td>0.000</td>
                            <td>0.472</td>
                            <td>0.963</td>
                            <td>0.000</td>
                            <td><strong>1.629</strong></td>
                            <td>0.0%</td>
                            <td>29.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">2</td>
                            <td>0.562</td>
                            <td>0.000</td>
                            <td>2.866</td>
                            <td>0.000</td>
                            <td><strong>3.426</strong></td>
                            <td>16.4%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">3</td>
                            <td>0.451</td>
                            <td>0.788</td>
                            <td>1.990</td>
                            <td>0.000</td>
                            <td><strong>3.227</strong></td>
                            <td>14.0%</td>
                            <td>24.4%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">4</td>
                            <td>1.351</td>
                            <td>1.370</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td><strong>2.719</strong></td>
                            <td>49.7%</td>
                            <td>50.4%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">5</td>
                            <td>0.861</td>
                            <td>0.619</td>
                            <td>0.000</td>
                            <td>4.019</td>
                            <td><strong>5.499</strong></td>
                            <td>15.7%</td>
                            <td>11.3%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">6</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>0.851</td>
                            <td>6.597</td>
                            <td><strong>7.447</strong></td>
                            <td>0.0%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">7</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>0.520</td>
                            <td>5.490</td>
                            <td><strong>6.008</strong></td>
                            <td>0.0%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">8</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>2.689</td>
                            <td>1.290</td>
                            <td><strong>3.978</strong></td>
                            <td>0.0%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">9</td>
                            <td>0.831</td>
                            <td>0.680</td>
                            <td>1.642</td>
                            <td>0.000</td>
                            <td><strong>3.151</strong></td>
                            <td>26.4%</td>
                            <td>21.6%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">10</td>
                            <td>1.332</td>
                            <td>0.000</td>
                            <td>0.421</td>
                            <td>0.000</td>
                            <td><strong>1.946</strong></td>
                            <td>68.5%</td>
                            <td>0.0%</td>
                        </tr>
                    </tbody>
                </table>
                </div>

                <h4 style="margin-top: 30px; color: #dc3545;">‚ö†Ô∏è Phase Validation Results</h4>
                <div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; border-radius: 5px; margin: 15px 0;">
                    <p style="margin: 0 0 10px 0;"><strong>‚ö†Ô∏è 6 repetitions failed phase sequence validation</strong></p>
                    <p style="margin: 0; font-size: 0.9em; opacity: 0.8;">These repetitions lack proper ascending+descending sequence or cyclic behavior (return to start angle).</p>
                </div>
                
                <div style="overflow-x: auto; margin-top: 15px;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Failure Reason</th>
                            <th>Phase Sequence</th>
                            <th>Start Angle (¬∞)</th>
                            <th>End Angle (¬∞)</th>
                            <th>Œî Angle (¬∞)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#1</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=True, has_desc=False)</td>
                            <td style="font-size: 0.85em;">ascending ‚Üí stable_low</td>
                            <td>-11.7</td>
                            <td>-1.1</td>
                            <td><strong>10.6¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#2</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=True)</td>
                            <td style="font-size: 0.85em;">stable_low ‚Üí descending ‚Üí stable_low</td>
                            <td>-3.9</td>
                            <td>-3.4</td>
                            <td><strong>0.4¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#6</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_high ‚Üí stable_low ‚Üí stable_high</td>
                            <td>-0.9</td>
                            <td>0.4</td>
                            <td><strong>1.4¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#7</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_high ‚Üí stable_low ‚Üí stable_high</td>
                            <td>0.3</td>
                            <td>-1.1</td>
                            <td><strong>1.4¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#8</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_high ‚Üí stable_low</td>
                            <td>-1.0</td>
                            <td>-1.3</td>
                            <td><strong>0.3¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#10</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=True)</td>
                            <td style="font-size: 0.85em;">descending ‚Üí stable_low ‚Üí descending</td>
                            <td>-10.0</td>
                            <td>-8.1</td>
                            <td><strong>1.9¬∞</strong></td>
                        </tr>
                    </tbody>
                </table>
                </div>
                
                <div style="background: #d1ecf1; border-left: 4px solid #17a2b8; padding: 15px; border-radius: 5px; margin: 20px 0;">
                    <h5 style="margin: 0 0 10px 0;">‚ÑπÔ∏è Validation Criteria</h5>
                    <ul style="margin: 5px 0; padding-left: 20px; font-size: 0.9em;">
                        <li><strong>Phase Sequence:</strong> Must contain BOTH ascending AND descending phases (stable phases allowed)</li>
                        <li><strong>Cyclic Behavior:</strong> Signal must return to starting angle within ¬±20¬∞ tolerance</li>
                        <li><strong>Standing Recovery:</strong> Validates proper exercise execution and position recovery (¬±20¬∞ accounts for natural drift and fatigue)</li>
                    </ul>
                </div>

                <div style="margin-top: 50px; padding: 30px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 15px; box-shadow: 0 8px 20px rgba(0,0,0,0.15);">
                    <h3 style="margin: 0 0 20px 0; color: white; font-size: 1.5em;">üöÄ ADVANCED REPETITION ANALYSIS (Production-Ready)</h3>
                    <div style="background: rgba(255,255,255,0.95); padding: 25px; border-radius: 10px;">
                        
                        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 25px;">
                            <h4 style="margin: 0 0 15px 0;">üéØ Key Improvements</h4>
                            <ul style="margin: 0; padding-left: 20px;">
                                <li><strong>Butterworth Filter:</strong> Zero-phase low-pass (10Hz cutoff) preserves signal shape</li>
                                <li><strong>ROM Threshold:</strong> Excludes half-reps and invalid movements</li>
                                <li><strong>Outlier Detection:</strong> IQR method removes statistical anomalies</li>
                                <li><strong>First/Last Exclusion:</strong> Removes adjustment and overshoot phases</li>
                                <li><strong>R¬≤ Validation:</strong> Fatigue trend trusted only if R¬≤ > 0.5</li>
                            </ul>
                        </div>
                        
                        <h4>üìã Filtering Statistics</h4>
                        <table class="comparison-table" style="margin-bottom: 25px;">
                            <thead>
                                <tr>
                                    <th>Metric</th>
                                    <th>Value</th>
                                    <th>Impact</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="metric-name">Total Detected (Before Filtering)</td>
                                    <td>10</td>
                                    <td><span class="badge badge-info">Baseline</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">ROM Threshold Applied</td>
                                    <td>6.2¬∞</td>
                                    <td><span class="badge badge-warning">3 removed</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">First/Last Reps Removed</td>
                                    <td>Yes</td>
                                    <td><span class="badge badge-warning">2 removed</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">Statistical Outliers Removed</td>
                                    <td>0</td>
                                    <td><span class="badge badge-success">Clean</span></td>
                                </tr>
                                <tr style="background: #e8f5e9;">
                                    <td class="metric-name"><strong>Valid Reps After Filtering</strong></td>
                                    <td><strong>4</strong></td>
                                    <td><span class="badge badge-success">40.0% retained</span></td>
                                </tr>
                            </tbody>
                        </table>

                        <h4>üéØ Advanced Quality Indices (0-100 scale)</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 25px;">
                            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 0.9em; opacity: 0.9; margin-bottom: 5px;">ROM Consistency</div>
                                <div style="font-size: 2.5em; font-weight: bold;">80.2</div>
                                <div style="font-size: 0.8em; opacity: 0.8; margin-top: 5px;">Lower CV = Better</div>
                            </div>
                            <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 0.9em; opacity: 0.9; margin-bottom: 5px;">Tempo Consistency</div>
                                <div style="font-size: 2.5em; font-weight: bold;">70.2</div>
                                <div style="font-size: 0.8em; opacity: 0.8; margin-top: 5px;">Execution Rhythm</div>
                            </div>
                            <div style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 0.9em; opacity: 0.9; margin-bottom: 5px;">Depth Index</div>
                                <div style="font-size: 2.5em; font-weight: bold;">80.2</div>
                                <div style="font-size: 0.8em; opacity: 0.8; margin-top: 5px;">Target Achievement</div>
                            </div>
                        </div>
                        
                        <div style="background: #ffc107; color: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; text-align: center;">
                            <div style="font-size: 1.1em; opacity: 0.9; margin-bottom: 10px;">‚≠ê IGM SCORE (Integrated Global Metric)</div>
                            <div style="font-size: 3.5em; font-weight: bold; margin: 10px 0;">77.2 / 100</div>
                            <div style="font-size: 1.2em; font-weight: 500; background: rgba(255,255,255,0.2); padding: 10px 20px; border-radius: 5px; display: inline-block;">
                                Good: Consistent performance with minor variations
                            </div>
                            <div style="font-size: 0.85em; opacity: 0.8; margin-top: 15px;">
                                Weighted: ROM√ó40% + Tempo√ó30% + Depth√ó30%
                            </div>
                        </div>
                        
                        <h4>üí™ Robust Fatigue Analysis</h4>
                        <table class="comparison-table" style="margin-bottom: 25px;">
                            <thead>
                                <tr>
                                    <th>Metric</th>
                                    <th>Value</th>
                                    <th>Interpretation</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="metric-name">Trend</td>
                                    <td><strong>INCONSISTENT</strong></td>
                                    <td>
                                        <span class="badge badge-warning">‚ö†Ô∏è No Clear Pattern</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="metric-name">Slope</td>
                                    <td>+0.934¬∞/rep</td>
                                    <td style="color: #ffc107;">Increasing range</td>
                                </tr>
                                <tr>
                                    <td class="metric-name">R¬≤ (Fit Quality)</td>
                                    <td><strong>0.223</strong></td>
                                    <td><span class="badge badge-danger">POOR FIT</span> ‚úó High Variability</td>
                                </tr>
                                <tr>
                                    <td class="metric-name">Statistical Significance</td>
                                    <td>NO</td>
                                    <td><span class="badge badge-secondary">p ‚â• 0.05</span></td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <div style="background: #ffc107; color: white; padding: 20px; border-radius: 10px; margin-bottom: 25px;">
                            <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üìä Interpretation</h5>
                            <p style="margin: 0; font-size: 1.05em; line-height: 1.6;">
                                <strong>‚ö†Ô∏è INCONSISTENT PATTERN:</strong> High variability (R¬≤=0.22) prevents reliable trend identification. 
                                The athlete is executing the movement inconsistently. Focus on technique and movement control before analyzing fatigue.
                            </p>
                        </div>
                        
                        <h4>üìä Raw Coefficient of Variation (for reference)</h4>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="label">Range CV</div>
                                <div class="value">19.8%</div>
                            </div>
                            <div class="stat-item">
                                <div class="label">Tempo CV</div>
                                <div class="value">29.8%</div>
                            </div>
                            <div class="stat-item">
                                <div class="label">Timing CV</div>
                                <div class="value">100.7%</div>
                            </div>
                        </div>
                        
                        <h4 style="margin-top: 30px;">‚úÖ Valid Repetitions (After Filtering)</h4>
                        <div style="overflow-x: auto;">
                        <table class="comparison-table">
                            <thead>
                                <tr>
                                    <th>Rep #</th>
                                    <th>Time (s)</th>
                                    <th>Duration (s)</th>
                                    <th>Range (¬∞)</th>
                                    <th>Depth (¬∞)</th>
                                    <th>ROM Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="metric-name">1</td>
                                    <td>7.06</td>
                                    <td>3.23</td>
                                    <td><strong>7.65</strong></td>
                                    <td>-4.05</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">2</td>
                                    <td>9.54</td>
                                    <td>2.72</td>
                                    <td><strong>13.75</strong></td>
                                    <td>-6.67</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">3</td>
                                    <td>12.50</td>
                                    <td>5.50</td>
                                    <td><strong>11.89</strong></td>
                                    <td>-2.52</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">4</td>
                                    <td>35.35</td>
                                    <td>3.14</td>
                                    <td><strong>11.38</strong></td>
                                    <td>-4.31</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                            </tbody>
                        </table>
                        </div>
                        
                        <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; margin-top: 25px; border-left: 5px solid #2196f3;">
                            <h5 style="margin: 0 0 10px 0; color: #1976d2;">üí° Key Takeaways</h5>
                            <ul style="margin: 0; padding-left: 20px; color: #424242;">
                                <li><strong>Base Analysis:</strong> Shows all detected movements (including half-reps, outliers)</li>
                                <li><strong>Advanced Analysis:</strong> Filters for quality - only biomechanically valid repetitions</li>
                                <li><strong>IGM Score:</strong> Single metric for performance evaluation (80+ = Excellent, 60-80 = Good, 40-60 = Fair, <40 = Poor)</li>
                                <li><strong>R¬≤ Validation:</strong> Ensures fatigue trends are statistically reliable, not random noise</li>
                                <li><strong>Use Case:</strong> Advanced metrics for athlete feedback, base counts for training volume</li>
                            </ul>
                        </div>
                        
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üìä Visualization</h3>

                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                    <h4 style="margin: 0 0 10px 0; font-size: 1.1em;">üéØ COMPLETE TIME-SERIES OVERVIEW</h4>
                    <p style="margin: 0; font-size: 0.95em; opacity: 0.95;">
                        Full recording with all detected regions and repetitions. 
                        <strong>Top panel:</strong> Phase regions (ascending/descending/stable_high/stable_low).
                        <strong>Bottom panel:</strong> All detected repetitions with suspicious markers.
                    </p>
                </div>
                <div class="plot-container" style="grid-column: 1 / -1; margin-bottom: 30px;">
                    <img src="overview_complete_ang2_filtered.png" alt="Complete Overview" style="width: 100%; max-width: 100%;">
                </div>
                
                <h4 style="margin-top: 20px; color: #666;">Detailed Analysis Plots</h4>
                <div class="plot-grid">
                    <div class="plot-container">
                        <div class="plot-title">Autocorrelation</div>
                        <img src="autocorr_ang2_filtered.png" alt="Autocorrelation">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">Frequency Spectrum</div>
                        <img src="spectrum_ang2_filtered.png" alt="Spectrum">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">Spectrogram (Time-Frequency)</div>
                        <img src="spectrogram_ang2_filtered.png" alt="Spectrogram">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">üìç Phase Detection (Ascending/Descending/Stable High/Low)</div>
                        <img src="phases_ang2_filtered.png" alt="Phase Detection">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">üèãÔ∏è Repetition Detection (Valleys & ROM)</div>
                        <img src="repetitions_ang2_filtered.png" alt="Repetitions">
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ANG3 FILTERED Statistics -->
        <div class="section">
            <div class="section-header filtered" onclick="this.nextElementSibling.style.display=this.nextElementSibling.style.display=='none'?'block':'none'">
                <span>üìä ANG3 FILTERED <span class="badge badge-success">‚ú® FILTERED</span></span>
                <span>‚ñº</span>
            </div>
            <div class="section-content">
                
                <!-- INTERACTIVE PLOTLY GRAPH EMBEDDED -->
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; margin-bottom: 25px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    <h4 style="margin: 0 0 10px 0; display: flex; align-items: center;">
                        <span style="font-size: 1.5em; margin-right: 10px;">üîç</span>
                        Interactive Signal Exploration
                    </h4>
                    <p style="margin: 0 0 15px 0; line-height: 1.6; opacity: 0.95; font-size: 0.95em;">
                        Hover over the plot to see precise values ‚Ä¢ Zoom by dragging ‚Ä¢ Double-click to reset
                    </p>
                </div>
                <!-- Embed interactive plot using iframe -->
                <iframe src="interactive_ang3_filtered.html" width="100%" height="500" frameborder="0" style="border: 1px solid #e0e0e0; border-radius: 8px; margin-bottom: 20px;"></iframe>
                
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean</div>
                        <div class="value">-119.36¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Median</div>
                        <div class="value">-116.63¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Dev</div>
                        <div class="value">10.25¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range</div>
                        <div class="value">77.40¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min / Max</div>
                        <div class="value">-136.47¬∞ / -59.07¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Skewness</div>
                        <div class="value">0.17</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Kurtosis</div>
                        <div class="value">0.28</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">SNR-like Index</div>
                        <div class="value">538.43</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Dynamic Range (5-95%)</div>
                        <div class="value">27.13¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Noise Estimate</div>
                        <div class="value">0.0504¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Stationary</div>
                        <div class="value">‚úó No</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Linear Trend</div>
                        <div class="value">-0.3641 ¬∞/s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Peaks / Troughs</div>
                        <div class="value">260 / 261</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Dominant Frequency</div>
                        <div class="value">0.0256 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Period</div>
                        <div class="value">39.04 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">ACF Periodicity</div>
                        <div class="value">1 samples</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">Sliding Window Analysis (2.0s window, 0.5s step)</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Std of Window Means</div>
                        <div class="value">8.75¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std of Window Stds</div>
                        <div class="value">2.35¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Window Std</div>
                        <div class="value">4.02¬∞</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üîÑ Cycle-Level Metrics</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Total Cycles</div>
                        <div class="value">27</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Duration</div>
                        <div class="value">1.480 s (CV=54.0%)</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Amplitude</div>
                        <div class="value">12.45¬∞ (CV=70.7%)</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Trend Duration/Cycle</div>
                        <div class="value">+0.0213 s/cycle</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Trend Amplitude/Cycle</div>
                        <div class="value">+0.5352 ¬∞/cycle</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üìç Phase Statistics</h3>
                
                <div style="background: #fff3e0; padding: 15px; border-radius: 5px; margin-bottom: 15px; border-left: 4px solid #ff6f00;">
                    <h4 style="color: #ff6f00; margin-bottom: 10px;">üîÑ Understanding Movement Phases</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; font-size: 0.9em;">
                        <div>
                            <strong>üîº Ascending</strong> (Concentric)<br>
                            <span style="opacity: 0.8;">Upward motion, muscle shortening. E.g., rising from squat bottom.</span>
                        </div>
                        <div>
                            <strong>üîΩ Descending</strong> (Eccentric)<br>
                            <span style="opacity: 0.8;">Downward motion, muscle lengthening. E.g., lowering into squat.</span>
                        </div>
                        <div>
                            <strong>üüß Stable High</strong> (Top Hold)<br>
                            <span style="opacity: 0.8;">Isometric hold in standing position between reps.</span>
                        </div>
                        <div>
                            <strong>üü¶ Stable Low</strong> (Bottom Hold)<br>
                            <span style="opacity: 0.8;">Isometric hold at bottom position (pause squats).</span>
                        </div>
                    </div>
                    <p style="margin-top: 10px; font-size: 0.85em; opacity: 0.9;">
                        <strong>CV (Coefficient of Variation)</strong>: Measures consistency. Lower values = more consistent timing across phases.
                    </p>
                </div>
                
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Phase Type</th>
                            <th>Count</th>
                            <th>Mean Duration</th>
                            <th>CV</th>
                            <th>Total Time</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="metric-name">üîº Ascending</td>
                            <td>8</td>
                            <td>1.475 s</td>
                            <td>53.9%</td>
                            <td>11.8 s</td>
                        </tr>
                        <tr>
                            <td class="metric-name">üîΩ Descending</td>
                            <td>7</td>
                            <td>2.198 s</td>
                            <td>19.9%</td>
                            <td>15.4 s</td>
                        </tr>
                        <tr>
                            <td class="metric-name">üüß Stable High (standing)</td>
                            <td>10</td>
                            <td>1.091 s</td>
                            <td>57.6%</td>
                            <td>10.9 s</td>
                        </tr>
                        <tr>
                            <td class="metric-name">üü¶ Stable Low (bottom)</td>
                            <td>1</td>
                            <td>0.390 s</td>
                            <td>0.0%</td>
                            <td>0.4 s</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3 style="margin-top: 30px;">üèãÔ∏è Exercise Repetition Analysis</h3>
                
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin: 20px 0;">
                    <h4 style="margin: 0 0 15px 0; font-size: 1.2em;">üìä Summary</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Total Repetitions</div>
                            <div style="font-size: 2em; font-weight: bold;">9</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Detection Threshold</div>
                            <div style="font-size: 1.5em; font-weight: bold;">5.43¬∞</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Consistency Score</div>
                            <div style="font-size: 1.5em; font-weight: bold;">55.0/100</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">‚ö†Ô∏è Suspicious Reps</div>
                            <div style="font-size: 1.5em; font-weight: bold;">4</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">üìè Median ROM</div>
                            <div style="font-size: 1.5em; font-weight: bold;">22.87¬∞</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">üéØ ROM Threshold (50%)</div>
                            <div style="font-size: 1.5em; font-weight: bold;">11.44¬∞</div>
                        </div>
                    </div>
                </div>

                <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 5px solid #2196f3;">
                    <h4 style="color: #1976d2; margin-bottom: 15px;">üìä Comparison: Base Analysis vs Advanced Filtering</h4>
                    <table class="comparison-table" style="margin-bottom: 15px;">
                        <thead>
                            <tr>
                                <th>Metric</th>
                                <th>Base Analysis</th>
                                <th>Advanced Analysis</th>
                                <th>Difference</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="metric-name">Total Repetitions Detected</td>
                                <td><strong>9</strong></td>
                                <td><strong>3</strong></td>
                                <td><span class="badge badge-warning">-6 (33.3%)</span></td>
                            </tr>
                            <tr>
                                <td class="metric-name">Filtering Applied</td>
                                <td><span class="badge badge-info">Prominence + Phase Detection</span></td>
                                <td><span class="badge badge-success">ROM Threshold + Outliers + First/Last</span></td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td class="metric-name">Mean ROM</td>
                                <td>29.87¬∞</td>
                                <td>21.76¬∞</td>
                                <td>-8.11¬∞</td>
                            </tr>
                            <tr>
                                <td class="metric-name">ROM CV (Consistency)</td>
                                <td>62.8%</td>
                                <td>4.4%</td>
                                <td>-58.4%</td>
                            </tr>
                            <tr>
                                <td class="metric-name">Suspicious Reps</td>
                                <td><span class="badge badge-warning">4 reps</span></td>
                                <td><span class="badge badge-success">Filtered out</span></td>
                                <td>-4 cleaned</td>
                            </tr>
                        </tbody>
                    </table>
                    <p style="margin: 10px 0 0 0; color: #424242; font-size: 0.9em;">
                        <strong>üí° Interpretation:</strong> Advanced analysis applies stricter quality filters to remove half-reps, 
                        statistical outliers, and adjustment phases (first/last reps). This typically results in fewer but 
                        more biomechanically valid repetitions with better consistency metrics.
                    </p>
                </div>

                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; margin: 25px 0; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    <h4 style="margin: 0 0 15px 0; display: flex; align-items: center;">
                        <span style="font-size: 1.5em; margin-right: 10px;">üîç</span>
                        Criteri di Validazione delle Ripetizioni
                    </h4>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üìä 1. Range of Motion (ROM)</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione √® considerata <strong>sospetta per ROM</strong> se:<br>
                            ‚Ä¢ ROM &lt; 50% della mediana di tutte le ripetizioni<br>
                            ‚Ä¢ Esempio: Se mediana ROM = 22.87¬∞, la soglia √® 11.4¬∞<br>
                            ‚Ä¢ <em>Motivo</em>: Ripetizioni troppo piccole potrebbero essere artefatti o movimenti incompleti
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üîÑ 2. Sequenza di Fasi</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione <strong>valida</strong> deve contenere:<br>
                            ‚Ä¢ Almeno una fase di <strong style="color: #4ade80;">ASCESA</strong> (ascending)<br>
                            ‚Ä¢ Almeno una fase di <strong style="color: #f87171;">DISCESA</strong> (descending)<br>
                            ‚Ä¢ <em>Motivo</em>: Un esercizio completo richiede movimento bidirezionale (es: squat = scendi + sali)
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üîÅ 3. Ciclicit√† (Ritorno all'Origine)</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione √® <strong>ciclica</strong> se:<br>
                            ‚Ä¢ Il <strong>punto pi√π alto DOPO</strong> il minimo ritorna entro <strong>¬±20¬∞</strong> dal <strong>punto pi√π alto PRIMA</strong> del minimo<br>
                            ‚Ä¢ Calcolo: <code style="background: rgba(0,0,0,0.3); padding: 2px 6px; border-radius: 4px;">Œîangle = |max_dopo - max_prima|</code><br>
                            ‚Ä¢ Esempio: Durante uno squat, se parti da -115¬∞ (in piedi), scendi a -136¬∞ (gi√π), e risali a -125¬∞ (in piedi) ‚Üí Œî = 10¬∞ ‚úì<br>
                            ‚Ä¢ <strong>Nota importante</strong>: Si confrontano le posizioni erette (massimi), non i punti intermedi tra ripetizioni<br>
                            ‚Ä¢ <em>Motivo</em>: Tolleranza di ¬±20¬∞ per tenere conto di drift naturale, fatica e variabilit√† umana nell'esecuzione
                        </p>
                    </div>
                    <div style="margin-top: 15px; padding: 12px; background: rgba(255,255,255,0.15); border-left: 4px solid #fbbf24; border-radius: 4px;">
                        <strong>‚ö†Ô∏è Nota:</strong> Una ripetizione pu√≤ essere marcata "suspicious" per uno o pi√π criteri. 
                        I motivi specifici sono indicati nella colonna "Quality".
                    </div>
                </div>
                
                <h4 style="margin-top: 25px;">üìã Per-Repetition Metrics</h4>
                <div style="overflow-x: auto;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Time (s)</th>
                            <th>Duration (s)</th>
                            <th>Range (¬∞)</th>
                            <th>Depth (¬∞)</th>
                            <th>Quality</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">1</td>
                            <td>0.19</td>
                            <td>2.05</td>
                            <td>58.56</td>
                            <td>-117.63</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=False); Not cyclic (Œîangle=47.8¬∞)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">2</td>
                            <td>3.91</td>
                            <td>3.42</td>
                            <td>10.43</td>
                            <td>-115.47</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Suspicious (ROM<50% median)</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">3</td>
                            <td>7.04</td>
                            <td>6.09</td>
                            <td>8.32</td>
                            <td>-115.19</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=False)</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">4</td>
                            <td>16.09</td>
                            <td>6.31</td>
                            <td>27.14</td>
                            <td>-133.77</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">5</td>
                            <td>19.66</td>
                            <td>3.67</td>
                            <td>20.57</td>
                            <td>-134.40</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">6</td>
                            <td>23.43</td>
                            <td>3.91</td>
                            <td>22.87</td>
                            <td>-133.99</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">7</td>
                            <td>27.48</td>
                            <td>3.96</td>
                            <td>22.26</td>
                            <td>-136.29</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">8</td>
                            <td>31.35</td>
                            <td>5.60</td>
                            <td>32.84</td>
                            <td>-136.47</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">9</td>
                            <td>38.68</td>
                            <td>4.02</td>
                            <td>65.85</td>
                            <td>-129.91</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=True); Not cyclic (Œîangle=61.9¬∞)</span></td>
                        </tr>
                    </tbody>
                </table>
                </div>

                <h4 style="margin-top: 25px;">‚è±Ô∏è Timing Analysis</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Interval</div>
                        <div class="value">4.81 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Deviation</div>
                        <div class="value">2.15 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min/Max Interval</div>
                        <div class="value">3.13 / 9.05 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Timing CV</div>
                        <div class="value">44.7%</div>
                    </div>
                </div>

                <h4 style="margin-top: 25px;">üìè Range of Motion Analysis</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Range</div>
                        <div class="value">29.87¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Deviation</div>
                        <div class="value">19.91¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min/Max Range</div>
                        <div class="value">8.32 / 65.85¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range Consistency (CV)</div>
                        <div class="value">62.8%</div>
                    </div>
                </div>

                <h4 style="margin-top: 25px;">‚≠ê Performance Quality</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Overall Consistency</div>
                        <div class="value">55.0/100</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range Consistency</div>
                        <div class="value">62.8%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Timing Consistency</div>
                        <div class="value">41.8%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Tempo Consistency</div>
                        <div class="value">30.3%</div>
                    </div>
                </div>
                
                <div style="background: #ffc107; color: white; padding: 15px; border-radius: 8px; margin: 20px 0;">
                    <h5 style="margin: 0 0 10px 0;">üéØ Fatigue Indicator</h5>
                    <p style="margin: 0; font-size: 1.1em;"><strong>INCREASING RANGE</strong></p>
                    <p style="margin: 5px 0 0 0; opacity: 0.9;">+2.001¬∞/rep</p>
                </div>
                
                <h4 style="margin-top: 25px;">üéØ Derived Metrics</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Average Rep Frequency</div>
                        <div class="value">0.2078 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Seconds per Rep</div>
                        <div class="value">4.81 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Exercise Duration</div>
                        <div class="value">38.49 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Work Density</div>
                        <div class="value">14.0 reps/min</div>
                    </div>
                </div>

                <h4 style="margin-top: 30px;">‚è±Ô∏è Detailed Temporal Parameters (50 Parameters)</h4>
                
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin: 15px 0;">
                    <h4 style="margin: 0 0 15px 0; font-size: 1.2em;">üìä Complete Temporal Analysis</h4>
                    <p style="margin: 0 0 15px 0; line-height: 1.6;">
                        This section presents a <strong>comprehensive temporal analysis</strong> of your exercise execution,
                        breaking down each repetition into its constituent phases and analyzing timing patterns, 
                        consistency, and trends throughout the session.
                    </p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; font-size: 0.9em;">
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìã Per-Repetition</strong><br>
                            8 params √ó 9 reps<br>
                            <span style="opacity: 0.9;">Phase timings + percentages</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üåç Global Timing</strong><br>
                            4 parameters<br>
                            <span style="opacity: 0.9;">Frequency, density, cycles</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìà Session Totals</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Cumulative work & rest</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìä Variances</strong><br>
                            16 parameters<br>
                            <span style="opacity: 0.9;">Consistency metrics (CV)</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üîÑ Regularity</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Duration stability</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>‚ö†Ô∏è Outliers</strong><br>
                            4 parameters<br>
                            <span style="opacity: 0.9;">Unusual timing patterns</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìà Trends</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Fatigue indicators</span>
                        </div>
                    </div>
                </div>
                
                <!-- B. Global Timing Parameters -->
                <h5 style="margin-top: 20px; color: #667eea;">üìä Global Timing Parameters</h5>
                <div style="background: #f8f9fa; padding: 10px; border-radius: 5px; margin-bottom: 10px; font-size: 0.9em;">
                    <strong>Cycle Time</strong>: Time from start of one rep to start of next (includes work + rest). 
                    <strong>Density Ratio</strong>: Proportion of time spent in active work (ecc+conc) vs total time.
                    Higher density = more continuous training stimulus.
                </div>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Rep Duration</div>
                        <div class="value">4.34 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Time</div>
                        <div class="value">4.81 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Execution Frequency</div>
                        <div class="value">0.208 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Density Ratio</div>
                        <div class="value">68.3%</div>
                    </div>
                </div>
                
                <!-- C. Session Total Times -->
                <h5 style="margin-top: 20px; color: #667eea;">üìà Session Total Times</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Total Eccentric Time</div>
                        <div class="value">15.38 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Concentric Time</div>
                        <div class="value">11.80 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Bottom Hold</div>
                        <div class="value">0.39 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Top Hold</div>
                        <div class="value">10.91 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Work Time</div>
                        <div class="value">27.18 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Pause Time</div>
                        <div class="value">11.31 s</div>
                    </div>
                </div>
                
                <!-- D. Temporal Variances -->
                <h5 style="margin-top: 20px; color: #667eea;">üìä Temporal Variances (Coefficient of Variation)</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Eccentric CV</div>
                        <div class="value">19.2%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Concentric CV</div>
                        <div class="value">40.7%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Bottom Hold CV</div>
                        <div class="value">0.0%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Top Hold CV</div>
                        <div class="value">108.7%</div>
                    </div>
                </div>
                
                <!-- E. Regularity & Continuity -->
                <h5 style="margin-top: 20px; color: #667eea;">üîÑ Regularity & Continuity</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Rep Duration CV</div>
                        <div class="value">30.3%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Rep Duration Range</div>
                        <div class="value">4.26 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time CV</div>
                        <div class="value">41.8%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time Range</div>
                        <div class="value">5.91 s</div>
                    </div>
                </div>
                
                <!-- F. Temporal Outliers -->
                <h5 style="margin-top: 20px; color: #667eea;">‚ö†Ô∏è Temporal Outliers</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Slow Eccentric Reps</div>
                        <div class="value">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Fast Concentric Reps</div>
                        <div class="value">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Excessive Bottom Holds</div>
                        <div class="value">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Excessive Top Holds</div>
                        <div class="value">1</div>
                    </div>
                </div>
                
                <!-- G. Longitudinal Trends -->
                <h5 style="margin-top: 20px; color: #667eea;">üìà Longitudinal Trends (s/rep)</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Eccentric Trend</div>
                        <div class="value" style="color: #28a745">+0.2480 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Concentric Trend</div>
                        <div class="value" style="color: #28a745">+0.1549 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Bottom Hold Trend</div>
                        <div class="value" style="color: #28a745">+0.0260 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Top Hold Trend</div>
                        <div class="value" style="color: #dc3545">-0.3100 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Rep Duration Trend</div>
                        <div class="value" style="color: #28a745">+0.1300 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time Trend</div>
                        <div class="value" style="color: #28a745">+0.1699 s/rep</div>
                    </div>
                </div>
                
                <!-- TEMPORAL EVOLUTION PLOTS -->
                <h5 style="margin-top: 25px; color: #667eea;">üìà Temporal Evolution Across Repetitions</h5>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <p style="margin: 0 0 10px 0; color: #424242; line-height: 1.6;">
                        <strong>Visual Analysis:</strong> The following plots show how timing metrics evolve throughout your exercise session.
                        Orange dashed lines indicate trends - positive slopes suggest fatigue (slowing down), negative slopes indicate adaptation or pacing strategy.
                    </p>
                    <div style="text-align: center;">
                        <img src="temporal_evolution_ang3_filtered.png" alt="Temporal Evolution" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    </div>
                </div>
                
                <!-- A. Per-Repetition Details Table -->
                <h5 style="margin-top: 25px; color: #667eea;">üìã Per-Repetition Timing Breakdown</h5>
                <div style="overflow-x: auto;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Eccentric (s)</th>
                            <th>Concentric (s)</th>
                            <th>Bottom Hold (s)</th>
                            <th>Top Hold (s)</th>
                            <th>Total (s)</th>
                            <th>Ecc %</th>
                            <th>Con %</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="metric-name">1</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>1.855</td>
                            <td><strong>2.048</strong></td>
                            <td>0.0%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">2</td>
                            <td>1.397</td>
                            <td>1.240</td>
                            <td>0.000</td>
                            <td>0.785</td>
                            <td><strong>3.420</strong></td>
                            <td>40.8%</td>
                            <td>36.3%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">3</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>6.090</td>
                            <td><strong>6.089</strong></td>
                            <td>0.0%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">4</td>
                            <td>2.873</td>
                            <td>2.381</td>
                            <td>0.000</td>
                            <td>1.056</td>
                            <td><strong>6.308</strong></td>
                            <td>45.5%</td>
                            <td>37.7%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">5</td>
                            <td>2.270</td>
                            <td>1.400</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td><strong>3.668</strong></td>
                            <td>61.9%</td>
                            <td>38.2%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">6</td>
                            <td>2.182</td>
                            <td>1.728</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td><strong>3.909</strong></td>
                            <td>55.8%</td>
                            <td>44.2%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">7</td>
                            <td>2.473</td>
                            <td>1.491</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td><strong>3.962</strong></td>
                            <td>62.4%</td>
                            <td>37.6%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">8</td>
                            <td>1.940</td>
                            <td>3.561</td>
                            <td>0.000</td>
                            <td>0.104</td>
                            <td><strong>5.604</strong></td>
                            <td>34.6%</td>
                            <td>63.6%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">9</td>
                            <td>2.250</td>
                            <td>0.000</td>
                            <td>0.390</td>
                            <td>1.025</td>
                            <td><strong>4.024</strong></td>
                            <td>55.9%</td>
                            <td>0.0%</td>
                        </tr>
                    </tbody>
                </table>
                </div>

                <h4 style="margin-top: 30px; color: #dc3545;">‚ö†Ô∏è Phase Validation Results</h4>
                <div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; border-radius: 5px; margin: 15px 0;">
                    <p style="margin: 0 0 10px 0;"><strong>‚ö†Ô∏è 3 repetitions failed phase sequence validation</strong></p>
                    <p style="margin: 0; font-size: 0.9em; opacity: 0.8;">These repetitions lack proper ascending+descending sequence or cyclic behavior (return to start angle).</p>
                </div>
                
                <div style="overflow-x: auto; margin-top: 15px;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Failure Reason</th>
                            <th>Phase Sequence</th>
                            <th>Start Angle (¬∞)</th>
                            <th>End Angle (¬∞)</th>
                            <th>Œî Angle (¬∞)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#1</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=False)<br>Not cyclic (Œîangle=47.8¬∞)</td>
                            <td style="font-size: 0.85em;">stable_high</td>
                            <td>-59.1</td>
                            <td>-106.9</td>
                            <td><strong>47.8¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#3</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_high</td>
                            <td>-106.9</td>
                            <td>-111.7</td>
                            <td><strong>4.8¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#9</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=True)<br>Not cyclic (Œîangle=61.9¬∞)</td>
                            <td style="font-size: 0.85em;">stable_high ‚Üí descending ‚Üí stable_low</td>
                            <td>-126.0</td>
                            <td>-64.1</td>
                            <td><strong>61.9¬∞</strong></td>
                        </tr>
                    </tbody>
                </table>
                </div>
                
                <div style="background: #d1ecf1; border-left: 4px solid #17a2b8; padding: 15px; border-radius: 5px; margin: 20px 0;">
                    <h5 style="margin: 0 0 10px 0;">‚ÑπÔ∏è Validation Criteria</h5>
                    <ul style="margin: 5px 0; padding-left: 20px; font-size: 0.9em;">
                        <li><strong>Phase Sequence:</strong> Must contain BOTH ascending AND descending phases (stable phases allowed)</li>
                        <li><strong>Cyclic Behavior:</strong> Signal must return to starting angle within ¬±20¬∞ tolerance</li>
                        <li><strong>Standing Recovery:</strong> Validates proper exercise execution and position recovery (¬±20¬∞ accounts for natural drift and fatigue)</li>
                    </ul>
                </div>

                <div style="margin-top: 50px; padding: 30px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 15px; box-shadow: 0 8px 20px rgba(0,0,0,0.15);">
                    <h3 style="margin: 0 0 20px 0; color: white; font-size: 1.5em;">üöÄ ADVANCED REPETITION ANALYSIS (Production-Ready)</h3>
                    <div style="background: rgba(255,255,255,0.95); padding: 25px; border-radius: 10px;">
                        
                        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 25px;">
                            <h4 style="margin: 0 0 15px 0;">üéØ Key Improvements</h4>
                            <ul style="margin: 0; padding-left: 20px;">
                                <li><strong>Butterworth Filter:</strong> Zero-phase low-pass (10Hz cutoff) preserves signal shape</li>
                                <li><strong>ROM Threshold:</strong> Excludes half-reps and invalid movements</li>
                                <li><strong>Outlier Detection:</strong> IQR method removes statistical anomalies</li>
                                <li><strong>First/Last Exclusion:</strong> Removes adjustment and overshoot phases</li>
                                <li><strong>R¬≤ Validation:</strong> Fatigue trend trusted only if R¬≤ > 0.5</li>
                            </ul>
                        </div>
                        
                        <h4>üìã Filtering Statistics</h4>
                        <table class="comparison-table" style="margin-bottom: 25px;">
                            <thead>
                                <tr>
                                    <th>Metric</th>
                                    <th>Value</th>
                                    <th>Impact</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="metric-name">Total Detected (Before Filtering)</td>
                                    <td>9</td>
                                    <td><span class="badge badge-info">Baseline</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">ROM Threshold Applied</td>
                                    <td>13.6¬∞</td>
                                    <td><span class="badge badge-warning">2 removed</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">First/Last Reps Removed</td>
                                    <td>Yes</td>
                                    <td><span class="badge badge-warning">2 removed</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">Statistical Outliers Removed</td>
                                    <td>0</td>
                                    <td><span class="badge badge-success">Clean</span></td>
                                </tr>
                                <tr style="background: #e8f5e9;">
                                    <td class="metric-name"><strong>Valid Reps After Filtering</strong></td>
                                    <td><strong>3</strong></td>
                                    <td><span class="badge badge-success">33.3% retained</span></td>
                                </tr>
                            </tbody>
                        </table>

                        <h4>üéØ Advanced Quality Indices (0-100 scale)</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 25px;">
                            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 0.9em; opacity: 0.9; margin-bottom: 5px;">ROM Consistency</div>
                                <div style="font-size: 2.5em; font-weight: bold;">95.6</div>
                                <div style="font-size: 0.8em; opacity: 0.8; margin-top: 5px;">Lower CV = Better</div>
                            </div>
                            <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 0.9em; opacity: 0.9; margin-bottom: 5px;">Tempo Consistency</div>
                                <div style="font-size: 2.5em; font-weight: bold;">96.6</div>
                                <div style="font-size: 0.8em; opacity: 0.8; margin-top: 5px;">Execution Rhythm</div>
                            </div>
                            <div style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 0.9em; opacity: 0.9; margin-bottom: 5px;">Depth Index</div>
                                <div style="font-size: 2.5em; font-weight: bold;">95.6</div>
                                <div style="font-size: 0.8em; opacity: 0.8; margin-top: 5px;">Target Achievement</div>
                            </div>
                        </div>
                        
                        <div style="background: #28a745; color: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; text-align: center;">
                            <div style="font-size: 1.1em; opacity: 0.9; margin-bottom: 10px;">‚≠ê IGM SCORE (Integrated Global Metric)</div>
                            <div style="font-size: 3.5em; font-weight: bold; margin: 10px 0;">95.9 / 100</div>
                            <div style="font-size: 1.2em; font-weight: 500; background: rgba(255,255,255,0.2); padding: 10px 20px; border-radius: 5px; display: inline-block;">
                                Excellent: High consistency and depth control
                            </div>
                            <div style="font-size: 0.85em; opacity: 0.8; margin-top: 15px;">
                                Weighted: ROM√ó40% + Tempo√ó30% + Depth√ó30%
                            </div>
                        </div>
                        
                        <h4>üí™ Robust Fatigue Analysis</h4>
                        <table class="comparison-table" style="margin-bottom: 25px;">
                            <thead>
                                <tr>
                                    <th>Metric</th>
                                    <th>Value</th>
                                    <th>Interpretation</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="metric-name">Trend</td>
                                    <td><strong>INCONSISTENT</strong></td>
                                    <td>
                                        <span class="badge badge-warning">‚ö†Ô∏è No Clear Pattern</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="metric-name">Slope</td>
                                    <td>+0.798¬∞/rep</td>
                                    <td style="color: #ffc107;">Increasing range</td>
                                </tr>
                                <tr>
                                    <td class="metric-name">R¬≤ (Fit Quality)</td>
                                    <td><strong>0.459</strong></td>
                                    <td><span class="badge badge-danger">POOR FIT</span> ‚úó High Variability</td>
                                </tr>
                                <tr>
                                    <td class="metric-name">Statistical Significance</td>
                                    <td>NO</td>
                                    <td><span class="badge badge-secondary">p ‚â• 0.05</span></td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <div style="background: #ffc107; color: white; padding: 20px; border-radius: 10px; margin-bottom: 25px;">
                            <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üìä Interpretation</h5>
                            <p style="margin: 0; font-size: 1.05em; line-height: 1.6;">
                                <strong>‚ö†Ô∏è INCONSISTENT PATTERN:</strong> High variability (R¬≤=0.46) prevents reliable trend identification. 
                                The athlete is executing the movement inconsistently. Focus on technique and movement control before analyzing fatigue.
                            </p>
                        </div>
                        
                        <h4>üìä Raw Coefficient of Variation (for reference)</h4>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="label">Range CV</div>
                                <div class="value">4.4%</div>
                            </div>
                            <div class="stat-item">
                                <div class="label">Tempo CV</div>
                                <div class="value">3.4%</div>
                            </div>
                            <div class="stat-item">
                                <div class="label">Timing CV</div>
                                <div class="value">3.8%</div>
                            </div>
                        </div>
                        
                        <h4 style="margin-top: 30px;">‚úÖ Valid Repetitions (After Filtering)</h4>
                        <div style="overflow-x: auto;">
                        <table class="comparison-table">
                            <thead>
                                <tr>
                                    <th>Rep #</th>
                                    <th>Time (s)</th>
                                    <th>Duration (s)</th>
                                    <th>Range (¬∞)</th>
                                    <th>Depth (¬∞)</th>
                                    <th>ROM Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="metric-name">1</td>
                                    <td>19.65</td>
                                    <td>3.66</td>
                                    <td><strong>20.46</strong></td>
                                    <td>-134.38</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">2</td>
                                    <td>23.42</td>
                                    <td>3.92</td>
                                    <td><strong>22.76</strong></td>
                                    <td>-133.90</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">3</td>
                                    <td>27.48</td>
                                    <td>3.97</td>
                                    <td><strong>22.06</strong></td>
                                    <td>-136.14</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                            </tbody>
                        </table>
                        </div>
                        
                        <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; margin-top: 25px; border-left: 5px solid #2196f3;">
                            <h5 style="margin: 0 0 10px 0; color: #1976d2;">üí° Key Takeaways</h5>
                            <ul style="margin: 0; padding-left: 20px; color: #424242;">
                                <li><strong>Base Analysis:</strong> Shows all detected movements (including half-reps, outliers)</li>
                                <li><strong>Advanced Analysis:</strong> Filters for quality - only biomechanically valid repetitions</li>
                                <li><strong>IGM Score:</strong> Single metric for performance evaluation (80+ = Excellent, 60-80 = Good, 40-60 = Fair, <40 = Poor)</li>
                                <li><strong>R¬≤ Validation:</strong> Ensures fatigue trends are statistically reliable, not random noise</li>
                                <li><strong>Use Case:</strong> Advanced metrics for athlete feedback, base counts for training volume</li>
                            </ul>
                        </div>
                        
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üìä Visualization</h3>

                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                    <h4 style="margin: 0 0 10px 0; font-size: 1.1em;">üéØ COMPLETE TIME-SERIES OVERVIEW</h4>
                    <p style="margin: 0; font-size: 0.95em; opacity: 0.95;">
                        Full recording with all detected regions and repetitions. 
                        <strong>Top panel:</strong> Phase regions (ascending/descending/stable_high/stable_low).
                        <strong>Bottom panel:</strong> All detected repetitions with suspicious markers.
                    </p>
                </div>
                <div class="plot-container" style="grid-column: 1 / -1; margin-bottom: 30px;">
                    <img src="overview_complete_ang3_filtered.png" alt="Complete Overview" style="width: 100%; max-width: 100%;">
                </div>
                
                <h4 style="margin-top: 20px; color: #666;">Detailed Analysis Plots</h4>
                <div class="plot-grid">
                    <div class="plot-container">
                        <div class="plot-title">Autocorrelation</div>
                        <img src="autocorr_ang3_filtered.png" alt="Autocorrelation">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">Frequency Spectrum</div>
                        <img src="spectrum_ang3_filtered.png" alt="Spectrum">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">Spectrogram (Time-Frequency)</div>
                        <img src="spectrogram_ang3_filtered.png" alt="Spectrogram">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">üìç Phase Detection (Ascending/Descending/Stable High/Low)</div>
                        <img src="phases_ang3_filtered.png" alt="Phase Detection">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">üèãÔ∏è Repetition Detection (Valleys & ROM)</div>
                        <img src="repetitions_ang3_filtered.png" alt="Repetitions">
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ANG PRINCIPAL FILTERED Statistics -->
        <div class="section">
            <div class="section-header filtered" onclick="this.nextElementSibling.style.display=this.nextElementSibling.style.display=='none'?'block':'none'">
                <span>üìä ANG PRINCIPAL FILTERED <span class="badge badge-success">‚ú® FILTERED</span></span>
                <span>‚ñº</span>
            </div>
            <div class="section-content">
                
                <!-- INTERACTIVE PLOTLY GRAPH EMBEDDED -->
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; margin-bottom: 25px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    <h4 style="margin: 0 0 10px 0; display: flex; align-items: center;">
                        <span style="font-size: 1.5em; margin-right: 10px;">üîç</span>
                        Interactive Signal Exploration
                    </h4>
                    <p style="margin: 0 0 15px 0; line-height: 1.6; opacity: 0.95; font-size: 0.95em;">
                        Hover over the plot to see precise values ‚Ä¢ Zoom by dragging ‚Ä¢ Double-click to reset
                    </p>
                </div>
                <!-- Embed interactive plot using iframe -->
                <iframe src="interactive_ang_principal_filtered.html" width="100%" height="500" frameborder="0" style="border: 1px solid #e0e0e0; border-radius: 8px; margin-bottom: 20px;"></iframe>
                
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean</div>
                        <div class="value">0.03¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Median</div>
                        <div class="value">2.56¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Dev</div>
                        <div class="value">9.72¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range</div>
                        <div class="value">33.05¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min / Max</div>
                        <div class="value">-16.76¬∞ / 16.29¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Skewness</div>
                        <div class="value">-0.22</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Kurtosis</div>
                        <div class="value">-1.47</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">SNR-like Index</div>
                        <div class="value">1214.90</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Dynamic Range (5-95%)</div>
                        <div class="value">26.97¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Noise Estimate</div>
                        <div class="value">0.0222¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Stationary</div>
                        <div class="value">‚úó No</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Linear Trend</div>
                        <div class="value">-0.3645 ¬∞/s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Peaks / Troughs</div>
                        <div class="value">261 / 261</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Dominant Frequency</div>
                        <div class="value">0.0256 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Period</div>
                        <div class="value">39.04 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">ACF Periodicity</div>
                        <div class="value">1 samples</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">Sliding Window Analysis (2.0s window, 0.5s step)</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Std of Window Means</div>
                        <div class="value">8.72¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std of Window Stds</div>
                        <div class="value">2.25¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Window Std</div>
                        <div class="value">3.91¬∞</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üîÑ Cycle-Level Metrics</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Total Cycles</div>
                        <div class="value">26</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Duration</div>
                        <div class="value">1.447 s (CV=56.5%)</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Amplitude</div>
                        <div class="value">12.50¬∞ (CV=71.7%)</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Trend Duration/Cycle</div>
                        <div class="value">+0.0314 s/cycle</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Trend Amplitude/Cycle</div>
                        <div class="value">+0.6082 ¬∞/cycle</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üìç Phase Statistics</h3>
                
                <div style="background: #fff3e0; padding: 15px; border-radius: 5px; margin-bottom: 15px; border-left: 4px solid #ff6f00;">
                    <h4 style="color: #ff6f00; margin-bottom: 10px;">üîÑ Understanding Movement Phases</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; font-size: 0.9em;">
                        <div>
                            <strong>üîº Ascending</strong> (Concentric)<br>
                            <span style="opacity: 0.8;">Upward motion, muscle shortening. E.g., rising from squat bottom.</span>
                        </div>
                        <div>
                            <strong>üîΩ Descending</strong> (Eccentric)<br>
                            <span style="opacity: 0.8;">Downward motion, muscle lengthening. E.g., lowering into squat.</span>
                        </div>
                        <div>
                            <strong>üüß Stable High</strong> (Top Hold)<br>
                            <span style="opacity: 0.8;">Isometric hold in standing position between reps.</span>
                        </div>
                        <div>
                            <strong>üü¶ Stable Low</strong> (Bottom Hold)<br>
                            <span style="opacity: 0.8;">Isometric hold at bottom position (pause squats).</span>
                        </div>
                    </div>
                    <p style="margin-top: 10px; font-size: 0.85em; opacity: 0.9;">
                        <strong>CV (Coefficient of Variation)</strong>: Measures consistency. Lower values = more consistent timing across phases.
                    </p>
                </div>
                
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Phase Type</th>
                            <th>Count</th>
                            <th>Mean Duration</th>
                            <th>CV</th>
                            <th>Total Time</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="metric-name">üîº Ascending</td>
                            <td>8</td>
                            <td>1.475 s</td>
                            <td>53.9%</td>
                            <td>11.8 s</td>
                        </tr>
                        <tr>
                            <td class="metric-name">üîΩ Descending</td>
                            <td>7</td>
                            <td>2.198 s</td>
                            <td>19.9%</td>
                            <td>15.4 s</td>
                        </tr>
                        <tr>
                            <td class="metric-name">üüß Stable High (standing)</td>
                            <td>9</td>
                            <td>0.956 s</td>
                            <td>61.4%</td>
                            <td>8.6 s</td>
                        </tr>
                        <tr>
                            <td class="metric-name">üü¶ Stable Low (bottom)</td>
                            <td>1</td>
                            <td>0.390 s</td>
                            <td>0.0%</td>
                            <td>0.4 s</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3 style="margin-top: 30px;">üèãÔ∏è Exercise Repetition Analysis</h3>
                
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin: 20px 0;">
                    <h4 style="margin: 0 0 15px 0; font-size: 1.2em;">üìä Summary</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Total Repetitions</div>
                            <div style="font-size: 2em; font-weight: bold;">8</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Detection Threshold</div>
                            <div style="font-size: 1.5em; font-weight: bold;">5.39¬∞</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">Consistency Score</div>
                            <div style="font-size: 1.5em; font-weight: bold;">68.0/100</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">‚ö†Ô∏è Suspicious Reps</div>
                            <div style="font-size: 1.5em; font-weight: bold;">2</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">üìè Median ROM</div>
                            <div style="font-size: 1.5em; font-weight: bold;">22.59¬∞</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; opacity: 0.9;">üéØ ROM Threshold (50%)</div>
                            <div style="font-size: 1.5em; font-weight: bold;">11.30¬∞</div>
                        </div>
                    </div>
                </div>

                <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 5px solid #2196f3;">
                    <h4 style="color: #1976d2; margin-bottom: 15px;">üìä Comparison: Base Analysis vs Advanced Filtering</h4>
                    <table class="comparison-table" style="margin-bottom: 15px;">
                        <thead>
                            <tr>
                                <th>Metric</th>
                                <th>Base Analysis</th>
                                <th>Advanced Analysis</th>
                                <th>Difference</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="metric-name">Total Repetitions Detected</td>
                                <td><strong>8</strong></td>
                                <td><strong>3</strong></td>
                                <td><span class="badge badge-warning">-5 (37.5%)</span></td>
                            </tr>
                            <tr>
                                <td class="metric-name">Filtering Applied</td>
                                <td><span class="badge badge-info">Prominence + Phase Detection</span></td>
                                <td><span class="badge badge-success">ROM Threshold + Outliers + First/Last</span></td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td class="metric-name">Mean ROM</td>
                                <td>21.84¬∞</td>
                                <td>21.79¬∞</td>
                                <td>-0.05¬∞</td>
                            </tr>
                            <tr>
                                <td class="metric-name">ROM CV (Consistency)</td>
                                <td>32.8%</td>
                                <td>4.4%</td>
                                <td>-28.5%</td>
                            </tr>
                            <tr>
                                <td class="metric-name">Suspicious Reps</td>
                                <td><span class="badge badge-warning">2 reps</span></td>
                                <td><span class="badge badge-success">Filtered out</span></td>
                                <td>-2 cleaned</td>
                            </tr>
                        </tbody>
                    </table>
                    <p style="margin: 10px 0 0 0; color: #424242; font-size: 0.9em;">
                        <strong>üí° Interpretation:</strong> Advanced analysis applies stricter quality filters to remove half-reps, 
                        statistical outliers, and adjustment phases (first/last reps). This typically results in fewer but 
                        more biomechanically valid repetitions with better consistency metrics.
                    </p>
                </div>

                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; margin: 25px 0; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    <h4 style="margin: 0 0 15px 0; display: flex; align-items: center;">
                        <span style="font-size: 1.5em; margin-right: 10px;">üîç</span>
                        Criteri di Validazione delle Ripetizioni
                    </h4>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üìä 1. Range of Motion (ROM)</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione √® considerata <strong>sospetta per ROM</strong> se:<br>
                            ‚Ä¢ ROM &lt; 50% della mediana di tutte le ripetizioni<br>
                            ‚Ä¢ Esempio: Se mediana ROM = 22.87¬∞, la soglia √® 11.4¬∞<br>
                            ‚Ä¢ <em>Motivo</em>: Ripetizioni troppo piccole potrebbero essere artefatti o movimenti incompleti
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üîÑ 2. Sequenza di Fasi</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione <strong>valida</strong> deve contenere:<br>
                            ‚Ä¢ Almeno una fase di <strong style="color: #4ade80;">ASCESA</strong> (ascending)<br>
                            ‚Ä¢ Almeno una fase di <strong style="color: #f87171;">DISCESA</strong> (descending)<br>
                            ‚Ä¢ <em>Motivo</em>: Un esercizio completo richiede movimento bidirezionale (es: squat = scendi + sali)
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px;">
                        <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üîÅ 3. Ciclicit√† (Ritorno all'Origine)</h5>
                        <p style="margin: 5px 0; line-height: 1.6;">
                            Una ripetizione √® <strong>ciclica</strong> se:<br>
                            ‚Ä¢ Il <strong>punto pi√π alto DOPO</strong> il minimo ritorna entro <strong>¬±20¬∞</strong> dal <strong>punto pi√π alto PRIMA</strong> del minimo<br>
                            ‚Ä¢ Calcolo: <code style="background: rgba(0,0,0,0.3); padding: 2px 6px; border-radius: 4px;">Œîangle = |max_dopo - max_prima|</code><br>
                            ‚Ä¢ Esempio: Durante uno squat, se parti da -115¬∞ (in piedi), scendi a -136¬∞ (gi√π), e risali a -125¬∞ (in piedi) ‚Üí Œî = 10¬∞ ‚úì<br>
                            ‚Ä¢ <strong>Nota importante</strong>: Si confrontano le posizioni erette (massimi), non i punti intermedi tra ripetizioni<br>
                            ‚Ä¢ <em>Motivo</em>: Tolleranza di ¬±20¬∞ per tenere conto di drift naturale, fatica e variabilit√† umana nell'esecuzione
                        </p>
                    </div>
                    <div style="margin-top: 15px; padding: 12px; background: rgba(255,255,255,0.15); border-left: 4px solid #fbbf24; border-radius: 4px;">
                        <strong>‚ö†Ô∏è Nota:</strong> Una ripetizione pu√≤ essere marcata "suspicious" per uno o pi√π criteri. 
                        I motivi specifici sono indicati nella colonna "Quality".
                    </div>
                </div>
                
                <h4 style="margin-top: 25px;">üìã Per-Repetition Metrics</h4>
                <div style="overflow-x: auto;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Time (s)</th>
                            <th>Duration (s)</th>
                            <th>Range (¬∞)</th>
                            <th>Depth (¬∞)</th>
                            <th>Quality</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="metric-name">1</td>
                            <td>3.91</td>
                            <td>5.47</td>
                            <td>14.41</td>
                            <td>4.10</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">2</td>
                            <td>7.04</td>
                            <td>6.09</td>
                            <td>8.34</td>
                            <td>4.44</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=False)</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">3</td>
                            <td>16.09</td>
                            <td>6.31</td>
                            <td>27.20</td>
                            <td>-14.03</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">4</td>
                            <td>19.66</td>
                            <td>3.67</td>
                            <td>20.61</td>
                            <td>-14.68</td>
                            <td><span class="badge badge-warning">Fair</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">5</td>
                            <td>23.43</td>
                            <td>3.91</td>
                            <td>22.90</td>
                            <td>-14.26</td>
                            <td><span class="badge badge-success">Good</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">6</td>
                            <td>27.48</td>
                            <td>3.96</td>
                            <td>22.28</td>
                            <td>-16.60</td>
                            <td><span class="badge badge-success">Good</span></td>
                        </tr>
                        <tr>
                            <td class="metric-name">7</td>
                            <td>31.35</td>
                            <td>5.60</td>
                            <td>33.05</td>
                            <td>-16.76</td>
                            <td><span class="badge badge-danger">Poor</span></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">8</td>
                            <td>38.68</td>
                            <td>4.02</td>
                            <td>25.93</td>
                            <td>-10.66</td>
                            <td><span class="badge badge-danger">‚ö†Ô∏è Missing phase sequence (has_asc=False, has_desc=True)</span></td>
                        </tr>
                    </tbody>
                </table>
                </div>

                <h4 style="margin-top: 25px;">‚è±Ô∏è Timing Analysis</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Interval</div>
                        <div class="value">4.97 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Deviation</div>
                        <div class="value">2.27 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min/Max Interval</div>
                        <div class="value">3.13 / 9.05 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Timing CV</div>
                        <div class="value">45.8%</div>
                    </div>
                </div>

                <h4 style="margin-top: 25px;">üìè Range of Motion Analysis</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Range</div>
                        <div class="value">21.84¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Std Deviation</div>
                        <div class="value">7.67¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Min/Max Range</div>
                        <div class="value">8.34 / 33.05¬∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range Consistency (CV)</div>
                        <div class="value">32.8%</div>
                    </div>
                </div>

                <h4 style="margin-top: 25px;">‚≠ê Performance Quality</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Overall Consistency</div>
                        <div class="value">68.0/100</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Range Consistency</div>
                        <div class="value">32.8%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Timing Consistency</div>
                        <div class="value">42.4%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Tempo Consistency</div>
                        <div class="value">21.0%</div>
                    </div>
                </div>
                
                <div style="background: #ffc107; color: white; padding: 15px; border-radius: 8px; margin: 20px 0;">
                    <h5 style="margin: 0 0 10px 0;">üéØ Fatigue Indicator</h5>
                    <p style="margin: 0; font-size: 1.1em;"><strong>INCREASING RANGE</strong></p>
                    <p style="margin: 5px 0 0 0; opacity: 0.9;">+2.282¬∞/rep</p>
                </div>
                
                <h4 style="margin-top: 25px;">üéØ Derived Metrics</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Average Rep Frequency</div>
                        <div class="value">0.2013 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Seconds per Rep</div>
                        <div class="value">4.97 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Exercise Duration</div>
                        <div class="value">34.78 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Work Density</div>
                        <div class="value">13.8 reps/min</div>
                    </div>
                </div>

                <h4 style="margin-top: 30px;">‚è±Ô∏è Detailed Temporal Parameters (50 Parameters)</h4>
                
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin: 15px 0;">
                    <h4 style="margin: 0 0 15px 0; font-size: 1.2em;">üìä Complete Temporal Analysis</h4>
                    <p style="margin: 0 0 15px 0; line-height: 1.6;">
                        This section presents a <strong>comprehensive temporal analysis</strong> of your exercise execution,
                        breaking down each repetition into its constituent phases and analyzing timing patterns, 
                        consistency, and trends throughout the session.
                    </p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; font-size: 0.9em;">
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìã Per-Repetition</strong><br>
                            8 params √ó 8 reps<br>
                            <span style="opacity: 0.9;">Phase timings + percentages</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üåç Global Timing</strong><br>
                            4 parameters<br>
                            <span style="opacity: 0.9;">Frequency, density, cycles</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìà Session Totals</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Cumulative work & rest</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìä Variances</strong><br>
                            16 parameters<br>
                            <span style="opacity: 0.9;">Consistency metrics (CV)</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üîÑ Regularity</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Duration stability</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>‚ö†Ô∏è Outliers</strong><br>
                            4 parameters<br>
                            <span style="opacity: 0.9;">Unusual timing patterns</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                            <strong>üìà Trends</strong><br>
                            6 parameters<br>
                            <span style="opacity: 0.9;">Fatigue indicators</span>
                        </div>
                    </div>
                </div>
                
                <!-- B. Global Timing Parameters -->
                <h5 style="margin-top: 20px; color: #667eea;">üìä Global Timing Parameters</h5>
                <div style="background: #f8f9fa; padding: 10px; border-radius: 5px; margin-bottom: 10px; font-size: 0.9em;">
                    <strong>Cycle Time</strong>: Time from start of one rep to start of next (includes work + rest). 
                    <strong>Density Ratio</strong>: Proportion of time spent in active work (ecc+conc) vs total time.
                    Higher density = more continuous training stimulus.
                </div>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Mean Rep Duration</div>
                        <div class="value">4.88 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Cycle Time</div>
                        <div class="value">4.97 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Execution Frequency</div>
                        <div class="value">0.201 Hz</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Mean Density Ratio</div>
                        <div class="value">73.2%</div>
                    </div>
                </div>
                
                <!-- C. Session Total Times -->
                <h5 style="margin-top: 20px; color: #667eea;">üìà Session Total Times</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Total Eccentric Time</div>
                        <div class="value">15.38 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Concentric Time</div>
                        <div class="value">11.80 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Bottom Hold</div>
                        <div class="value">0.39 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Top Hold</div>
                        <div class="value">8.60 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Work Time</div>
                        <div class="value">27.18 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Total Pause Time</div>
                        <div class="value">8.99 s</div>
                    </div>
                </div>
                
                <!-- D. Temporal Variances -->
                <h5 style="margin-top: 20px; color: #667eea;">üìä Temporal Variances (Coefficient of Variation)</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Eccentric CV</div>
                        <div class="value">19.2%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Concentric CV</div>
                        <div class="value">40.7%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Bottom Hold CV</div>
                        <div class="value">0.0%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Top Hold CV</div>
                        <div class="value">128.9%</div>
                    </div>
                </div>
                
                <!-- E. Regularity & Continuity -->
                <h5 style="margin-top: 20px; color: #667eea;">üîÑ Regularity & Continuity</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Rep Duration CV</div>
                        <div class="value">21.0%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Rep Duration Range</div>
                        <div class="value">2.64 s</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time CV</div>
                        <div class="value">42.4%</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time Range</div>
                        <div class="value">5.91 s</div>
                    </div>
                </div>
                
                <!-- F. Temporal Outliers -->
                <h5 style="margin-top: 20px; color: #667eea;">‚ö†Ô∏è Temporal Outliers</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Slow Eccentric Reps</div>
                        <div class="value">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Fast Concentric Reps</div>
                        <div class="value">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Excessive Bottom Holds</div>
                        <div class="value">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Excessive Top Holds</div>
                        <div class="value">1</div>
                    </div>
                </div>
                
                <!-- G. Longitudinal Trends -->
                <h5 style="margin-top: 20px; color: #667eea;">üìà Longitudinal Trends (s/rep)</h5>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="label">Eccentric Trend</div>
                        <div class="value" style="color: #28a745">+0.1712 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Concentric Trend</div>
                        <div class="value" style="color: #28a745">+0.0808 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Bottom Hold Trend</div>
                        <div class="value" style="color: #28a745">+0.0325 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Top Hold Trend</div>
                        <div class="value" style="color: #dc3545">-0.3357 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Rep Duration Trend</div>
                        <div class="value" style="color: #dc3545">-0.2303 s/rep</div>
                    </div>
                    <div class="stat-item">
                        <div class="label">Cycle Time Trend</div>
                        <div class="value" style="color: #28a745">+0.0977 s/rep</div>
                    </div>
                </div>
                
                <!-- TEMPORAL EVOLUTION PLOTS -->
                <h5 style="margin-top: 25px; color: #667eea;">üìà Temporal Evolution Across Repetitions</h5>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <p style="margin: 0 0 10px 0; color: #424242; line-height: 1.6;">
                        <strong>Visual Analysis:</strong> The following plots show how timing metrics evolve throughout your exercise session.
                        Orange dashed lines indicate trends - positive slopes suggest fatigue (slowing down), negative slopes indicate adaptation or pacing strategy.
                    </p>
                    <div style="text-align: center;">
                        <img src="temporal_evolution_ang_principal_filtered.png" alt="Temporal Evolution" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                    </div>
                </div>
                
                <!-- A. Per-Repetition Details Table -->
                <h5 style="margin-top: 25px; color: #667eea;">üìã Per-Repetition Timing Breakdown</h5>
                <div style="overflow-x: auto;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Eccentric (s)</th>
                            <th>Concentric (s)</th>
                            <th>Bottom Hold (s)</th>
                            <th>Top Hold (s)</th>
                            <th>Total (s)</th>
                            <th>Ecc %</th>
                            <th>Con %</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="metric-name">1</td>
                            <td>1.397</td>
                            <td>1.240</td>
                            <td>0.000</td>
                            <td>0.325</td>
                            <td><strong>5.470</strong></td>
                            <td>25.5%</td>
                            <td>22.7%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">2</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td>6.090</td>
                            <td><strong>6.089</strong></td>
                            <td>0.0%</td>
                            <td>0.0%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">3</td>
                            <td>2.873</td>
                            <td>2.381</td>
                            <td>0.000</td>
                            <td>1.056</td>
                            <td><strong>6.308</strong></td>
                            <td>45.5%</td>
                            <td>37.7%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">4</td>
                            <td>2.270</td>
                            <td>1.400</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td><strong>3.668</strong></td>
                            <td>61.9%</td>
                            <td>38.2%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">5</td>
                            <td>2.182</td>
                            <td>1.728</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td><strong>3.909</strong></td>
                            <td>55.8%</td>
                            <td>44.2%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">6</td>
                            <td>2.473</td>
                            <td>1.491</td>
                            <td>0.000</td>
                            <td>0.000</td>
                            <td><strong>3.962</strong></td>
                            <td>62.4%</td>
                            <td>37.6%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">7</td>
                            <td>1.940</td>
                            <td>3.561</td>
                            <td>0.000</td>
                            <td>0.104</td>
                            <td><strong>5.604</strong></td>
                            <td>34.6%</td>
                            <td>63.6%</td>
                        </tr>
                        <tr>
                            <td class="metric-name">8</td>
                            <td>2.250</td>
                            <td>0.000</td>
                            <td>0.390</td>
                            <td>1.025</td>
                            <td><strong>4.024</strong></td>
                            <td>55.9%</td>
                            <td>0.0%</td>
                        </tr>
                    </tbody>
                </table>
                </div>

                <h4 style="margin-top: 30px; color: #dc3545;">‚ö†Ô∏è Phase Validation Results</h4>
                <div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; border-radius: 5px; margin: 15px 0;">
                    <p style="margin: 0 0 10px 0;"><strong>‚ö†Ô∏è 2 repetitions failed phase sequence validation</strong></p>
                    <p style="margin: 0; font-size: 0.9em; opacity: 0.8;">These repetitions lack proper ascending+descending sequence or cyclic behavior (return to start angle).</p>
                </div>
                
                <div style="overflow-x: auto; margin-top: 15px;">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rep #</th>
                            <th>Failure Reason</th>
                            <th>Phase Sequence</th>
                            <th>Start Angle (¬∞)</th>
                            <th>End Angle (¬∞)</th>
                            <th>Œî Angle (¬∞)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#2</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=False)</td>
                            <td style="font-size: 0.85em;">stable_high</td>
                            <td>12.8</td>
                            <td>7.9</td>
                            <td><strong>4.9¬∞</strong></td>
                        </tr>
                        <tr style="background-color: #fff3cd;">
                            <td class="metric-name">#8</td>
                            <td style="font-size: 0.85em;">Missing phase sequence (has_asc=False, has_desc=True)</td>
                            <td style="font-size: 0.85em;">stable_high ‚Üí descending ‚Üí stable_low</td>
                            <td>-6.5</td>
                            <td>-3.8</td>
                            <td><strong>2.7¬∞</strong></td>
                        </tr>
                    </tbody>
                </table>
                </div>
                
                <div style="background: #d1ecf1; border-left: 4px solid #17a2b8; padding: 15px; border-radius: 5px; margin: 20px 0;">
                    <h5 style="margin: 0 0 10px 0;">‚ÑπÔ∏è Validation Criteria</h5>
                    <ul style="margin: 5px 0; padding-left: 20px; font-size: 0.9em;">
                        <li><strong>Phase Sequence:</strong> Must contain BOTH ascending AND descending phases (stable phases allowed)</li>
                        <li><strong>Cyclic Behavior:</strong> Signal must return to starting angle within ¬±20¬∞ tolerance</li>
                        <li><strong>Standing Recovery:</strong> Validates proper exercise execution and position recovery (¬±20¬∞ accounts for natural drift and fatigue)</li>
                    </ul>
                </div>

                <div style="margin-top: 50px; padding: 30px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 15px; box-shadow: 0 8px 20px rgba(0,0,0,0.15);">
                    <h3 style="margin: 0 0 20px 0; color: white; font-size: 1.5em;">üöÄ ADVANCED REPETITION ANALYSIS (Production-Ready)</h3>
                    <div style="background: rgba(255,255,255,0.95); padding: 25px; border-radius: 10px;">
                        
                        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 25px;">
                            <h4 style="margin: 0 0 15px 0;">üéØ Key Improvements</h4>
                            <ul style="margin: 0; padding-left: 20px;">
                                <li><strong>Butterworth Filter:</strong> Zero-phase low-pass (10Hz cutoff) preserves signal shape</li>
                                <li><strong>ROM Threshold:</strong> Excludes half-reps and invalid movements</li>
                                <li><strong>Outlier Detection:</strong> IQR method removes statistical anomalies</li>
                                <li><strong>First/Last Exclusion:</strong> Removes adjustment and overshoot phases</li>
                                <li><strong>R¬≤ Validation:</strong> Fatigue trend trusted only if R¬≤ > 0.5</li>
                            </ul>
                        </div>
                        
                        <h4>üìã Filtering Statistics</h4>
                        <table class="comparison-table" style="margin-bottom: 25px;">
                            <thead>
                                <tr>
                                    <th>Metric</th>
                                    <th>Value</th>
                                    <th>Impact</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="metric-name">Total Detected (Before Filtering)</td>
                                    <td>8</td>
                                    <td><span class="badge badge-info">Baseline</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">ROM Threshold Applied</td>
                                    <td>13.5¬∞</td>
                                    <td><span class="badge badge-warning">1 removed</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">First/Last Reps Removed</td>
                                    <td>Yes</td>
                                    <td><span class="badge badge-warning">2 removed</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">Statistical Outliers Removed</td>
                                    <td>0</td>
                                    <td><span class="badge badge-success">Clean</span></td>
                                </tr>
                                <tr style="background: #e8f5e9;">
                                    <td class="metric-name"><strong>Valid Reps After Filtering</strong></td>
                                    <td><strong>3</strong></td>
                                    <td><span class="badge badge-success">37.5% retained</span></td>
                                </tr>
                            </tbody>
                        </table>

                        <h4>üéØ Advanced Quality Indices (0-100 scale)</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 25px;">
                            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 0.9em; opacity: 0.9; margin-bottom: 5px;">ROM Consistency</div>
                                <div style="font-size: 2.5em; font-weight: bold;">95.6</div>
                                <div style="font-size: 0.8em; opacity: 0.8; margin-top: 5px;">Lower CV = Better</div>
                            </div>
                            <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 0.9em; opacity: 0.9; margin-bottom: 5px;">Tempo Consistency</div>
                                <div style="font-size: 2.5em; font-weight: bold;">96.5</div>
                                <div style="font-size: 0.8em; opacity: 0.8; margin-top: 5px;">Execution Rhythm</div>
                            </div>
                            <div style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 0.9em; opacity: 0.9; margin-bottom: 5px;">Depth Index</div>
                                <div style="font-size: 2.5em; font-weight: bold;">95.6</div>
                                <div style="font-size: 0.8em; opacity: 0.8; margin-top: 5px;">Target Achievement</div>
                            </div>
                        </div>
                        
                        <div style="background: #28a745; color: white; padding: 25px; border-radius: 10px; margin-bottom: 25px; text-align: center;">
                            <div style="font-size: 1.1em; opacity: 0.9; margin-bottom: 10px;">‚≠ê IGM SCORE (Integrated Global Metric)</div>
                            <div style="font-size: 3.5em; font-weight: bold; margin: 10px 0;">95.9 / 100</div>
                            <div style="font-size: 1.2em; font-weight: 500; background: rgba(255,255,255,0.2); padding: 10px 20px; border-radius: 5px; display: inline-block;">
                                Excellent: High consistency and depth control
                            </div>
                            <div style="font-size: 0.85em; opacity: 0.8; margin-top: 15px;">
                                Weighted: ROM√ó40% + Tempo√ó30% + Depth√ó30%
                            </div>
                        </div>
                        
                        <h4>üí™ Robust Fatigue Analysis</h4>
                        <table class="comparison-table" style="margin-bottom: 25px;">
                            <thead>
                                <tr>
                                    <th>Metric</th>
                                    <th>Value</th>
                                    <th>Interpretation</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="metric-name">Trend</td>
                                    <td><strong>INCONSISTENT</strong></td>
                                    <td>
                                        <span class="badge badge-warning">‚ö†Ô∏è No Clear Pattern</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="metric-name">Slope</td>
                                    <td>+0.786¬∞/rep</td>
                                    <td style="color: #ffc107;">Increasing range</td>
                                </tr>
                                <tr>
                                    <td class="metric-name">R¬≤ (Fit Quality)</td>
                                    <td><strong>0.454</strong></td>
                                    <td><span class="badge badge-danger">POOR FIT</span> ‚úó High Variability</td>
                                </tr>
                                <tr>
                                    <td class="metric-name">Statistical Significance</td>
                                    <td>NO</td>
                                    <td><span class="badge badge-secondary">p ‚â• 0.05</span></td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <div style="background: #ffc107; color: white; padding: 20px; border-radius: 10px; margin-bottom: 25px;">
                            <h5 style="margin: 0 0 10px 0; font-size: 1.1em;">üìä Interpretation</h5>
                            <p style="margin: 0; font-size: 1.05em; line-height: 1.6;">
                                <strong>‚ö†Ô∏è INCONSISTENT PATTERN:</strong> High variability (R¬≤=0.45) prevents reliable trend identification. 
                                The athlete is executing the movement inconsistently. Focus on technique and movement control before analyzing fatigue.
                            </p>
                        </div>
                        
                        <h4>üìä Raw Coefficient of Variation (for reference)</h4>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="label">Range CV</div>
                                <div class="value">4.4%</div>
                            </div>
                            <div class="stat-item">
                                <div class="label">Tempo CV</div>
                                <div class="value">3.5%</div>
                            </div>
                            <div class="stat-item">
                                <div class="label">Timing CV</div>
                                <div class="value">3.8%</div>
                            </div>
                        </div>
                        
                        <h4 style="margin-top: 30px;">‚úÖ Valid Repetitions (After Filtering)</h4>
                        <div style="overflow-x: auto;">
                        <table class="comparison-table">
                            <thead>
                                <tr>
                                    <th>Rep #</th>
                                    <th>Time (s)</th>
                                    <th>Duration (s)</th>
                                    <th>Range (¬∞)</th>
                                    <th>Depth (¬∞)</th>
                                    <th>ROM Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="metric-name">1</td>
                                    <td>19.65</td>
                                    <td>3.66</td>
                                    <td><strong>20.50</strong></td>
                                    <td>-14.66</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">2</td>
                                    <td>23.42</td>
                                    <td>3.92</td>
                                    <td><strong>22.78</strong></td>
                                    <td>-14.17</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">3</td>
                                    <td>27.48</td>
                                    <td>3.97</td>
                                    <td><strong>22.07</strong></td>
                                    <td>-16.44</td>
                                    <td><span class="badge badge-success">‚úì Valid</span></td>
                                </tr>
                            </tbody>
                        </table>
                        </div>
                        
                        <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; margin-top: 25px; border-left: 5px solid #2196f3;">
                            <h5 style="margin: 0 0 10px 0; color: #1976d2;">üí° Key Takeaways</h5>
                            <ul style="margin: 0; padding-left: 20px; color: #424242;">
                                <li><strong>Base Analysis:</strong> Shows all detected movements (including half-reps, outliers)</li>
                                <li><strong>Advanced Analysis:</strong> Filters for quality - only biomechanically valid repetitions</li>
                                <li><strong>IGM Score:</strong> Single metric for performance evaluation (80+ = Excellent, 60-80 = Good, 40-60 = Fair, <40 = Poor)</li>
                                <li><strong>R¬≤ Validation:</strong> Ensures fatigue trends are statistically reliable, not random noise</li>
                                <li><strong>Use Case:</strong> Advanced metrics for athlete feedback, base counts for training volume</li>
                            </ul>
                        </div>
                        
                    </div>
                </div>
                
                <h3 style="margin-top: 25px;">üìä Visualization</h3>

                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                    <h4 style="margin: 0 0 10px 0; font-size: 1.1em;">üéØ COMPLETE TIME-SERIES OVERVIEW</h4>
                    <p style="margin: 0; font-size: 0.95em; opacity: 0.95;">
                        Full recording with all detected regions and repetitions. 
                        <strong>Top panel:</strong> Phase regions (ascending/descending/stable_high/stable_low).
                        <strong>Bottom panel:</strong> All detected repetitions with suspicious markers.
                    </p>
                </div>
                <div class="plot-container" style="grid-column: 1 / -1; margin-bottom: 30px;">
                    <img src="overview_complete_ang_principal_filtered.png" alt="Complete Overview" style="width: 100%; max-width: 100%;">
                </div>
                
                <h4 style="margin-top: 20px; color: #666;">Detailed Analysis Plots</h4>
                <div class="plot-grid">
                    <div class="plot-container">
                        <div class="plot-title">Autocorrelation</div>
                        <img src="autocorr_ang_principal_filtered.png" alt="Autocorrelation">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">Frequency Spectrum</div>
                        <img src="spectrum_ang_principal_filtered.png" alt="Spectrum">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">Spectrogram (Time-Frequency)</div>
                        <img src="spectrogram_ang_principal_filtered.png" alt="Spectrogram">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">üìç Phase Detection (Ascending/Descending/Stable High/Low)</div>
                        <img src="phases_ang_principal_filtered.png" alt="Phase Detection">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">üèãÔ∏è Repetition Detection (Valleys & ROM)</div>
                        <img src="repetitions_ang_principal_filtered.png" alt="Repetitions">
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Cross-Axis Correlations -->
        <div class="section">
            <div class="section-header" onclick="this.nextElementSibling.style.display=this.nextElementSibling.style.display=='none'?'block':'none'">
                <span>üîó Cross-Axis Correlations</span>
                <span>‚ñº</span>
            </div>
            <div class="section-content">
                <h3>Instant Correlations (Pearson)</h3>
                <div class="correlation-matrix">
                    <div class="corr-item">
                        <div class="axes">ANG1 ‚Üî ANG2</div>
                        <div class="value" style="color: #28a745;">+0.862</div>
                    </div>
                    <div class="corr-item">
                        <div class="axes">ANG1 ‚Üî ANG3</div>
                        <div class="value" style="color: #6c757d;">+0.008</div>
                    </div>
                    <div class="corr-item">
                        <div class="axes">ANG2 ‚Üî ANG3</div>
                        <div class="value" style="color: #6c757d;">+0.063</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 30px;">Lagged Cross-Correlations (Max 1s lag)</h3>
                <div class="correlation-matrix">
                    <div class="corr-item">
                        <div class="axes">ANG1 ‚Üî ANG2</div>
                        <div class="value" style="color: #28a745;">+0.862</div>
                        <div class="lag">at lag +0.000s (+0 samples)</div>
                    </div>
                    <div class="corr-item">
                        <div class="axes">ANG1 ‚Üî ANG3</div>
                        <div class="value" style="color: #6c757d;">-0.138</div>
                        <div class="lag">at lag -0.961s (-667 samples)</div>
                    </div>
                    <div class="corr-item">
                        <div class="axes">ANG2 ‚Üî ANG3</div>
                        <div class="value" style="color: #6c757d;">-0.098</div>
                        <div class="lag">at lag -0.961s (-667 samples)</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Time Series Comparison Plots -->
        <div class="section">
            <div class="section-header" onclick="this.nextElementSibling.style.display=this.nextElementSibling.style.display=='none'?'block':'none'">
                <span>üìà Time Series Comparison</span>
                <span>‚ñº</span>
            </div>
            <div class="section-content">
                <div class="plot-grid">
                    <div class="plot-container">
                        <div class="plot-title">Original Signals</div>
                        <img src="resampled_signals_original.png" alt="Original">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">Filtered Signals</div>
                        <img src="resampled_signals_filtered.png" alt="Filtered">
                    </div>
                    <div class="plot-container">
                        <div class="plot-title">ANG1: Original vs Filtered</div>
                        <img src="signal_comparison.png" alt="Comparison">
                    </div>
                </div>
            </div>
        </div>
        
    </div>
</div>

<script>
// Keep all sections OPEN by default (so interactive Plotly graphs are visible)
document.addEventListener('DOMContentLoaded', function() {
    const contents = document.querySelectorAll('.section-content');
    contents.forEach(content => {
        content.style.display = 'block';  // Changed from 'none' to 'block'
    });
});

// Global expand/collapse functions
function expandAll() {
    const contents = document.querySelectorAll('.section-content');
    contents.forEach(content => {
        content.style.display = 'block';
    });
}

function collapseAll() {
    const contents = document.querySelectorAll('.section-content');
    contents.forEach(content => {
        content.style.display = 'none';
    });
}

</script>

</body>
</html>
